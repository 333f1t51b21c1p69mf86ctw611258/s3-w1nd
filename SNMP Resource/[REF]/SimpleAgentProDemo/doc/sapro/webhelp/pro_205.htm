<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
 <meta name="generator" content="Adobe RoboHelp 9" />
<meta name="OriginalFile" content="PRO_205.doc" />
<title>SIMPLESOFT Inc</title>
<link rel="stylesheet" href="pro_205.css" type="text/css" />
<script type="text/javascript" language="JavaScript">
//<![CDATA[
function reDo() {
  if (innerWidth != origWidth || innerHeight != origHeight)
     location.reload();
}
if ((parseInt(navigator.appVersion) == 4) && (navigator.appName == "Netscape")) {
	origWidth = innerWidth;
	origHeight = innerHeight;
	onresize = reDo;
}
onerror = null; 
//]]>
</script>
<style type="text/css">
<!--
div.WebHelpPopupMenu { position:absolute;
left:0px;
top:0px;
z-index:4;
visibility:hidden; }
-->
</style>
<script type="text/javascript" language="javascript1.2" src="whmsg.js"></script>
<script type="text/javascript" language="javascript" src="whver.js"></script>
<script type="text/javascript" language="javascript1.2" src="whproxy.js"></script>
<script type="text/javascript" language="javascript1.2" src="whutils.js"></script>
<script type="text/javascript" language="javascript1.2" src="whlang.js"></script>
<script type="text/javascript" language="javascript1.2" src="whtopic.js"></script>

</head>
<body link="blue" vlink="purple"><script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.gbWhTopic)
{
	var strUrl = document.location.href;
	var bc = 0;
	var n = strUrl.toLowerCase().indexOf("bc-");
	if(n != -1)
	{
		document.location.href = strUrl.substring(0, n);
		bc = strUrl.substring(n+3);
	}

	if (window.addTocInfo)
	{
	addTocInfo("Contents");
addTocInfo("Preface");
addTocInfo("Preface\nKey Features");
addTocInfo("Preface\nSimpleAgentEnterprise");
addTocInfo("Preface\nHardware and Software Requirements");
addTocInfo("Preface\nDocumentation Conventions");
addTocInfo("Chapter 1 Using SimpleAgentPro");
addTocInfo("Chapter 1 Using SimpleAgentPro\nHow to Use SimpleAgentPro");
addTocInfo("Chapter 1 Using SimpleAgentPro\nExample 1: Simulating a Device You Do Not Have");
addTocInfo("Chapter 1 Using SimpleAgentPro\nExample 2: Learning Variables from a Real Device");
addTocInfo("Chapter 1 Using SimpleAgentPro\nExample 3: Using Pre-learnt devices from the device library");
addTocInfo("Chapter 2 Installing SimpleAgentPro");
addTocInfo("Chapter 2 Installing SimpleAgentPro\nInstalling SimpleAgentPro on Linux (RedHat)");
addTocInfo("Chapter 2 Installing SimpleAgentPro\nInstalling SimpleAgentPro on Linux (RedHat)\nDirectory Structure for RedHat Linux");
addTocInfo("Chapter 2 Installing SimpleAgentPro\nInstalling SimpleAgentPro on Linux (RedHat)\nInstalling the Device Library");
addTocInfo("Chapter 2 Installing SimpleAgentPro\nInstalling SimpleAgentPro on Linux (RedHat)\nInstalling standard and enterprise-specific MIBs");
addTocInfo("Chapter 2 Installing SimpleAgentPro\nInstalling SimpleAgentPro on Linux (RedHat)\nInstalling the Sentinel Device Drivers for Linux");
addTocInfo("Chapter 2 Installing SimpleAgentPro\nInstalling SimpleAgentPro on SUN Solaris");
addTocInfo("Chapter 2 Installing SimpleAgentPro\nInstalling SimpleAgentPro in Windows NT 4.0/2000/XP");
addTocInfo("Chapter 2 Installing SimpleAgentPro\nInstalling SimpleAgentPro in Windows NT 4.0/2000/XP\nInstalling the Sentinel Device Drivers");
addTocInfo("Chapter 2 Installing SimpleAgentPro\nInstalling SimpleAgentPro in Windows NT 4.0/2000/XP\nDirectory Structure for Windows");
addTocInfo("Chapter 2 Installing SimpleAgentPro\nInstalling SimpleAgentPro in Windows NT 4.0/2000/XP\nInstalling the Device Library");
addTocInfo("Chapter 2 Installing SimpleAgentPro\nInstalling SimpleAgentPro in Windows NT 4.0/2000/XP\nInstalling standard and enterprise-specific MIBs");
addTocInfo("Chapter 2 Installing SimpleAgentPro\nInstalling SimpleAgentEnterprise on Linux (RedHat)");
addTocInfo("Chapter 3 Workspaces, Servers & Folders");
addTocInfo("Chapter 3 Workspaces, Servers & Folders\nAdding New Workspaces");
addTocInfo("Chapter 3 Workspaces, Servers & Folders\nOpening an Existing Workspaces");
addTocInfo("Chapter 3 Workspaces, Servers & Folders\nAdding Servers to a Workspace");
addTocInfo("Chapter 3 Workspaces, Servers & Folders\nRemoving Servers from Workspace");
addTocInfo("Chapter 3 Workspaces, Servers & Folders\nAdding Folders to Servers");
addTocInfo("Chapter 3 Workspaces, Servers & Folders\nAdding Maps to Servers");
addTocInfo("Chapter 3 Workspaces, Servers & Folders\nModifying a Server");
addTocInfo("Chapter 3 Workspaces, Servers & Folders\nRunning the Name Server as Service or Daemon");
addTocInfo("Chapter 3 Workspaces, Servers & Folders\nStopping a SimpleAgentPro Name Server");
addButton("show",BTN_TEXT,"Show","","","","",0,0,"","","");

	}
	if (window.writeBtnStyle)
		writeBtnStyle();

	if (window.writeIntopicBar)
		writeIntopicBar(1);

	
	

	if (window.setRelStartPage)
	{
	setRelStartPage("sapro.htm");

		autoSync(1);
		sendSyncInfo();
		sendAveInfoOut();
	}
}
else
	if (window.gbIE4)
		document.location.reload();

//-->
//]]></script>
<table border="0" cellspacing="0" cellpadding="0" style="margin-left:-1.0in;">
<tr style="page-break-inside:avoid;">
<td width="775" colspan="2" valign="top" style="width:581.55pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_title1"><span style="font-family:'Arial Narrow' ,'sans-serif';">SIMPLESOFT Inc.</span></p>
</td>
</tr>
<tr style=" page-break-inside:avoid;">
<td width="775" colspan="2" valign="top" style="width:581.55pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_title2"><span style="font-family:'Arial Narrow' ,'sans-serif';">SimpleAgentPro</span><sup><span style=" font-family:Symbol;">â</span></sup></p>
<p class="WD_title2"><span style=" font-family:'Arial Narrow' ,'sans-serif';">SimpleAgentEnterprise</span></p>
</td>
</tr>
<tr style=" page-break-inside:avoid;">
<td width="775" colspan="2" valign="top" style=" width:581.55pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_title3">User’s Guide</p>
</td>
</tr>
<tr style=" page-break-inside:avoid;">
<td width="775" colspan="2" valign="top" style=" width:581.55pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_title3">(Version 20.5)</p>
</td>
</tr>
<tr style=" page-break-inside:avoid;">
<td width="173" valign="top" style=" width:129.9pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Normal"></p>
</td>
<td width="602" valign="top" style=" width:451.65pt; padding:0in 5.4pt 0in 5.4pt;">
<p style=" margin-top:0in; margin-right:0in; margin-bottom:3.0pt; margin-left:.7pt;" class="WD_issuedate"><b><span style=" font-style:normal;">&#160;</span></b></p>
</td>
</tr>
<tr style=" page-break-inside:avoid;">
<td width="775" colspan="2" valign="top" style=" width:581.55pt; padding:0in 5.4pt 0in 5.4pt;">
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">&#160;</span></p>
</td>
</tr>
<tr style=" page-break-inside:avoid;">
<td width="173" valign="top" style=" width:129.9pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Normal">&#160;</p>
</td>
<td width="602" valign="top" style=" width:451.65pt; padding:0in 5.4pt 0in 5.4pt;">
<p style=" margin-left:.6pt;" class="WD_issuedate">&#160;</p>
</td>
</tr>
<tr style=" page-break-inside:avoid;">
<td width="173" valign="top" style=" width:129.9pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Normal">&#160;</p>
</td>
<td width="602" valign="top" style=" width:451.65pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Normal">&#160;</p>
</td>
</tr>
<tr style=" page-break-inside:avoid;">
<td width="173" valign="top" style=" width:129.9pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Normal">&#160;</p>
</td>
<td width="602" valign="top" style=" width:451.65pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Normal">&#160;</p>
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">&#160;</span></p>
</td>
</tr>
<tr style=" page-break-inside:avoid;">
<td width="173" valign="top" style=" width:129.9pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Normal">&#160;</p>
</td>
<td width="602" valign="top" style=" width:451.65pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
</td>
</tr>
<tr style=" page-break-inside:avoid;">
<td width="173" valign="top" style=" width:129.9pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Normal">&#160;</p>
</td>
<td width="602" valign="top" style=" width:451.65pt; padding:0in 5.4pt 0in 5.4pt;">
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">&#160;</span></p>
<p style=" margin-left:.5in;" class="WD_Caption">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</b> <b><span style=" font-size:14.0pt; line-height:115%;"><font size="4" style="font-size:14pt;">For Technical Support:</font></span></b></p>
<p class="WD_Normal"><span style=" font-size:14.0pt; line-height:115%;"><font size="4" style="font-size:14pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Email:&#160;&#160;&#160; <a href="mailto:support@simplesoft.com">support@simplesoft.com</a></font></span></p>
<p class="WD_Normal"><span style=" font-size:14.0pt; line-height:115%;"><font size="4" style="font-size:14pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Phone:&#160;&#160; (650)&#160; 965 4515</font></span></p>
</td>
</tr>
<tr style=" page-break-inside:avoid;">
<td width="173" valign="top" style=" width:129.9pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Normal"><span style=" display:none;">&#160;</span></p>
</td>
<td width="602" valign="top" style=" width:451.65pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Normal"><span style=" display:none;">&#160;</span></p>
</td>
</tr>
</table>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">&#160;</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SIMPLESOFT Inc.<br />
257 Castro Street, Suite 220.<br />
Mountain View, CA, 94041</p>
<p class="WD_Normal">Copyright 1994-2016 by SIMPLESOFT, Inc. All rights reserved. This publication is protected by the copyright laws of the United States and other countries, with all rights reserved. No part of this publication may be reproduced, stored in a retrieval system, translated, transcribed, or transmitted, in any form, or by any means, manual, electric, electronic, electromagnetic, mechanical, chemical, optical, or otherwise, without prior explicit written permission of SIMPLESOFT. Furthermore, SIMPLESOFT reserves the right to revise this publication and to make changes in content from time to time without obligation to provide notification of such revision or changes.</p>
<p class="WD_Normal">Printed in the United States of America.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>Trademarks</b></p>
<p class="WD_Normal">All trademarks or trade names that appear in this document are the property of their respective companies.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">December 2016</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_chapnonum"><a name="Contents" id="Contents">Contents</a></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Contents">Contents</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Preface">Preface</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Key_Features">Key Features</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#SimpleAgentEnterprise">SimpleAgentEnterprise</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Hardware_and_Software">Hardware and Software Requirements</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Documentation_Conventions">Documentation Conventions</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_1_Using">Chapter 1 Using SimpleAgentPro</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#How_to_Use_SimpleAgentPro">How to Use SimpleAgentPro</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Example_1_Simulating_a">Example 1: Simulating a Device You Do Not Have</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Example_2_Learning">Example 2: Learning Variables from a Real Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Example_3_Using_Pre">Example 3: Using Pre-learnt devices from the device library</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_2_Installing">Chapter 2 Installing SimpleAgentPro</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing">Installing SimpleAgentPro on Linux (RedHat)</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Directory_Structure_for">Directory Structure for RedHat Linux</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing_the_Device">Installing the Device Library</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing_standard_and">Installing standard and enterprise-specific MIBs</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing_the_Sentinel1">Installing the Sentinel Device Drivers for Linux</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing1">Installing SimpleAgentPro on SUN Solaris.</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing2">Installing SimpleAgentPro in Windows NT 4.0/2000/XP</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing_the_Sentinel">Installing the Sentinel Device Drivers</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Directory_Structure_for1">Directory Structure for Windows</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing_the_Device1">Installing the Device Library</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing_standard_and1">Installing standard and enterprise-specific MIBs</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing3">Installing SimpleAgentEnterprise on Linux (RedHat)</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_3_Workspaces">Chapter 3 Workspaces, Servers &amp; Folders</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Adding_New_Workspaces">Adding New Workspaces</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Opening_an_Existing">Opening an Existing Workspaces</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Adding_Servers_to_a">Adding Servers to a Workspace</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Removing_Servers_from">Removing<span>&#160;</span> Servers from<span>&#160;</span> Workspace</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Adding_Folders_to_Servers">Adding Folders to Servers</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Adding_Maps_to_Servers">Adding Maps to Servers</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Modifying_a_Server">Modifying a Server</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Running_the_Name_Server">Running the Name Server as Service or Daemon</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Stopping_a">Stopping a SimpleAgentPro Name Server</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Getting_Statistics_for">Getting Statistics for all currently running Maps</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Workspace_File_Format">Workspace File Format</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_4_Creating_Maps">Chapter 4 Creating Maps</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Using_the_Map_Menu">Using the Map Menu</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Creating_a_Map">Creating a Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Cloning_a_Map">Cloning a Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Modifying_a_Map">Modifying a Map<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;"><span>&#160;&#160;</span></span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Deleting_a_Map">Deleting a Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Drag_and_Drop_Devices">Drag and Drop Devices Across Maps</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Remove_from_Server">Remove from Server</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Getting_Statistics">Getting Statistics</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Downloading_TCL_Scripts">Downloading TCL Scripts to Devices in a Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Creating_Many_Maps_from">Creating Many Maps from an Existing Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Editing_Viewing_Log_files">Editing/Viewing Log files</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Editing_Viewing_Debug">Editing/Viewing Debug files</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Starting_Maps">Starting Maps</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Stoping_a_running_Map">Stoping a running Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Additional_Information">Additional Information About Map File Format</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_5_Compiling_MIB">Chapter 5 Compiling MIB Files</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Opening_the_MIB">Opening the MIB Compilation Window</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Compiling_MIB_Files_An">Compiling MIB Files: An Example</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Viewing_the_Contents_of">Viewing the Contents of a Compiled MIB File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Unloading_a_Compiled_MIB">Unloading a Compiled MIB</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Additional_Information1">Additional Information About Compiling MIBs</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_6_Creating">Chapter 6 Creating Variable Files</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Creating_Variables_from">Creating Variables from an MIB File</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Using_the_Default_Rules">Using the Default Rules File: An Example</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Additional_Information2">Additional Information About Creating Variables from a MIB</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Learning_Variables_from">Learning Variables from a Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Using_the_Learn_SNMP">Using the Learn SNMP Variables Window</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Dealing_with">Dealing with Lexicographical Errors During Learning</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Doing_Rate_Computation">Doing Rate Computation for Counter Variables</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Mapping_Learnt_IP">Mapping Learnt IP address in the variable file.</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Algorithms_Used_when">Algorithms Used when Learning Variables</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Editing_the_Variable_File">Editing the Variable File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Variable_Information">Variable Information File Format (*.var)</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Defines">Defines</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Includes">Includes</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Attribute_Information">Attribute Information</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Dynamic_Row_Creation">Dynamic Row Creation Information</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Community_String_Indexing">Community String Indexing</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_7_Creating">Chapter 7 Creating Devices</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#The_Devices_Menu">The Devices Menu<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;"><span>&#160;&#160;</span></span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Creating_a_Device">Creating a Device</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#General_Information_Tab">General Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#SNMP_Information_Tab">SNMP Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Telnet_CLI_Information">Telnet/CLI<span>&#160;</span> Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Http_local_Information">Http(local)<span>&#160;</span> Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#SSH_Information_Tab">SSH<span>&#160;</span> Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TL1_Information_Tab">TL1<span>&#160;</span> Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#FTP_Information_Tab">FTP<span>&#160;</span> Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TFTP_Information_Tab">TFTP<span>&#160;</span> Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Flow_Information_Tab">Flow<span>&#160;</span> Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Http_XML_Information_Tab">Http/XML Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Cloud_Information_Tab">Cloud Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#IPMI_Information_Tab">IPMI Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Netconf_Information_Tab">Netconf Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#CoAP_Information_Tab">CoAP Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#MQTT_Information_Tab">MQTT Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Modbus_Information_Tab">Modbus Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#BACnet_Information_Tab">BACnet Information Tab</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#HTTP_Client_Information">HTTP Client Information Tab</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Modifying_a_Device">Modifying a Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Deleting_a_Device">Deleting a Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Cloning_a_Device">Cloning a Device<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;"><span>&#160;&#160;</span></span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Precompiling_a_Device">Precompiling a Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Getting_Statistics_from">Getting Statistics from a Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Sending_TCL_Commands_to">Sending TCL Commands to a Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Sending_Traps_from_Device">Sending Traps from Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Enabling_Disabling_a">Enabling/Disabling a Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Stopping_Starting_a">Stopping/Starting a Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Restarting_a_Device">Restarting a Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Triggering_Flag_Action1">Triggering Flag Action on a Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Debug_SNMP_Packets_for_a">Debug SNMP Packets for a Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#MIB_Browser">MIB Browser</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_8_Running_the">Chapter 8 Running the Simulator</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Main_Screen">Main Screen</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Adding_Maps_to_the_Server">Adding Maps to the Server</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Starting_All_Maps_in_the">Starting All Maps in the Server or Folder</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Stopping_All_Maps_in_the">Stopping All Maps in the Server or Folder</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Starting_Selected_Map">Starting Selected Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Stopping_Selected_Map">Stopping Selected Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Checking_the_Simulation">Checking the Simulation Status of Selected Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Editing_Log_File_for">Editing Log File for Selected Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Editing_Debug_File_for">Editing Debug File for Selected Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Generating_traps_from">Generating traps from all devices in a Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Changing_the_State_of">Changing the State of Simulated Devices in a Running Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Triggering_Flag_Action">Triggering Flag Action on all Devices in a Map</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Editing_Any_File">Editing Any File/Creating New File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Creating_Modifying">Creating/Modifying Modeling File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Adjusting_the_Cache_Size">Adjusting the Cache Size</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Running_Scenarios">Running Scenarios</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Invoking_the_Topology">Invoking the Topology Editor</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#List_devices_in_a">List devices in a Topological View</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_9_Traps">Chapter 9 Traps<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;"><span>.</span></span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Formulating_Tcl_Commands">Formulating Tcl Commands (Step 1)</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Creating_traps_from_MIB"><span>Creating traps from MIB</span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Learning_traps_from"><span>Learning traps from Device</span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Editing_the_Tcl_Trap_File"><span>Editing the Tcl Trap File</span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Using_the_GUI_to_send">Using the GUI to send Traps at<span>&#160;</span> Device Level(Step 2a)</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Using_the_GUI_to_send1">Using the GUI to send Traps at Map Level(Step 2b)</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Interpreting_Tcl">Interpreting Tcl commands to emit traps (Step 2c)</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_10_Device_Library">Chapter 10 Device Library</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Opening_the_Device"><span>Opening the Device Library</span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Adding_Modifying1"><span>Adding/Modifying/Deleting Vendor Information</span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Adding_Modifying2"><span>Adding/Modifying/Deleting Category Information</span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Adding_Modifying"><span>Adding/Modifying/Deleting Device Information</span></a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_11_TCL_Commands">Chapter 11 TCL Commands</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Modeling_and_Setup_File">Modeling and Setup File Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Variable_Data_Store">Variable Data Store Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Trap_Related_Commands">Trap-Related Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Syslog_Related_Commands">Syslog-Related Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Agent_Parameter_Commands">Agent Parameter Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Agent_Behavior_Commands">Agent Behavior Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#PDU_Processing_Commands">PDU Processing Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TCL_SNMP_Debugging">TCL/SNMP Debugging Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Diffie_Hellman_Commands">Diffie-Hellman Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#DHCP_Commands">DHCP Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Stopwatch_Related">Stopwatch Related Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#FTP_Server_Commands">FTP Server Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#FTP_Client_Commands">FTP Client Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TFTP_Server_Commands">TFTP Server Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TFTP_Client_Commands">TFTP Client Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TOD_Related_Commands">TOD Related Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#NTP_Related_Commands">NTP Related Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Telnet_CLI_Related"><span>Telnet/CLI<span>&#160;</span> Related Commands</span></a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TL1_Related_Commands"><span>TL1 Related Commands</span></a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Netflow_Related_Commands">Netflow Related Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#SOAP_and_XML_Related">SOAP and XML Related Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#HTTP_Client_Related">HTTP Client Related Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Radius_Related_Commands">Radius Related Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#IPMI_Related_Commands">IPMI Related Commands</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Netconf_Related_Commands">Netconf Related Commands</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Commands_Available_for">Commands Available for Use in Setup Files Only</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_12_Telnet_CLI">Chapter 12 Telnet/CLI Support</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Telnet_Modeling_File">Telnet Modeling File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Learning_Telnet_CLI_from">Learning Telnet/CLI from Device</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Learning_Telnet_CLI">Learning Telnet/CLI using a Proxy</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Learning_Multiple">Learning Multiple Protocols using a Proxy</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_13_Http_Https">Chapter 13 Http/Https Support</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing_The_Apache">Installing The Apache Web Server</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Modify_Apache_“httpd">Modify Apache “httpd.conf” file</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Modify_“config_inp”_file">Modify “config.inp” file</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Start_the_Web_Server">Start the Web Server (Solaris Only)</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Configuring_The_Tcl">Configuring The Tcl HTTPd Server</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Learning_Http_from_Device">Learning Http from Device</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_14_SSH_Support">Chapter 14 SSH Support</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing_Openssh_On">Installing Openssh On Linux</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Starting_Sapro’s_sshd_on">Starting Sapro’s sshd on Linux</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Installing_Openssh_On1">Installing Openssh On Windows</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_15_TL1_Support">Chapter 15 TL1 Support</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TL1_Modeling_File">TL1 Modeling File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TL1_File_Editor">TL1 File Editor<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;"><span>&#160;</span></span></a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_16_Netflow">Chapter 16 Netflow Support</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Netflow_Tcl_Commands">Netflow Tcl Commands</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Netflow_usage_examples">Netflow usage examples</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Creating_Netflow_Data"><span>Creating Netflow Data file</span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Using_the_GUI_to_send2">Using the GUI to send Netflow Packets at<span>&#160;</span> Device Level</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Netflow_File_Editor">Netflow File Editor</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Version_5">Version 5</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Version_7">Version 7</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Version_8">Version 8</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Version_9"><span>Version 9</span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#IPFIX_support">IPFIX support</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sFlow_support">sFlow support</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_17_XML_SOAP">Chapter 17 XML/SOAP<span>&#160;</span> Support</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Soap_Modeling_File">Soap Modeling File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Creating_Soap_Modeling">Creating Soap Modeling file from WSDL files</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Learning_Soap_Responses">Learning Soap Responses from Real Devices</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Converting_caputured">Converting caputured packet data to Soap modeling file</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Editing_Soap_Modeling">Editing Soap Modeling Files</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Soap_usage_examples">Soap usage examples</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#XML_Modeling_File">XML Modeling File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Creating_XML_Playback">Creating XML Playback and Modeling Files</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Creating_XML_Files_from">Creating XML Files from Other Debug Files</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_18_IPMI_Support">Chapter 18 IPMI Support</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#IPMI_Modeling_File">IPMI Modeling File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Learning_IPMI_from_Device">Learning IPMI from Device</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_19_Netconf">Chapter 19 Netconf Support</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Netconf_Modeling_File">Netconf Modeling File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Creating_Netconf">Creating Netconf Modeling Files</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_20_HTTP_Client">Chapter 20 HTTP-Client Support</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#HTTP_Client_Modeling_File">HTTP Client Modeling File</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Creating_HTTP_Client">Creating HTTP Client Modeling Files</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_21_Wizards">Chapter 21 Wizards</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Cable_Wizard">Cable Wizard</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Discovery_Wizard">Discovery Wizard<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;"><span>&#160;&#160;</span></span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#CA_Spectrum_Wizard">CA Spectrum Wizard</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#HP_OpenView_Wizard">HP OpenView Wizard</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Castle_Rock_Wizard">Castle Rock Wizard</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Management_Platform">Management Platform Wizard</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Topo_Map_Generator_Wizard">Topo Map Generator Wizard</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Chapter_22_Topology">Chapter 22 Topology Editor</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Adding_Devices">Adding Devices</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Adding_Links">Adding Links</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Cloning_a_Host">Cloning a Host</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Generating_a_Map">Generating a Map<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;"><span>&#160;&#160;</span></span></a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Topology_Tcl_Library">Topology Tcl Library</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Topology_Data_File">Topology Data File</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Topology_Tcl_Library1">Topology Tcl Library</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Main_Procedures">Main Procedures<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;"><span>&#160;</span></span></a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Utility_Procedures">Utility Procedures</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Appendix_A_TCL_Modeling">Appendix A TCL Modeling File Format</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TCL_Scripts">TCL Scripts</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TCL_Commands_to_be">TCL Commands to be Executed When the Device is Started</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TCL_Commands_to_be1">TCL Commands to be Executed Based on Timer Expiration</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TCL_Commands_to_be3">TCL Commands to be Executed When the Device is Stopped</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TCL_Commands_to_be4">TCL Commands to be Executed When Flag Action is Triggered</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#TCL_Commands_to_be2">TCL Commands to be Executed as Part of PDU Processing</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Sample_Modeling_File">Sample Modeling File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Script_File_Editor">Script File Editor</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Appendix_B_Setup_File">Appendix B Setup File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Setup_File_Format_1">Setup File Format 1</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Setup_File_Format_2">Setup File Format 2</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Sample_Setup_File_Format">Sample Setup File (Format 1)</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Sample_Setup_File_Format1">Sample Setup File (Format 2)</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Appendix_C_Default_Rules">Appendix C Default Rules File</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Sample_Default_Rules_File">Sample Default Rules File</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Appendix_DModifying">Appendix D Modifying SimpleAgentPro Execution</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Config_inp_file">Config.inp file<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;"><span>&#160;&#160;</span></span></a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Appendix_E_Command_Line">Appendix E Command Line Invocation</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Running_Large">Running Large Simulations from the Command Line</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Appendix_F_Frequently">Appendix F Frequently Asked Questions</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Questions">Questions</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Appendix_G_Other">Appendix G Other Utilities</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Tools">Tools</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#saptraps">saptraps</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapwalk">sapwalk</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapwalk2">sapwalk2</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sappoll">sappoll</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapvfilter">sapvfilter</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapw2var">sapw2var</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapm2var">sapm2var</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapdrow">sapdrow</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapvsort">sapvsort</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapcomp">sapcomp</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapcnsl">sapcnsl</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapgwvar">sapgwvar</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapns">sapns</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#makemaps">makemaps</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#saptlog">saptlog</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapnwalk">sapnwalk</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapnw2var">sapnw2var</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#ssdiscover">ssdiscover</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapovlrn">sapovlrn</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#netlearn">netlearn</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#netcrproj">netcrproj</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sovlearn">sovlearn</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapt2tel">sapt2tel</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#tl1learn">tl1learn</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sscrlearn">sscrlearn</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#ssnmlearn">ssnmlearn</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#samapviewer">samapviewer</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#tellearn">tellearn</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sshlearn">sshlearn</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#modpcomp">modpcomp</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#saprqgen">saprqgen</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#saptrlrn">saptrlrn</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#supktcap">supktcap</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#supktcnv">supktcnv</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#ssnmpreq">ssnmpreq</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#soaplrn">soaplrn</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sapp2var">sapp2var</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#saptgen">saptgen</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#ssproxyfwd">ssproxyfwd</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#ipmilearn">ipmilearn</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#vmd2rrp">vmd2rrp</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#stpktcnv">stpktcnv</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sahdconv">sahdconv</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#sahrqgen">sahrqgen</a></font></span></span></p>
<p class="Toc3"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#ncdconv">ncdconv</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Appendix_H">Appendix H Troubleshooting</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Basic_Troubleshooting_on">Basic Troubleshooting on Windows</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Basic_Troubleshooting_on1">Basic Troubleshooting on Solaris</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Appendix_I_Cable">Appendix I Cable Provisioning Support</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Making_requests_to_a">Making requests to a DHCPv4 server directly:</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Making_requests_to_a1">Making requests to a DHCPv4 server via a simulated CMTS relay:</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Specifying_Additional">Specifying Additional options in the original DHCPv4 request</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Parsing_options_from_the">Parsing options from the initial DHCPv4 response</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Initial_DHCPv4_Requests">Initial DHCPv4 Requests:<span>&#160;</span> Sequential and Parallel</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Sending_subsequent">Sending subsequent DHCPv4 requests</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#StopWatch_style_commands">StopWatch style commands</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#CM_MTA_initialization">CM-MTA initialization sequence tcl script</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Cable_Wizards">Cable Wizards</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Using_Tcl_scripting_to">Using Tcl scripting to send DHCP requests in parallel.</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Appendix_J_Scalable">Appendix J Scalable Topologies</a></font></span></span></p>
<p class="Toc2"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Standard_SeedRouter">Standard SeedRouter-Router-Switch-Host</a></font></span></span></p>
<p class="Toc1"><span class="Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Copyright_Notices">Copyright Notices</a></font></span></span></p>
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" font-family:'Garamond' ,'serif'; letter-spacing:0pt;">&#160;</span></p>
<i><span style=" font-size:15.0pt; font-family:'Arial Narrow' ,'sans-serif';"><font size="5" style="font-size:15pt;"><br clear="all" /></font></span></i>
<p class="WD_Figures">Figures</p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_1_Create_New"><span style=" font-family:'Times New Roman' ,'serif';">Figure 1:&#160; Create New Workspace dialog box for SimpleAgentPro</span><span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">59</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_2_Create_New">Figure 2:&#160; Create New Workspace dialog box for SimpleAgentEnterprise<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">60</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_3_Open_an">Figure 3:&#160; Open an existing workspace dialog box<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">61</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_4_Add_Server_to"><span style=" font-family:'Times New Roman' ,'serif';">Figure 4:&#160; Add Server to Workspace dialog box</span><span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">62</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_5_Adding_Map_to_a"><span style=" font-family:'Times New Roman' ,'serif';">Figure 5:&#160; Adding Map to a Server</span><span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">64</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_6_Name_Server"><span style=" font-family:'Times New Roman' ,'serif';">Figure 6:&#160; Name Server Service/Daemon</span><span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">65</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_7_Create_Delete"><span style=" font-family:'Times New Roman' ,'serif';">Figure 7:&#160; Create/Delete/Properties Map dialog box</span><span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">68</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_8_Cloning_a_Map"><span style=" font-family:'Times New Roman' ,'serif';">Figure 8:&#160; Cloning a Map</span><span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">71</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_9_Optimizing_a_Map"><span style=" font-family:'Times New Roman' ,'serif';">Figure 9:&#160; Optimizing a Map</span><span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">75</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_10_MIB">Figure 10:&#160; MIB Compilation Window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">88</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_11_List_of">Figure 11:&#160; List of Directories to Search<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">90</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_12_Create">Figure 12:&#160; Create Variables from MIB window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">94</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_13_Learn_SNMP">Figure 13:&#160; Learn SNMP Variables from Device window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">100</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_14_Variable_File">Figure 14:&#160; Variable File Editor window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">107</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_15_Add_Modify">Figure 15:&#160; Add/Modify/Delete Device window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">124</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_16_IP_Options">Figure 16:&#160; IP Options screen in SimpleAgentEnterprise<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">126</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_17_DHCP_Advanced">Figure 17:&#160; DHCP Advanced Options<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">127</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_18_SNMP">Figure 18:&#160; SNMP Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">131</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_19_SNMPv3_Device">Figure 19:&#160; SNMPv3 Device Information<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">134</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_20_Telnet_CLI">Figure 20:&#160; Telnet/CLI Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">136</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_21_Http_local">Figure 21:&#160; Http(local) Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">139</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_22_SSH">Figure 22:&#160; SSH Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">142</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_23_TL1">Figure 23:&#160; TL1 Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">144</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_24_FTP">Figure 24:&#160; FTP Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">146</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_25_TFTP">Figure 25:&#160; TFTP Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">148</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_26_Flow">Figure 26:&#160; Flow Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">149</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_27_Http_XML_Soap">Figure 27:&#160; Http/XML/Soap Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">151</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_28_Cloud">Figure 28:&#160; Cloud Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">153</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_29_IPMI">Figure 29:&#160; IPMI Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">155</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_30_Netconf">Figure 30:&#160; Netconf Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">157</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_31_CoAP">Figure 31:&#160; CoAP Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">159</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_32_MQTT">Figure 32:&#160; MQTT Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">162</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_33_MQTT_Auto">Figure 33:&#160; MQTT Auto Publish window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">164</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_34_Modbus">Figure 34:&#160; Modbus Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">166</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_35_BACnet">Figure 35:&#160; BACnet Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">168</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_36_HTTP_Client">Figure 36:&#160; HTTP Client Information Tab window<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">170</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_37_Cloning_a">Figure 37:&#160; Cloning a Device<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">172</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_38_Precompiling_a">Figure 38:&#160; Precompiling a Device<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">173</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_39_Getting">Figure 39:&#160; Getting Statistics from a Device (All Protocols)<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">174</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_40_Getting"><span style=" font-family:'Times New Roman' ,'serif';">Figure 40:&#160; Getting Statistics from a Device (SNMP)</span><span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">175</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_41_Getting">Figure 41:&#160; Getting Statistics from a Device (Telnet)<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">175</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_42_Sending_TCL">Figure 42:&#160; Sending TCL Commands to a Device<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">176</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_43_SNMP_Debugging">Figure 43: SNMP Debugging of a Device<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">178</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_44_SNMP_MIB">Figure 44:&#160; SNMP MIB Browser<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">179</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_45_SimpleAgentPro">Figure 45:&#160; SimpleAgentPro Main Screen<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">181</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_46_Viewing_Map">Figure 46:&#160; Viewing Map Statistics<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">185</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_47_Setup_File">Figure 47:&#160; Setup File Dialog Box<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">187</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_48_Flag_Action">Figure 48:&#160; Flag Action Dialog Box<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">187</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_49_Scenario">Figure 49:&#160; Scenario Manager<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">189</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_50_Topological">Figure 50:&#160; Topological Map View<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">..</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">191</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_51_Create_Traps">Figure 51:&#160; Create Traps from MIB<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">194</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_52_Learning_traps">Figure 52:&#160; Learning traps from devices<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">196</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_53_Generating">Figure 53:&#160; Generating Traps.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">198</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_54_Device_Library">Figure 54:&#160; Device Library<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">204</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_55_Add_New_Vendor">Figure 55:&#160; Add New Vendor<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">205</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_56_Add_New">Figure 56:&#160; Add New Category<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">206</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_57_Add_New_Device">Figure 57:&#160; Add New Device<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">207</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_58_Learning">Figure 58:&#160; Learning Telnet responses from Device.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">324</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_59_Learning">Figure 59:&#160; Learning Telnet responses in Proxy mode.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">328</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_60_Learning_Multi">Figure 60:&#160; Learning Multi Protocol responses in Proxy mode.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">331</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_61_Learning_Http">Figure 61:&#160; Learning Http responses from Device.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">339</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_62_Create_Netflow">Figure 62:&#160; Create Netflow Data file from captured traffic<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">368</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_63_Generating">Figure 63:&#160; Generating Netflows.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">369</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_64_Netflow_File">Figure 64:&#160; Netflow File Editor. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">371</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_65_Editing_an">Figure 65:&#160; Editing an existing file. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">371</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_66_Adding_a_new">Figure 66:&#160; Adding a new flow. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">372</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_67_Specifying">Figure 67:&#160; Specifying Version 5 flow for IP address<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">373</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_68_Specifying">Figure 68:&#160; Specifying Numeric fields in Version 5 flows<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">374</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_69_Specifying">Figure 69:&#160; Specifying Version 7 flows<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">375</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_70_Choosing">Figure 70:&#160; Choosing Version 8 Aggregation type. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">376</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_71_Specifying">Figure 71:&#160; Specifying Version 8 flow. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">377</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_72_Adding_fields">Figure 72:&#160; Adding fields to a Version 9 template. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">378</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_73_New_field">Figure 73:&#160; New field added to a Version 9 template. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">379</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_74_Specifying">Figure 74:&#160; Specifying flow values in Version 9<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">379</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_75_Creating_Soap">Figure 75:&#160; Creating Soap Modeling file from WSDL.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">387</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_76_Learning_Soap">Figure 76:&#160; Learning Soap Responses from Device.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">389</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_77_Creating_Soap">Figure 77:&#160; Creating Soap Responses from WSDL.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">390</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_78_Converting">Figure 78:&#160; Converting Captured Packet data to Soap Modeling file. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">392</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_79_Creating_XML">Figure 79:&#160; Creating XML Playback File at Start.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">399</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_80_Creating_XML">Figure 80:&#160; Creating XML Playback File while recoding.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">401</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_81_Creating_XML">Figure 81:&#160; Creating XML Playback File upon completion. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">402</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_82_Selecting">Figure 82:&#160; Selecting Convert Debug to Simulation File. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">404</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_83_Converting">Figure 83:&#160; Converting Debug to XML Simulation File. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">404</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_84_Learning_IPMI">Figure 84:&#160; Learning IPMI responses from Device.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">416</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_85_Selecting">Figure 85:&#160; Selecting Record &amp; Create from the menu. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">423</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_86_Netconf">Figure 86:&#160; Netconf Modeling File with Record &amp; Create at Start.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">424</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_87_Creating">Figure 87:&#160; Creating Netconf Modeling File while recoding.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">426</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_88_Creating">Figure 88:&#160; Creating Netconf Modeling File upon completion. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">427</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_89_Cable_Wizard">Figure 89:&#160; Cable Wizard Main Dialog Box<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">432</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_90_Discovery">Figure 90:&#160; Discovery Wizard Main Box.. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">435</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_91_CA_Spectrum">Figure 91:&#160; CA Spectrum Discovery Wizard Main Dialog Box<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">437</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_92_CA_Spectrum">Figure 92:&#160; CA Spectrum Wizard Options Dialog. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">438</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_93_HP_OpenView">Figure 93:&#160; HP OpenView Discovery Wizard Main Dialog Box. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">439</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_94_HP_OpenView">Figure 94:&#160; HP OpenView Discovery Wizard Options Dialog Box. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">440</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_95_Castle_Rock">Figure 95:&#160; Castle Rock SNMPc Discovery Wizard Main Dialog Box. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">442</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_96_Castle_Rock">Figure 96:&#160; Castle Rock SNMPc Discovery Wizard Options Dialog Box. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">443</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_97_Management">Figure 97:&#160; Management Platform Wizard Main Dialog Box. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">445</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_98_Management">Figure 98:&#160; Management Platform Discovery Wizard Options Dialog Box. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">446</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_99_Topo_Map">Figure 99:&#160; Topo Map Generator Wizard Main Dialog Box. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">448</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_100_Topology">Figure 100:&#160; Topology editor<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">449</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_101_Inserting_a">Figure 101:&#160; Inserting a device<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">450</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_102_Inserting_a">Figure 102:&#160; Inserting a link<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">451</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_103_Cloning_a_host">Figure 103:&#160; Cloning a host<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">452</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_104_Generating_a">Figure 104:&#160; Generating a map<span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">.</span> <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">453</span></a></font></span></span></p>
<p class="WD_Tof"><span class="WD_Hyperlink"><span style=" color:blue;"><font color="blue" ><a href="#Figure_105_Configuration">Figure 105:&#160; Configuration. <span style=" color:windowtext; display:none; text-decoration:none; text-underline:none;">488</span></a></font></span></span></p>
<p class="WD_Normal"></p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_chapnonum"><a name="Prefacebc-1"></a><a name="Preface" id="Preface">Preface</a></p>
<p class="WD_Normal">Welcome to SimpleAgentPro, an easy-to-use network management agent simulator that can simulate an entire network of thousands of manageable devices.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentEnterprise extends the capabilities of SimpleAgentPro to allow even larger scale simulations by allowing many devices to share a single device context.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentPro agent simulator can simulate a device’s management interface. This lets you test or demonstrate device-specific network management applications without actually having the devices in hand.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_BodyText2"><span style=" color:windowtext;">SimpleAgentPro also provides support for a variety of networking protocols including SNMPv1/v2c/v3, Telnet/CLI, SSH, HTTP, HTTPs, TL1, DHCP, TFTP, FTP, TOD, NTP,&#160; NetFlow, sFlow, IPFIX , IPMI, REST, SOAP and even vSphere APIs making it a complete network management device simulator.</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentPro has many uses:</p>
<p class="WD_Normal">&#160;</p>
<ul style=" margin-top:0in;" type="disc">
<li>
<p>Development teams can develop management applications even when the agent to be managed is incomplete or absent.<span>&#160;</span> An MIB definition file is all it takes to allow SimpleAgentPro to mimic a device supporting that MIB.<span>&#160;</span> By allowing application and agent development efforts to proceed in parallel, SimpleAgentPro shortens development times.<span>&#160;</span></p>
</li>
</ul>
<p class="WD_Normal">&#160;</p>
<ul style=" margin-top:0in;" type="disc">
<li>
<p>Testing departments can test management applications without requiring large inventories of testing devices.<span>&#160;</span> SimpleAgentPro can simulate thousands of devices.<span>&#160;</span> Support for TCL scripting enables testers to control values returned by the agents and generate SNMP traps on demand. Using SimpleAgentPro, testing departments can perform extensive testing quickly, for better quality applications with a fast time to market.</p>
</li>
</ul>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<ul style=" margin-top:0in;" type="disc">
<li>
<p>Training or field sales groups can provide animated, mobile demonstrations of different networking scenarios without hauling and installing hardware.<span>&#160;</span> TCP scripts can generate traps, change interface status, create error conditions, and even make SNMP agents stop responding to SNMP requests.<span>&#160;</span> The initial network environment can be restored easily after the training.<span>&#160;&#160;</span></p>
</li>
</ul>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentEnterprise that supports simulation of large number of devices (20K+), and SimpleAgentRunner that supports the running of pre-existing maps with up to 20 devices on Sales/Training laptops are also available.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Key_Featuresbc-2"></a><a name="Key_Features" id="Key_Features">Key Features</a></p>
</div>
<p class="WD_Normal">SimpleAgentPro can create default instances from MIB files or learn them from an existing agent.&#160; A pre-learnt device library is also included.&#160; It supports all SNMP operations (Get, GetNext, Set, GetBulk). Each simulated SNMP device can have its own IP address, MIB and data variables.&#160; Support for other protocols like TL1, Telnet/CLI, HTTP, TFTP, FTP is also included to extend SimpleAgentPro from a SNMP simulator to a Network Management Device Simulator.&#160; Separately priced modules for Netflow and SOAP support are also available.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentPro allows you to:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_bullet">Define a map that is made of devices, in which each device is associated with a different MIB and variable file.</p>
<p class="WD_bullet">Control maps that are running on remote machines.</p>
<p class="WD_bullet">Control the value returned for each variable. SimpleAgentPro supports various built-in value types that return changing values for variables like Fixed, Sequential, Random, RandomUp, Clock Based, and LastSet values.</p>
<p class="WD_bullet">Create default instances from MIB files or learn instance information from an existing Agent. SimpleAgentPro stores the instance information in an easy-to-edit text format that you can modify to suit your needs.</p>
<p class="WD_bullet">Supports Telnet/CLI, SSH, HTTP, HTTPs, TL1, TFTP, FTP, DHCP, NetFlow, IPFIX, sFlow, TOD, SOAP, IPMI, XML/REST, CoAP and Netconf.</p>
<p class="WD_bullet">Associate user-defined TCL scripts to model advanced Agent behavior.</p>
<p class="WD_bullet">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="SimpleAgentEnterprisebc-3"></a><a name="SimpleAgentEnterprise" id="SimpleAgentEnterprise">SimpleAgentEnterprise</a></p>
</div>
<p style=" margin-left:0in; text-indent:0in;" class="WD_bullet">Since much of the functionality is similar between SimpleAgentPro and SimpleAgentEnterprise, this manual is shared by both.&#160; As SimpleAgentEnterprise extends the capabilities of SimpleAgentPro, most of the features for SimpleAgentPro are also available in SimpleAgentEnterprise.&#160; When the functionality is different, it is typically&#160; noted in the documentation.&#160;&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_bullet">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_bullet">The executable name of the main Gui program in SimpleAgentPro is called <b>sapro</b>, while the corresponding program in SimpleAgentEnterprise is called <b>saent</b>.&#160; Also the root directory for the installation on Linux is called saent instead of sapro.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Hardware_and_Softwarebc-4"></a><a name="Hardware_and_Software" id="Hardware_and_Software">Hardware and Software Requirements</a></p>
</div>
<p class="WD_Normal">SimpleAgentPro requires one of the following operating systems:</p>
<p class="WD_bullet">Solaris 2.6 or higher Operating System/ SUN Workstation</p>
<p class="WD_bullet">Microsoft Windows 2000/XP/Server 2003/2008/7 Operating System/PC</p>
<p class="WD_bullet">RedHatLinux 9.0 and above.</p>
<p class="WD_bullet">&#160;</p>
<p class="WD_bullet">Sample configuration for SimpleAgentPro would be:</p>
<p class="WD_bullet">Intel Xeon, 32bit, dual-core, 2.4 GHz 2MB Cache, 4GB RAM, 100Mb NIC.</p>
<p class="WD_bullet">Actual hardware requirements depend on the type of simulation.</p>
<p class="WD_bullet">&#160;</p>
<p class="WD_Normal">SimpleAgentEnterprise requires one of the following operating systems:</p>
<p class="WD_bullet">64 bit Linux RedHat Enterprise Linux 5.0 and above.</p>
<p class="WD_bullet">Sample configuration for SimpleAgentEnterprise would be:</p>
<p class="WD_bullet">Intel Xeon, 64bit, quad-core, 3.0 GHz 4MB Cache, 8GB RAM, 10Gb NIC.</p>
<p class="WD_bullet">Actual hardware requirements depend on the type of simulation.</p>
<p class="WD_bullet">&#160;</p>
<p class="WD_bullet">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Documentation_Conventionsbc-5"></a><a name="Documentation_Conventions" id="Documentation_Conventions">Documentation Conventions</a></p>
</div>
<p class="WD_Normal"><a name="IX_documentation_conventions" id="IX_documentation_conventions"></a>To help you locate and interpret information easily, this guide uses consistent visual cues and a few standard text formats listed in the table below:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Caption">Table 1:&#160; Documentation Conventions</p>
<table border="0" cellspacing="0" cellpadding="0" style=" margin-left:.5in;">
<tr>
<td width="127" valign="top" style=" border-left:none; border-right:none; border-top:solid gray 1.5px; border-bottom:solid gray 1.0px; width:95.4pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_TableHead">Convention</p>
</td>
<td width="378" valign="top" style=" border-left:none; border-right:none; border-top:solid gray 1.5px; border-bottom:solid gray 1.0px; width:283.3pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_TableHead">Meaning</p>
</td>
</tr>
<tr>
<td width="127" valign="top" style=" width:95.4pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Tables"><b><span style=" font-size:9.0pt; font-family:'Arial' ,'sans-serif';"><font size="1" style="font-size:9pt;">bold</font></span></b></p>
</td>
<td width="378" valign="top" style=" width:283.3pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Tables"><span style=" font-size:9.0pt; font-family:'Arial' ,'sans-serif';"><font size="1" style="font-size:9pt;">Denotes characters that you must type exactly as they appear. For example, if you are directed to type <b>dir</b>:, you should type all the bold characters exactly as they are printed.</font></span></p>
</td>
</tr>
<tr>
<td width="127" valign="top" style=" width:95.4pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Tables"><span style=" font-size:11.0pt; font-family:'Arial' ,'sans-serif';"><font size="3" style="font-size:11pt;">Arial</font></span> <span style=" font-size:9.0pt; font-family:'Arial' ,'sans-serif';"><font size="1" style="font-size:9pt;">font</font></span></p>
</td>
<td width="378" valign="top" style=" width:283.3pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Tables"><span style=" font-size:9.0pt; font-family:'Arial' ,'sans-serif';"><font size="1" style="font-size:9pt;">Denotes file and directory names.</font></span></p>
</td>
</tr>
<tr>
<td width="127" valign="top" style=" width:95.4pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Tables"><span style=" font-size:9.0pt; font-family:'Arial' ,'sans-serif';"><font size="1" style="font-size:9pt;">&lt;</font></span><i><span style=" font-size:11.0pt; font-family:'Book Antiqua' ,'serif';"><font size="3" style="font-size:11pt;">italic text</font></span></i><span style=" font-size:9.0pt; font-family:'Arial' ,'sans-serif';"><font size="1" style="font-size:9pt;">&gt;</font></span></p>
</td>
<td width="378" valign="top" style=" width:283.3pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Tables"><span style=" font-size:9.0pt; font-family:'Arial' ,'sans-serif';"><font size="1" style="font-size:9pt;">Denotes a placeholder or variable. You must provide the actual value. For example, the statement set snmp getcommunity &lt;<i>community string</i>&gt; requires you to substitute a value for the &lt;<i>community string</i>&gt; parameter. Italic text is also used to denote menu names and command names.</font></span></p>
</td>
</tr>
<tr>
<td width="127" valign="top" style=" width:95.4pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Tables"><span style=" font-size:9.0pt; font-family:'Arial' ,'sans-serif'; font-variant:small-caps;"><font size="1" style="font-size:9pt;">small capitals</font></span></p>
</td>
<td width="378" valign="top" style=" width:283.3pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Tables"><span style=" font-size:9.0pt; font-family:'Arial' ,'sans-serif';"><font size="1" style="font-size:9pt;">Indicates names of keys, key sequences, and key combinations. For example, <span style=" font-variant:small-caps;">alt+spacebar</span></font></span></p>
</td>
</tr>
<tr>
<td width="127" valign="top" style=" border-left:none; border-right:none; border-top:none; border-bottom:solid gray 1.5px; width:95.4pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Tables"><span style=" font-size:9.0pt; font-family:Courier New;"><font size="1" style="font-size:9pt;">Courier type</font></span></p>
</td>
<td width="378" valign="top" style=" border-left:none; border-right:none; border-top:none; border-bottom:solid gray 1.5px; width:283.3pt; padding:0in 5.4pt 0in 5.4pt;">
<p class="WD_Tables"><span style=" font-size:9.0pt; font-family:'Arial' ,'sans-serif';"><font size="1" style="font-size:9pt;">Sets off code examples and shows syntax spacing.</font></span></p>
</td>
</tr>
</table>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:3.0in; text-indent:0in;" class="WD_chaptitle"><a name="Chapter_1_Usingbc-6"></a><a name="Chapter_1_Using" id="Chapter_1_Using">Chapter 1<br />
Using SimpleAgentPro</a></p>
<p class="WD_Normal">SimpleAgentPro can simulate one or more SNMP devices. These SNMP devices are specified in a <i>map</i>. A device is basically characterized by the following pieces of information:</p>
<p class="WD_Normal">&#160;</p>
<ul style=" margin-top:0in;" type="disc">
<li>
<p><span><span><span>IP specific information:</span></span></span></p>
</li>
<li style="list-style: none; display: inline">
<ul style=" margin-top:0in;" type="circle">
<li>
<p><span><span><span>multihomed/proxy</span></span></span></p>
</li>
<li>
<p><span><span><span>IP address or DHCP</span></span></span></p>
</li>
</ul>
</li>
<li>
<p><span><span><span>SNMP information:</span></span></span></p>
</li>
<li style="list-style: none; display: inline">
<ul style=" margin-top:0in;" type="circle">
<li>
<p><span><span><span>Version (v1,v2c,v3)</span></span></span></p>
</li>
<li>
<p><span><span><span>Community, Context Names, authentication/privacy passwords</span></span></span></p>
</li>
<li>
<p><span><span><span>MIBs (compiled MIB File) and variables supported (variable file)</span></span></span></p>
</li>
</ul>
</li>
<li>
<p><span><span><span>Optional Telnet/CLI information:</span></span></span></p>
</li>
<li style="list-style: none; display: inline">
<ul style=" margin-top:0in;" type="circle">
<li>
<p><span><span><span>Telnet port</span></span></span></p>
</li>
<li>
<p><span><span><span>Telnet Modeling file</span></span></span></p>
</li>
</ul>
</li>
<li>
<p><span><span><span>Optional SSH information:</span></span></span></p>
</li>
<li style="list-style: none; display: inline">
<ul style=" margin-top:0in;" type="circle">
<li>
<p><span><span><span>SSH port</span></span></span></p>
</li>
<li>
<p><span><span><span>SSH/Telnet Modeling file</span></span></span></p>
</li>
</ul>
</li>
<li>
<p><span><span><span>Optional HTTP/HTTPs information:</span></span></span></p>
</li>
<li style="list-style: none; display: inline">
<ul style=" margin-top:0in;" type="circle">
<li>
<p><span><span><span>HTTP/HTTPs port</span></span></span></p>
</li>
<li>
<p><span><span><span>Htdocs directory</span></span></span></p>
</li>
<li>
<p><span><span><span>Cgi-bin directory</span></span></span></p>
</li>
</ul>
</li>
<li>
<p><span><span><span>Optional TL1 information:</span></span></span></p>
</li>
<li style="list-style: none; display: inline">
<ul style=" margin-top:0in;" type="circle">
<li>
<p><span><span><span>TL1 port</span></span></span></p>
</li>
<li>
<p><span><span><span>TL1 Modeling file</span></span></span></p>
</li>
</ul>
</li>
<li>
<p><span><span><span>Optional TFTP information:</span></span></span></p>
</li>
<li style="list-style: none; display: inline">
<ul style=" margin-top:0in;" type="circle">
<li>
<p><span><span><span>TFTP port</span></span></span></p>
</li>
<li>
<p><span><span><span>TFTP root directory</span></span></span></p>
</li>
</ul>
</li>
<li>
<p><span><span><span>Optional FTP information:</span></span></span></p>
</li>
<li style="list-style: none; display: inline">
<ul style=" margin-top:0in;" type="circle">
<li>
<p><span><span><span>FTP port</span></span></span></p>
</li>
<li>
<p><span><span><span>FTP root directory</span></span></span></p>
</li>
</ul>
</li>
<li>
<p><span><span><span>Optional Flow information:</span></span></span></p>
</li>
<li style="list-style: none; display: inline">
<ul style=" margin-top:0in;" type="circle">
<li>
<p><span><span><span>Flow collector</span></span></span></p>
</li>
<li>
<p><span><span><span>Flow data file</span></span></span></p>
</li>
<li>
<p><span><span><span>Flow frequency</span></span></span></p>
</li>
</ul>
</li>
<li>
<p><span><span><span>Optional XML/SOAP information:</span></span></span></p>
</li>
<li style="list-style: none; display: inline">
<ul style=" margin-top:0in;" type="circle">
<li>
<p><span><span><span>HTTP/HTTPs port</span></span></span></p>
</li>
<li>
<p><span><span><span>XML/Soap Modeling file or Playback file</span></span></span></p>
</li>
</ul>
</li>
</ul>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">NOTE: Flow support is present in optional, separately priced module.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Advanced simulation parameters for SNMP&#160; behavior such as response delay, trap manager, modeling file, and MTU size are optional.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentPro simulates multiple devices using a multi-homed scheme by using the</p>
<p class="WD_Normal">services provided by the operating system’s TCP/IP stack to register additional IP addresses for the workstation/PC on which it is running. As a result, SimpleAgentPro running on a workstation with a real IP address of 1.2.3.4, when simulating additional devices 1.2.3.10 and 1.2.3.11, will register these addresses with the TCP/IP stack on the workstation. From then on, when the workstation gets an SNMP request for 1.2.3.10, or 1.2.3.11, it will be processed by SimpleAgentPro and a response will be generated based on the variable and MIB files associated with these devices. A network management station will view these new IP addresses as if they were real devices with those IP addresses supporting the associated MIBs.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Occasionally, it is necessary to simulate devices that use community string based proxy schemes (like the simulation of chassis style devices that support <b>Entity MIB</b>).&#160; Support is also provided within SimpleAgentPro to support a proxy scheme in which it uses the community strings in the request SNMP packet to determine which device the request is intended for. If the map contains two devices with names dev1 and dev2, a SNMP request with a community string of public:dev1 will be sent to dev1, while a request containing a community string of public:dev2 will be sent to dev2.&#160;</p>
<b><span style=" font-size:18.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="5" style="font-size:18pt;"><br clear="all" /></font></span></b>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="How_to_Use_SimpleAgentProbc-7"></a><a name="How_to_Use_SimpleAgentPro" id="How_to_Use_SimpleAgentPro">How to Use SimpleAgentPro</a></p>
</div>
<p class="WD_Normal">Here are the basic steps for using SimpleAgentPro. The remaining chapters in this manual will guide you through each step.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_ListNumber1">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Install the SimpleAgentPro software.</p>
<p class="WD_ListNumber1">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Create a map.</p>
<p class="WD_Normal2">Choose <b><i>Map→New</i></b> to create a map<b><i>.</i></b> Give it a name and specify the other information.&#160; The Map is automatically added to the current server in your workspace.&#160; By default your local machine is the default server.</p>
<p class="WD_ListNumber">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Create user defined device types if the pre-learnt devices from the device library do not suit your needs.</p>
<p style=" text-indent:0in;" class="WD_ListNumber">To create user defined devices:</p>
<p style=" text-indent:0in;" class="WD_ListNumber">Compile the MIB files.</p>
<p style=" margin-left:1.0in;" class="WD_Normal2">Compile the selected MIBs from the MIB repository on your machine, using the built-in MIB Compiler under <b><i>MIB →Compile</i></b> to create a <span style=" font-family:'Arial' ,'sans-serif';">.cmf</span> file<b><i>.</i></b></p>
<p style=" text-indent:0in;" class="WD_ListNumber">Specify the variables to be supported.</p>
<p style=" margin-left:1.0in;" class="WD_Normal2">You can either create dummy variables under <b><i>Variable → Create From MIB,</i></b> or learn the variables to be supported from an existing Agent under <b><i>Variable→Learn from Device.</i></b> This will create a <span style=" font-family:'Arial' ,'sans-serif';">.var</span> file.</p>
<p class="WD_ListNumber">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Create one or more devices.</p>
<p class="WD_Normal2">Choose <b><i>Device→New</i></b> to add a device to the current map. Specify the IP address, and SNMP information like version, community strings and associated MIB (<span style=" font-family:'Arial' ,'sans-serif';">.cmf</span> file) and the variable (<span style=" font-family:'Arial' ,'sans-serif';">.var</span> file) files that were created in step 3 or select a device from the device library.</p>
<p class="WD_ListNumber">5.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Start the map by selecting the map and choosing <b><i>Map→Start</i></b></p>
<p class="WD_Normal2">The devices defined in the map are now ready to accept <i>Get/GetNext/Set/GetBulk SNMP</i> requests.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Example_1_Simulating_abc-8"></a><a name="Example_1_Simulating_a" id="Example_1_Simulating_a">Example 1: Simulating a Device You Do Not Have</a></p>
</div>
<p class="WD_Normal">This example walks you through the steps to be taken when you want to simulate a network box for which you have the MIBs, but the real network box itself does not exist or is not accessible.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_ListNumber">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Copy the MIB files to the <span class="WD_Style1">sapro/mib</span> directory or locate them on your machine.</p>
<p class="WD_ListNumber1">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Compile MIB files by selecting <b><i>MIB</i></b><b><i><span style=" font-family:Wingdings;">à</span>Compile</i></b>, selecting all the MIB files supported by the box, and specifying the output compiled MIB file name to be <span style=" font-family:'Arial' ,'sans-serif';">“networkbox.cmf”.</span></p>
<p class="WD_ListNumber1">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> After the MIB(s) are compiled, create a variable file that contains the data or instance information.&#160;<br />
Borrowing a database concept, the MIB file is just like a database schema, but it contains no data. Create a variable file by selecting <b><i>Variable</i></b><b><i><span style=" font-family:Wingdings;">à</span>Create from MIB</i></b><i>.&#160;</i> Specify the compiled MIB file to be <span style=" font-family:'Arial' ,'sans-serif';">“networkbox.cmf</span>” and the output variable file to be <span style=" font-family:'Arial' ,'sans-serif';">“networkbox.var</span>”.&#160; Change the number of rows that you need in each table from the default “2” if needed, and then click on <i>“Start”.</i>&#160; To have some tables contain 2 rows and others contain 5 rows, etc, refer to the “Defaults Rule File” for more information on how to specify additional settings.&#160;&#160; The SimpleAgentPro will now instantiate the MIB and create dummy instances for each MIB variable.</p>
<p class="WD_ListNumber1">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Edit the <span style=" font-family:'Arial' ,'sans-serif';">“networkbox.var”</span> file by selecting <b><i>Variable</i></b><b><i><span style=" font-family:Wingdings;">à</span>Edit</i></b> and change the values assigned to the variables if necessary.&#160; Valid default values are already present.</p>
<p class="WD_ListNumber">5.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" color:black;"><font color="black" >Make “localmachine” the current server and then c</font></span>reate a new map, which is just a container of devices, by selecting <b><i>Map</i></b><b><i><span style=" font-family:Wingdings;">à</span>New</i></b>, and specifying its name to be “myMap1”.&#160; This map will automatically be added to your workspace.</p>
<p class="WD_ListNumber">6.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Add a device to this map by selecting <b><i>Device</i></b><b><i><span style=" font-family:Wingdings;">à</span>New</i></b>.&#160; When the device definition dialog box appears, specify the IP Address of the device (for example, 192.168.10.1), and in the SNMP information tab, choose the variable file associated with the device to be “networkbox.var” (created in step 3), and the compiled MIB file to be “networkbox.cmf” (created in step2).&#160; You can use the rest of the default values, and click on <i>Create</i> and <i>Done</i>.&#160; You will now see an entry for this device in the main window.</p>
<p class="WD_ListNumber">7.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Start the map by selecting the map “myMap1” and choosing <b><i>Map→Start</i></b> to start the simulation of devices.&#160; Once the map is started, the simulated device can be “pinged” and it will be ready to receive SNMP requests. To check the status of the device, you can select <b><i>Map→Statistics</i></b>.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_ListNumber">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Example_2_Learningbc-9"></a><a name="Example_2_Learning" id="Example_2_Learning">Example 2: Learning Variables from a Real Device</a></p>
</div>
<p class="WD_Normal">This example will walk you through the steps to be taken when you want to simulate a network box for which you have the MIBs, and also have access to an actual network box.&#160; In this case, you can get a snapshot of the variables supported by the network box, and use that to seed the simulation.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_ListNumber">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Copy the MIB files to the <span class="WD_Style1">sapro/mib</span> directory or locate them on your machine.</p>
<p class="WD_ListNumber">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Compile MIB files by selecting <b><i>MIB</i></b><b><i><span style=" font-family:Wingdings;">à</span>Compile</i></b>, selecting all the MIB files supported by the box, and specifying the output compiled MIB file name to be <span style=" font-family:'Arial' ,'sans-serif';">“networkbox.cmf”.</span></p>
<p class="WD_ListNumber">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> After the MIB(s) are compiled, create a variable file containing the data or instance information.&#160; SimpleAgentPro contains a built-in “Learning” capability that can be used to learn variables from the actual device.&#160; Create a variable file by selecting <b><i>Variable</i></b><b><i><span style=" font-family:Wingdings;">à</span>Learn from Device</i></b><i>.&#160;</i> Specify the compiled MIB file to be <span style=" font-family:'Arial' ,'sans-serif';">“networkbox.cmf”</span> and the output variable file to be <span style=" font-family:'Arial' ,'sans-serif';">“networkbox2.var”</span>, and specify the IP address of the actual device to learn from, in the “Teacher IP Address” field.&#160; Change the community string, timeout, and retries if necessary.&#160; Clicking on the <i>Start</i> button will start the learning process, populating the <span style=" font-family:'Arial' ,'sans-serif';">“networkbox2.var”</span> file.&#160; If all the MIBs supported by the network box are not compiled, the variables in the absent MIBs are treated as “Read-Only” variables.&#160; These variables are still supported, but they will not support “Set” operations.</p>
<p class="WD_ListNumber">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Edit the <span style=" font-family:'Arial' ,'sans-serif';">“networkbox.var”</span> file by selecting <b><i>Variable</i></b><b><i><span style=" font-family:Wingdings;">à</span>Edit</i></b> if necessary, and change the values assigned to the variables.</p>
<p class="WD_ListNumber">5.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" color:black;"><font color="black" >Make “localmachine” the current server and then c</font></span>reate a new map, which is just a container of devices, by selecting <b><i>Map</i></b><b><i><span style=" font-family:Wingdings;">à</span>New</i></b>, and specifying its name to be <span style=" font-family:'Arial' ,'sans-serif';">“myMap2”</span>.&#160; This map will automatically be added to your workspace.</p>
<p class="WD_ListNumber">6.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Add a device to this map by selecting <b><i>Device</i></b><b><i><span style=" font-family:Wingdings;">à</span>New</i></b>.&#160; When the device definition dialog box appears, specify the IP Address of the device (for example, 192.168.10.2) and in the SNMP information tab, choose the variable file associated with the device to be <span style=" font-family:'Arial' ,'sans-serif';">“networkbox2.var”</span> (created in step 3), and the compiled MIB file to be <span style=" font-family:'Arial' ,'sans-serif';">“networkbox.cmf”</span> (created in step2). You can use the rest of the default values; click on <i>Create</i> and then <i>Done</i>. You will now see an entry for this device in the main window.&#160;</p>
<p class="WD_ListNumber">7.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> To create clone devices, select the device you just added and choose <b><i>Device→Clone</i></b><i>.&#160;</i> To create 10 devices, specify the count to be 10, and click on <i>Create</i> and then <i>Done</i>.&#160; This will add 10 additional devices to the map, starting from 192.168.10.3 to 192.168.10.12.</p>
<p class="WD_ListNumber">8.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Start the map by selecting the map and choosing <b><i>Map→Start</i></b>.&#160;&#160;&#160; Once the map is started, the simulated devices can be “pinged” and they will be ready to receive SNMP requests.&#160; To check the status of the devices, select <b><i>Map→Statistics.</i></b></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Example_3_Using_Prebc-10"></a><a name="Example_3_Using_Pre" id="Example_3_Using_Pre">Example 3: Using Pre-learnt devices from the device library</a></p>
</div>
<p class="WD_Normal">The latest version of the SimpleAgentPro also ships with a pre-learnt device library made up of popular devices from network equipment manufacturer’s like Cisco, Juniper, Extreme, Foundry, Riverstone, Brocade and many others.&#160;&#160; Please check if the device library is already installed on your machine, or contact SimpleSoft to retrieve it.&#160; Check if the device that you wish to simulate is already a part of this collection.&#160; The variable files (.var) and compiled MIB files (.cmf) are already provided.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_ListNumber">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" color:black;"><font color="black" >Make “localmachine” the current server and then c</font></span>reate a new map, which is just a container of devices, by selecting <b><i>Map</i></b><b><i><span style=" font-family:Wingdings;">à</span>New</i></b>, and specifying its name to be <span style=" font-family:'Arial' ,'sans-serif';">“myMap3</span>.&#160; This map will automatically be added to your workspace.</p>
<p class="WD_ListNumber">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Add a device to this map by selecting <b><i>Device</i></b><b><i><span style=" font-family:Wingdings;">à</span>New</i></b>.&#160; When the device definition dialog box appears, specify the IP Address of the device (for example, 192.168.10.2) and in the SNMP information tab, choose the device library option and select a device from the displayed list. You can use the rest of the default values; click on <i>Create</i> and then <i>Done</i>. You will now see an entry for this device in the main window.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The device library is NOT included in the demo/evaluation version.&#160; It is only available to current customers of SimpleAgentPro.</p>
</div>
<p class="WD_Normal2">&#160;</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p style=" margin-left:2.4in; text-indent:0in;" class="WD_chaptitle">Chapter 2<br />
<a name="Chapter_2_Installingbc-11"></a><a name="Chapter_2_Installing" id="Chapter_2_Installing">Installing SimpleAgentPro</a></p>
<p class="WD_Normal">This chapter describes how to install SimpleAgentPro software on your computer. Refer to the section appropriate to your operating system.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The “About” window, invoked from the Help menu, will list the version and as well as provide licensing information such as expiry date and the number of licensed devices.</p>
</div>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Installingbc-12"></a><a name="Installing" id="Installing">Installing SimpleAgentPro on Linux (RedHat)</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If you get an install.sh file from the CD or via email, use the following procedure:</p>
<p class="WD_ListNumber"><span style=" color:black;"><font color="black" >1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" color:black;"><font color="black" >Login as root.</font></span></p>
<p style=" margin-left:.75in; text-indent:-.25in;" class="WD_Default"><span style=" font-size:11.0pt; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:11.0pt; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;">Untar the binary provided on a Linux (RHEL) box:</font></span></p>
<p style=" margin-left:.75in;" class="WD_Default"><span style=" font-size:11.0pt; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &gt;tar xvfz install_&lt;sapro/saent&gt;_linux&lt;type_version&gt;_tar.zip</font></span></p>
<p style=" margin-left:.75in;" class="WD_Default"><span style=" font-size:11.0pt; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;">&#160;</font></span></p>
<p style=" margin-left:.75in; text-indent:-.25in;" class="WD_Default"><span style=" font-size:11.0pt; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:11.0pt; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;">Once you untar, you will see two files: a shell script and uudecode.</font></span></p>
<p style=" margin-left:.75in;" class="WD_Default"><span style=" font-size:11.0pt; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;">&#160;</font></span></p>
<p style=" margin-left:.75in; text-indent:-.25in;" class="WD_Default"><span style=" font-size:11.0pt; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:11.0pt; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;">Run the installation shell script and follow instructions. It contains the SimpleAgentPro executables and it will guide you through their installation</font></span></p>
<p class="WD_Default"><span style=" font-size:11.0pt; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &gt;./install_&lt;sapro/saent&gt;_linux&lt;type_version&gt;.sh</p>
<p style=" text-indent:0in;" class="WD_ListNumber"><span style=" color:black;"><font color="black" >This script will ask you if you wish to accept the license agreement and then suggest a directory to install the product, which you can override.&#160; Once the directory is selected, the script copies the files over to complete the installation.&#160; Follow the instructions in the script.</font></span></p>
<p class="WD_ListNumber"><span style=" color:black;"><font color="black" >5.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" color:black;"><font color="black" >Set the LD_LIBRARY_PATH environment variable.</font></span></p>
<p style=" margin-left:.5in; text-indent:0in;" class="WD_ListNumber">&#160;&#160;&#160;&#160;&#160;&#160; &gt;export LD_LIBRARY_PATH&#160; &lt;installdir&gt;/&lt;sapro/saent&gt;/usrlib</p>
<p class="WD_ListNumber"><span style=" color:black;"><font color="black" >6.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" color:black;"><font color="black" >Run the GUI application by going to the bin directory and starting the appropriate gui application.</font></span></p>
<p style=" text-indent:0in;" class="WD_ListNumber">&gt;cd&#160;&#160; &lt;installdir&gt;/&lt;sapro/saent&gt;/bin</p>
<p style=" text-indent:0in;" class="WD_ListNumber">&gt; ./sapro &amp; or ./saent &amp;</p>
<p style=" text-indent:0in;" class="WD_ListNumber"><span style=" color:black;"><font color="black" >Optionally you can also add <i>&lt;.install directory&gt;/&lt;</i></font></span><span style=" font-family:'Arial' ,'sans-serif'; color:black;"><font color="black" >sapro/saent&gt;/bin</font></span> <span style=" color:black;"><font color="black" >to your path, and set&#160; your environment to include a variable <i>&lt; SA_DIR&gt;</i> and make it point to the <i>&lt;.install directory&gt;/&lt;</i></font></span><span style=" font-family:'Arial' ,'sans-serif'; color:black;"><font color="black" >sapro/saent&gt;</font></span> <span style=" color:black;"><font color="black" >directory:</font></span></p>
<p class="WD_command"><span style=" color:black;"><font color="black" >setenv SA_DIR &lt;install directory&gt;/sapro</font></span></p>
<p style=" margin-left:.5in; text-indent:0in;" class="WD_ListNumber">&#160;</p>
<p class="WD_Normal">After installing, to get a license key from SimpleSoft, you need to provide the number displayed by the getmyid command that is present in the &lt;sapro/saent&gt;/bin directory.</p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_command"><span style=" font-family:Wingdings; font-weight:normal;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> ./getmyid</p>
<p class="WD_Normal">If running in a VM environment, to get a subscription license, please provide the output of the getmyip command that is also present in the &lt;sapro/saent&gt;/bin directory.</p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_command"><span style=" font-family:Wingdings; font-weight:normal;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> ./getmyip</p>
<p class="WD_command"><span style=" color:red;"><font color="red" >&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Directory_Structure_forbc-13"></a><a name="Directory_Structure_for" id="Directory_Structure_for">Directory Structure for RedHat Linux</a></p>
<p class="WD_Normal">The directory structure created by the SimpleAgentPro installation will look like the following:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /<span style=" font-family:'Arial' ,'sans-serif';">opt/SimpleAgentPro (or install directory)</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -Readme</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -sapro</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">bin (all the executables)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">map (user created map files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">mib (MIB files to be compiled)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">cmf (Compiled MIB Files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">var (Variables Files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">tcl (Modeling, Setup and Rules files0</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">log(map and sapns log files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">debug(tcl and snmp debug files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">multmap (sample maps and batch files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">work (suggested working directory)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">tcllib (tcl packages)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">util (telnet learner, network discovery…)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">nif (MIB node information files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">telnet (telnet information files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">tl1 (TL1 information files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">devices (device library files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">doc (help and manual files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">images (icon files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">wsp (workspace files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">http (http information files and cgi scripts)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">projects (wizard created maps and workspaces)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">tpg (topology editor files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">netflow (flow data files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">soap (soap data files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">api(java and perl api libraries)</span></p>
<p style=" margin-left:1.5in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal2">The install program adds the following files and sub-directories:</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Subsequent releases could contain a different list of files. For the most current list of files, refer to the README file for SimpleAgentPro.</p>
</div>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro</p>
<p class="WD_hang10"><i>readme</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">General description of SimpleAgentPro</span></p>
<p class="WD_hang10"><i>LICENSE</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">End-user shrink wrap license agreement</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/bin</p>
<p class="WD_hang10"><i>sapro</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Main SimpleAgentPro executable with graphical user interface (GUI)</span></p>
<p class="WD_hang10"><i>sathrd</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Multi-threaded SNMP simulator</span></p>
<p class="WD_hang10"><i>samapviewer</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Read-only display of all currently running maps</span></p>
<p class="WD_hang10"><i>smc</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">MIB compiler (Legacy)</span></p>
<p class="WD_hang10"><i>smibc</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">MIB compiler (Current)</span></p>
<p class="WD_hang10"><i>mibsort</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Object identifier sorter and dependency resolver</span></p>
<p class="WD_hang10"><i>saptraps</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to create trap tcl commands from MIB.</span></p>
<p class="WD_hang10"><i>sapwalk</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to carry out SNMP learning on devices.</span></p>
<p class="WD_hang10"><i>sapw2var</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to convert walk output into variable files.</span></p>
<p class="WD_hang10"><i>sapm2var</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to convert MIB&#160; into variable files.</span></p>
<p class="WD_hang10"><i>sapdrow</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to generate dynamic row templates from MIB.</span></p>
<p class="WD_hang10"><i>sapcomp</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to pre-compile variable files.</span></p>
<p class="WD_hang10"><i>sappoll</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to poll a device given a list of OIDs.</span></p>
<p class="WD_hang10"><i>sapvfilter</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to extract or replace a list of variables in a .var file.</span></p>
<p class="WD_hang10"><i>sapvsort</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to sort variable files in lexicographical order.</span></p>
<p class="WD_hang10"><i>sapns</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SimpleAgentPro name server for mapping map names to user API ports.</span></p>
<p class="WD_hang10"><i>sapcnsl</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SimpleAgentPro console to allow the remote monitoring and control of multiple maps.</span></p>
<p class="WD_hang10"><i>config.inp</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SimpleAgentPro configuration file</span></p>
<p class="WD_hang10"><i>saproapi.h</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">User API message format description.</span></p>
<p class="WD_hang10"><i>sa_pause</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Program that waits for the [<span style=" font-variant:small-caps;">enter</span>] key to be pressed</span></p>
<p class="WD_hang10"><i>sa_cmd</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample command line invocation script for csh</span></p>
<p class="WD_hang10"><i>Readme_hpov</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Instructions for integration with HPOpenView</span></p>
<p class="WD_hang10"><i>sapro_hpov.reg&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</i> <span style=" font-family:'Book Antiqua' ,'serif';">Registration file for HPOpenView integration.</span></p>
<p class="WD_hang10"><i>sapro_hpov.sh&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</i> <span style=" font-family:'Book Antiqua' ,'serif';">Shell script for HPOpenView integration.</span></p>
<p class="WD_hang10"><i>removeif</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">script to remove interface entries after incomplete cleanup by the sathrd process.</span></p>
<p class="WD_hang10"><i>runonemap</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">script to start one map in the background and wait until all the devices in it are started</span>.</p>
<p class="WD_hang10"><i>kallsathrd</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">script to stop all sathrd processes, by sending a ControlC (-INT) to them, and waiting for them to exit.</span></p>
<p class="WD_hang10"><i>waitforlog</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">script to block and wait until all the devices in a map have started.</span></p>
<p class="WD_hang10"><i>sapgwvar</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to create variable files for gateways based on simulated network topology.</span></p>
<p class="WD_hang10"><i>sapwalk2</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to do SNMP walks like sapwalk with SNMPv1, v2C and v3 support.</span></p>
<p class="WD_hang10"><i>saptftpd</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Separately priced add-on module to support TFTP server.</span></p>
<p class="WD_hang10"><i>saptclsh</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SAPro tcl shell with built-in libraries for telnet and network discovery</span>.</p>
<p class="WD_hang10"><i>savaredt</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SAPro, GUI based, variable file editor.</span></p>
<p class="WD_hang10"><i>satl1edt</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SAPro, GUI based, TL1 modelling file editor.</span></p>
<p class="WD_hang10"><i>samibbr</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SAPro, GUI based, MIB browser</span>.</p>
<p class="WD_hang10"><i>sapnwalk</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to learn from multiple devices in parallel.</span></p>
<p class="WD_hang10"><i>ssdiscover</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to get a list of devices that are SNMP manageable on the network.</span></p>
<p class="WD_hang10"><i>sapnw2var</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to convert list of devices and their walk files into workspace, maps and variable files.</span></p>
<p class="WD_hang10"><i>netlearn</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">script to start the discovery process and walk snmp devices.</span></p>
<p class="WD_hang10"><i>saprosshd</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">ssh server that interfaces with SimpleAgentPro</span>. (US only)</p>
<p class="WD_hang10"><i>saprossh.ini</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">ssh server initialization file.</span>&#160;</p>
<p class="WD_hang10"><i>saptopo</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SAPro, GUI based, topology editor.</span></p>
<p class="WD_hang10"><i>tl1learn</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">TL1 response learner application.</span></p>
<p class="WD_hang10"><i>ssnmpreq</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">snmp request generator.</span></p>
<p class="WD_hang10"><i>soaplrn</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">soap response learner/converter.</span></p>
<p class="WD_hang10"><span style=" color:red;"><font color="red" >&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/mib</p>
<p class="WD_hang10"><i>rfc1213.MIB</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Standard MIB-II MIB definition file</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/cmf</p>
<p class="WD_hang10"><i>mib2.cmf</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Output of the MIB compiler for RFC1213</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/map</p>
<p class="WD_hang10"><i>*.map</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample map files</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/var</p>
<p class="WD_hang10"><i>*.var</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample variable files for a device</span></p>
<p class="WD_hang10"><i>learn.rul</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample default overriding rules file</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/tcl</p>
<p class="WD_hang10"><i>dev1.tcl</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample modeling file for a device</span></p>
<p class="WD_hang10"><i>setup.tcl</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample setup file</span></p>
<p class="WD_hang10"><i>snmpdbg.tcl</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample SNMP debug file</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/telnet</p>
<p class="WD_hang10"><i>c1538.tel</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample telnet modeling file for Cisco 1538 hub</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/tl1</p>
<p class="WD_hang10"><i>*.tl1</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample TL1 modeling file</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/http</p>
<p style=" margin-left:0in; text-indent:.5in;" class="WD_hang10"><i>httpd.conf&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</i> <span style=" font-family:'Book Antiqua' ,'serif';">File in which http device configuration is put before</span></p>
<p style=" margin-left:0in; text-indent:.5in;" class="WD_hang10"><span style=" font-family:'Book Antiqua' ,'serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;the Apache Web server is restarted.</span></p>
<p class="WD_hang10"><i>default/htdocs &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</i> <span style=" font-family:'Book Antiqua' ,'serif';">Default Document root for devices simulationg http.</span></p>
<p class="WD_hang10"><i>default/cgi-bin &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</i> <span style=" font-family:'Book Antiqua' ,'serif';">Default ScriptAlias root for devices simulationg http.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/multmap</p>
<p class="WD_hang10"><i>README</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">readme file containing information about running multiple maps via command line.</span></p>
<p class="WD_hang10"><i>Map_a1-a5,b1-b5</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Ten sample map files, each containing 50 devices.</span></p>
<p class="WD_hang10"><i>runallmaps</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample script file that starts all these maps.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/doc</p>
<p class="WD_hang10"><i>sapro.pdf</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">manual in PDF format.</span></p>
<p class="WD_hang10"><i>webhelp</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">manual in HTML format.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/work</p>
<p class="WD_hang10"><span style=" font-family:'Book Antiqua' ,'serif';">The work directory will be empty.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/tcllib</p>
<p class="WD_hang10"><i>*.tcl</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Tcl packages and files required for saptclsh</span></p>
<p class="WD_hang10"><i>http/*.tcl &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</i> <span style=" font-family:'Book Antiqua' ,'serif';">Embedded Tcl based http server related files.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/util</p>
<p class="WD_hang10"><span style=" font-family:'Book Antiqua' ,'serif';">tel_sim.tcl&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Sample telnet learner script.</span></p>
<p class="WD_hang10"><span style=" font-family:'Book Antiqua' ,'serif';">discover.tcl&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Sample network learner script.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/log</p>
<p class="WD_hang10"><span style=" font-family:'Book Antiqua' ,'serif';">The log directory will be empty.</span></p>
<p class="WD_hang10"><span style=" font-family:'Book Antiqua' ,'serif';">&#160;</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/devices</p>
<p class="WD_hang10"><span style=" font-family:'Book Antiqua' ,'serif';">Contents of the device library&#160; installation.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/wsp</p>
<p class="WD_hang10"><span style=" font-family:'Book Antiqua' ,'serif';">Workspace files.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/projects</p>
<p class="WD_hang10"><span style=" font-family:'Book Antiqua' ,'serif';">Wizard created workspaces, maps and variable files.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/tpg</p>
<p class="WD_hang10"><i>*.tpg</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample Topology editor file</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">&lt;<i>install directory</i>&gt;/sapro/usrlib</p>
<p class="WD_hang10"><i>*.so</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Shared libraries</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Installing_the_Devicebc-14"></a><a name="Installing_the_Device" id="Installing_the_Device">Installing the Device Library</a></p>
<p class="WD_Normal">Over 30 pre-learnt devices from popular network equipment manufacturers like Cisco, Juniper, Brocade, Redback are provided along with their MIBs.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To install the device library, follow the following steps:</p>
<p class="WD_ListNumber">1<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Login as root.</p>
<p class="WD_ListNumber">2<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Run the install.sh self-extracting installation script in the Solaris/Devices subdirectory on the CD.&#160; It contains the device library files and it will guide you through their installation.</p>
<p class="WD_command"><span style=" color:black;"><font color="black" >&gt; install.sh</font></span></p>
<p class="WD_ListNumber">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> This script will ask you if you wish to accept the license agreement and then inquire about where the SimpleAgentPro program is currently installed.&#160; Once the SimpleAgentPro directory is specified, it will copy the files to the sapro/devices sub-directory.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Installing_standard_andbc-15"></a><a name="Installing_standard_and" id="Installing_standard_and">Installing standard and enterprise-specific MIBs</a></p>
<p class="WD_Normal">Over a few thousand MIBs are also available to ease in the searching and retrieval of MIB files from Vendor websites.&#160; MIB files include standard and experimental IETF MIBs as well as enterprise specific MIBs.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To install the MIB collection, follow the following steps:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_ListNumber">1<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Login as root.</p>
<p class="WD_ListNumber">2<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Run the install.sh self-extracting installation script in the Solaris/MIBs directory on the CD.&#160; It contains the MIB and it will guide you through their installation.</p>
<p class="WD_command"><span style=" color:black;"><font color="black" >&gt; install.sh</font></span></p>
<p class="WD_ListNumber">3<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> This script will ask you if you wish to accept the license agreement and then enquire about where the SimpleAgentPro program is currently installed.&#160; Once the SimpleAgentPro directory is specified, it will copy the files to the sapro/vendor-mibs sub-directory.</p>
<p style=" margin-left:.5in; text-indent:0in;" class="WD_ListNumber"><u><span style=" text-decoration:none;">&#160;</span></u></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Installing_the_Sentinel1bc-16"></a><a name="Installing_the_Sentinel1" id="Installing_the_Sentinel1"><span style=" color:black;"><font color="black" >Installing the Sentinel Device Drivers for Linux</font></span></a></p>
<p class="WD_Normal">The SimpleAgentPro on Linux also supports the hardware key.(dongle).&#160; It requires the hardware device drivers to be installed to recognize the key. The installation script for this can be found in the <i>dongle</i> subdirectory under sapro.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To install the dongle drivers, simply run the <b>sud_install.sh</b> script.&#160; To un-install the drivers, use the <b>sud_uninstall.sh</b> script.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Also setup the LD_LIBRARY_PATH environment variable to point to the &lt;install_dir&gt;/sapro/usrlib.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">When using bash shell:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> LD_LIBRARY_PATH=/opt/sapro/usrlib</p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> export LD_LIBRARY_PATH</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">When using csh:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> setenv LD_LIBRARY_PATH /opt/sapro/usrlib</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can also include the above instructions in the associated ~/.bashrc or ~/.cshrc files, so that next time you start the shell, it will already be set.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Installing1bc-17"></a><a name="Installing1" id="Installing1">Installing SimpleAgentPro on SUN Solaris.</a></p>
</div>
<p class="WD_Normal">Support for Sun Solaris is not available in version 17.5 and beyond.&#160;</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Installing2bc-18"></a><a name="Installing2" id="Installing2">Installing SimpleAgentPro in Windows NT 4.0/2000/XP</a></p>
</div>
<p class="WD_ListNumber">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Start Microsoft Windows NT.&#160;&#160; (This version needs Service Pack 4 and above.&#160; Contact SimpleSoft if you have Service Pack 3 or below.)</p>
<p class="WD_ListNumber">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Insert the installation CD in your CD drive (for example, drive E).</p>
<p class="WD_ListNumber">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> From the Start menu, choose <i>Run…</i> or the CD will automatically start the <span style=" font-family:'Arial' ,'sans-serif';">setup.exe</span> via <span style=" font-family:'Arial' ,'sans-serif';">autorun.inf</span>.</p>
<p class="WD_ListNumber">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> If the program does not start automatically from a CD, you can run <b><span style=" color:black;"><font color="black" >e:\WinNT\setup.exe</font></span></b> (assuming e: is the CD drive on your PC). This will start SimpleAgentPro installation program.</p>
<p class="WD_ListNumber">5.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Follow the instructions on the screen.</p>
<p class="WD_Normal2">The installation program will begin copying files from the diskette to the directory you specify. By default, it copies the install files to the <span class="WD_Style1">c:\Program Files\SIMPLEAGENTPRO</span> directory. After copying the files, SimpleAgentPro creates the Windows Program Group “SimpleAgentPro” and adds items to it.</p>
<p class="WD_ListNumber">6.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Install the Sentinel Device Drivers if you are using the dongle-based licensing scheme.</p>
<p class="WD_Normal2">See the procedure on 47.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Installing_the_Sentinelbc-19"></a><a name="Installing_the_Sentinel" id="Installing_the_Sentinel"><span style=" color:black;"><font color="black" >Installing the Sentinel Device Drivers</font></span></a></p>
<p class="WD_Normal"><span style=" color:black;"><font color="black" >If you are using Windows and are using the “dongle” based licensing, you must also install the Sentinel Device Drivers. These drivers are required for SimpleAgentPro to detect that the software protection key is connected to the parallel port.</font></span></p>
<p class="WD_Normal"><span style=" color:black;"><font color="black" >&#160;</font></span></p>
<p class="WD_Normal"><span style=" color:black;"><font color="black" >To install the drivers for Windows, use the following steps:</font></span></p>
<p class="WD_ListNumber"><i><span style=" color:black;"><font color="black" >1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span></i> <span style=" color:black;"><font color="black" >Go to the directory<br />
<i>\Program Files\SimpleAgentPro\dongle.</i></font></span></p>
<p class="WD_ListNumber"><span style=" color:black;"><font color="black" >2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" color:black;"><font color="black" >Launch the <i>Sentinel.exe</i> application in that directory.</font></span></p>
<p class="WD_ListNumber"><span style=" color:black;"><font color="black" >3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" color:black;"><font color="black" >Follow the installation instructions.</font></span></p>
<p style=" margin-left:.5in; text-indent:0in;" class="WD_ListNumber"><span style=" color:black;"><font color="black" >&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_Normal2"><span style=" color:black;"><font color="black" >Additional information on the latest dongle device drivers is available at <b>http://www.safenet-inc.com/</b>. Follow links to Tech Support, Sentinel SuperPro Device Driver.</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Directory_Structure_for1bc-20"></a><a name="Directory_Structure_for1" id="Directory_Structure_for1">Directory Structure for Windows</a></p>
<p class="WD_Normal2">The directory structure created by the installation will look like the following:</p>
<p class="WD_Normal2">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Arial' ,'sans-serif';">SimpleAgentPro (or install directory)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">bin (all the executables)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">api (java and perl api libraries)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">cloud (cloud related files) - only on Linux version</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">cmf (Compiled MIB Files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">debug (tcl, snmp debug files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">devices (device library files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">doc (help and manual files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">dongle (hardware key device drivers)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">http (http information files and cgi scripts)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">images (icon files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">install (license, readme files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">log (status, error and debug files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">map (user created map files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">mib (MIB files to be compiled)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">multmap (sample maps and batch files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">netflow (flow data files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">nif (MIB node information files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">projects (wizard created maps and workspaces)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">scenarios (tcl scenario script files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">soap (soap data files) - only on Linux version</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">tcl (Modeling, Setup and Rules files0</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">tcllib (tcl packages)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">telnet (telnet information files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">tl1 (TL1 information files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">tpg(toplogy editor files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">trap (tcl trap script files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">util (telnet learner, network discovery…)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">var (Variables Files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">work (suggested working directory)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">wsp (workspace files)</span></p>
<p style=" margin-left:1.75in; text-indent:-.75in;" class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">-<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Arial' ,'sans-serif';">xml(xml playback, modeling files</span></p>
<p style=" margin-left:1.75in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal2">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal2">The install program adds the following files and sub-directories to WinNT:</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Subsequent releases could contain a different list of files. For the most current list of files, refer to the README file for SimpleAgentPro.</p>
</div>
<p style=" text-indent:0in;" class="WD_DirStructure">\Program Files\SimpleAgentPro</p>
<p class="WD_hang10"><i>INSTALL.LOG</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Log file containing a list of files being installed</span></p>
<p class="WD_hang10"><i>UNWISE.EXE</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Uninstall utility</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">\Program Files\SimpleAgentPro\bin</p>
<p class="WD_hang10"><i>sapro.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Main SimpleAgentPro executable</span></p>
<p class="WD_hang10"><i>sathrd.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Multi-threaded SNMP simulator</span></p>
<p class="WD_hang10"><i>samapviewer.exe</i>&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Read-Only display of all currently running maps</span></p>
<p class="WD_hang10"><i>smc.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Console based MIBcompiler (Legacy)</span></p>
<p class="WD_hang10"><i>smibc.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Console based MIBcompiler (Current)</span></p>
<p class="WD_hang10"><i>mibsort.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Object identifier sorter and dependency resolver</span></p>
<p class="WD_hang10"><i>config.inp</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SimpleAgentPro configuration file</span></p>
<p class="WD_hang10"><i>tcl81.dll</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Tcl dll</span></p>
<p class="WD_hang10"><i>readme.txt</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Readme file</span></p>
<p class="WD_hang10"><i>saproapi.h</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">User API message format description.</span></p>
<p class="WD_hang10"><i>saptraps.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to create trap tcl commands from MIB.</span></p>
<p class="WD_hang10"><i>sapwalk.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to carry out SNMP walks on devices.</span></p>
<p class="WD_hang10"><i>sapw2var.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to convert walk output into variable files.</span></p>
<p class="WD_hang10"><i>sapns.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SimpleAgentPro name server for mapping map names to user API ports.</span></p>
<p class="WD_hang10"><i>sapcnsl.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SimpleAgentPro console to allow the remote monitoring and control of multiple maps.</span></p>
<p class="WD_hang10"><i>sapm2var.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to convert MIB&#160; into variable files.</span></p>
<p class="WD_hang10"><i>sapdrow.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to generate dynamic row templates from MIB.</span></p>
<p class="WD_hang10"><i>sapcomp.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to pre-compile variable files.</span></p>
<p class="WD_hang10"><i>sapvsort.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to sort variable files in lexicographical order.</span></p>
<p class="WD_hang10"><i>msifconf.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to display interface information and remove interface entries after incomplete cleanup by the sathrd process.</span></p>
<p class="WD_hang10"><i>chkstart.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to wait until all the devices in a map have started</span>.</p>
<p class="WD_hang10"><i>getmyid.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to determine the PCs hostid for non-dongle based licensing</span>.</p>
<p class="WD_hang10"><i>sapgwvar.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to create variable files for gateways based on simulated network topology.</span></p>
<p class="WD_hang10"><i>sapwalk2.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to do SNMP walks like sapwalk with SNMPv1, v2C and v3 support (without discovery).</span></p>
<p class="WD_hang10"><i>saptftpd.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Separately priced add-on module to support TFTP server</span>.</p>
<p class="WD_hang10"><i>saptclsh.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SAPro tcl shell with built-in support for telnet and network discovery.</span></p>
<p class="WD_hang10"><i>savaredt.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SAPro, GUI based, variable file editor.</span></p>
<p class="WD_hang10"><i>satl1edt.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SAPro, GUI based, TL1 modelling file editor.</span></p>
<p class="WD_hang10"><i>samibbr.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SAPro, GUI based, MIB browser</span>.</p>
<p class="WD_hang10"><i>sapnwalk.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to learn from multiple devices in parallel.</span></p>
<p class="WD_hang10"><i>ssdiscover.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to get a list of devices that are SNMP manageable on the network.</span></p>
<p class="WD_hang10"><i>sapnw2var.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to convert list of devices and their walk files into workspace, maps and variable files.</span></p>
<p class="WD_hang10"><i>sapcrlrn.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to get a list of devices that are SNMP manageable on the network from a Castle Rock topology database.</span></p>
<p class="WD_hang10"><i>netlearn.bat</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">script to start the discovery process and walk snmp devices to create a map.</span></p>
<p class="WD_hang10"><i>sscrlearn.bat</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">script to get a list of device from Castle Rock’s SNMPc and walk snmp devices to create a map.</span></p>
<p class="WD_hang10"><i>ssnmlearn.bat</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">script to start from a list of device from any network management platform and walk snmp devices to create a map.</span></p>
<p class="WD_hang10"><i>saptopo.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">SAPro, GUI based, topology editor.</span></p>
<p class="WD_hang10"><i>sappoller.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Utility to poll devices to retrieve variable file data.</span></p>
<p class="WD_hang10"><i>tl1learn.exe</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">TL1 response learner application.</span></p>
<p class="WD_hang10"><i>ssnmpreq</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">snmp request generator.</span></p>
<p class="WD_hang10"><i>soaplrn</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">soap response learner/converter.</span></p>
<p class="WD_hang10"><span style=" color:red;"><font color="red" >&#160;</font></span></p>
<p class="WD_hang10"><span style=" font-family:'Book Antiqua' ,'serif'; color:red;"><font color="red" >&#160;</font></span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">\Program Files\SimpleAgentPro\mib</p>
<p class="WD_hang10"><i>rfc1213.MIB</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Standard MIBII MIB definition file</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">\Program Files\SimpleAgentPro\cmf</p>
<p class="WD_hang10"><i>mib2.cmf</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Output of the MIB compiler for RFC1213</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\map</p>
<p class="WD_hang10"><i>*.map</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample map files</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\var</p>
<p class="WD_hang10"><i>*.var</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample variable files</span></p>
<p class="WD_hang10"><i>learn.rul</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample default overriding rules file</span></p>
<p class="WD_hang10"><i>learnerr.rul</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample “ignore walk error” rules file</span><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</i></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\tcl</p>
<p class="WD_hang10"><i>dev1.tcl</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample modeling file for a device</span></p>
<p class="WD_hang10"><i>setup.tcl</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample setup file</span></p>
<p class="WD_hang10"><i>snmpdbg.tcl</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample snmp debug file</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\multmap</p>
<p class="WD_hang10"><i>README</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">readme file containing information about running multiple maps via command line.</span></p>
<p class="WD_hang10"><i>Map_a1-a5,b1-b5</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Ten sample map files, each containing 50 devices.</span></p>
<p class="WD_hang10"><i>Runallmaps.bat</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample script file that starts all these maps.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\sapro \doc</p>
<p class="WD_hang10"><i>sapro.pdf</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">manual in PDF format.</span></p>
<p class="WD_hang10"><i>webhelp</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">manual in HTML format.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\log</p>
<p style=" text-indent:.5in;" class="WD_Normal">The <span style=" font-family:'Arial' ,'sans-serif';">\LOG</span> directory will be empty.</p>
<p class="WD_Normal">&#160;</p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\telnet</p>
<p class="WD_hang10"><i>c1538.tel</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample telnet modeling file for Cisco 1538 hub</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\tl1</p>
<p class="WD_hang10"><i>*.tl1</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample TL1 modeling file</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\sapro\http</p>
<p style=" margin-left:0in; text-indent:.5in;" class="WD_hang10"><i>httpd.conf&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</i> <span style=" font-family:'Book Antiqua' ,'serif';">File in which http device configuration is put before</span></p>
<p style=" margin-left:0in; text-indent:.5in;" class="WD_hang10"><span style=" font-family:'Book Antiqua' ,'serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; the Apache Web server is restarted.</span></p>
<p class="WD_hang10"><i>default/htdocs &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</i> <span style=" font-family:'Book Antiqua' ,'serif';">Default Document root for devices simulationg http.</span></p>
<p class="WD_hang10"><i>default/cgi-bin &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</i> <span style=" font-family:'Book Antiqua' ,'serif';">Default ScriptAlias root for devices simulationg http.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\tcllib</p>
<p class="WD_hang10"><i>*.tcl</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Tcl packages and files required for saptclsh</span></p>
<p class="WD_hang10"><i>http/*.tcl &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</i> <span style=" font-family:'Book Antiqua' ,'serif';">Embedded Tcl based http server related files.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\util</p>
<p class="WD_hang10"><i>tel_sim.tcl</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample telnet learning files.</span></p>
<p class="WD_hang10"><i>discover.tcl</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample discovery files.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\nif</p>
<p class="WD_hang10"><i>*.nif</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">MIB node information file</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\devices</p>
<p class="WD_hang10"><span style=" font-family:'Book Antiqua' ,'serif';">Contents of the device library&#160; installation.</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\wsp</p>
<p class="WD_hang10"><i>*.wsp</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Workspace files</span></p>
<p style=" text-indent:0in;" class="WD_DirStructure">Program Files\SimpleAgentPro\tpg</p>
<p class="WD_hang10"><i>*.tpg</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Book Antiqua' ,'serif';">Sample Topology editor file</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Installing_the_Device1bc-21"></a><a name="Installing_the_Device1" id="Installing_the_Device1">Installing the Device Library</a></p>
<p class="WD_Normal">Over 30 pre-learnt devices from popular network equipment manufacturers like Cisco, Juniper, Brocade, Redback are provided along with their MIBs.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To install the device library, simply run the “setup.exe” program in the Winnt/Devices subdirectory on the CD.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This script will ask you if you wish to accept the license agreement and then enquire about where the SimpleAgentPro program is currently installed.&#160; Once the SimpleAgentPro directory is specified, it will copy the files to the sapro/devices sub-directory.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Installing_standard_and1bc-22"></a><a name="Installing_standard_and1" id="Installing_standard_and1">Installing standard and enterprise-specific MIBs</a></p>
<p class="WD_Normal">Over a few thousand MIBs are also available to ease in the searching and retrieval of MIB files from Vendor websites.&#160; MIB files include standard and experimental IETF MIBs as well as enterprise specific MIBs.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To install the MIB collection, simply run the setup.exe in the Winnt/MIBs subdirectory on the CD. :</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This script will ask you if you wish to accept the license agreement and then enquire about where the SimpleAgentPro program is currently installed.&#160; Once the SimpleAgentPro directory is specified, it will copy the files to the sapro/vendor-mibs sub-directory.&#160; To have them appear in your MIB-&gt;Compile dialog box, you need to set your MIBDIRLIST to include ../vendor-mibs directory.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Installing3bc-23"></a><a name="Installing3" id="Installing3">Installing SimpleAgentEnterprise on Linux (RedHat)</a></p>
</div>
<p class="WD_Normal">Follow the installation instructions for SimpleAgentPro on Linux.&#160; As mentioned earlier, the main root directory for installation is called “saent” instead of “sapro”.&#160; Also the main GUI program is called “saent” instead of “sapro”.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The SimpleAgentEnterprise on Linux also supports the hardware key.(dongle).&#160; It requires the hardware device drivers to be installed to recognize the key. The installation script for this can be found in the <i>dongle</i> subdirectory under saent.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To install the dongle drivers, simply run the <b>drvr_install.sh</b> script.&#160; To un-install the drivers, use the <b>drvr_uninstall.sh</b> script</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Footer"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-left:1.9in; text-indent:0in;" class="WD_chaptitle">Chapter 3<br />
<a name="Chapter_3_Workspacesbc-24"></a><a name="Chapter_3_Workspaces" id="Chapter_3_Workspaces">Workspaces, Servers &amp; Folders</a></p>
<p class="WD_Normal">SimpleAgentPro includes support for workspaces and servers.&#160; This support was added in SimpleAgentPro ver 7.0.&#160; Support for folders was added in ver 12.5.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Servers are machines on which the SimpleAgentPro simulation software is running.&#160; The local machine “localmachine(L)” on which the SimpleAgentPro user interface is currently running is the default server.&#160;&#160; Normally there is just one server.&#160; But sometimes, especially when creating very large scale simulation, for performance and scalability reasons, it might be necessary to distribute the simulated devices over multiple machines.&#160; Each of these machines could be running simulated maps and devices.&#160; Using the&#160; SimpleAgentPro, it is now possible to control the simulation running in a distributed manner on multiple machines, through one user interface.&#160;&#160; This is achieved by adding additional servers to your current workspace, and using the services of the underlying operating system to “mount” the disks on the remote machine and make them accessible on the local machine.&#160; Each new server must be fully licensed, separately purchased copy of the SimpleAgentPro.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Workspaces are a collection of servers and the maps in them.&#160;&#160; They allow a more systematic grouping of related maps.&#160; A particular test environment might be made up of one set of maps, while duplicating another customer’s network might require a different set of maps.&#160; These two different configurations can be saved as separate workspaces.&#160; At one time only one workspace can be active.&#160; By default, the “default.wsp” workspace is used, and new maps defined are automatically added to it.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Folders are logical containers for maps.&#160; By default the maps reside in the sapro/maps directory.&#160; But sometimes, you might want to group maps together based on customers, or test setups.&#160; Folders allow you to group maps under one logical container. It does not map to a physical subdirectory.&#160; The maps themselves are actual files in physical directories. When no folder is specified, the maps are in the default top level folder (sapro/maps).</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Thus the containment hierarchy in the SimpleAgentPro GUI is</p>
<p class="WD_Normal">&#160;&#160; Workspaces – Servers – Maps – Devices or</p>
<p class="WD_Normal">&#160;&#160; Workspaces – Servers – Folders-(Sub folders)-Maps – Devices</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">If you are just starting out,&#160; and have just one server (your local machine) and can use the default workspace, you can skip this Chapter entirely, and come back to it when you need additional flexibility and scalability.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Adding_New_Workspacesbc-25"></a><a name="Adding_New_Workspaces" id="Adding_New_Workspaces">Adding New Workspaces</a></p>
</div>
<p class="WD_Normal">Use the <b><i>File-&gt;New Workspace</i></b> &#160;menu to create a new workspace</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"></p>
<p class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">Figure 7</span> shows the screen that is displayed when you create a new workspace.&#160; It essentially asks you to name the file that contains the workspace definitions.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img width="342" height="302" src="pro_205_files/image003.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_1_Create_New" id="Figure_1_Create_New"><span style=" font-family:'Times New Roman' ,'serif';">Figure</span></a> <span style=" font-family:'Times New Roman' ,'serif';">1</span><span style=" font-family:'Times New Roman' ,'serif';">:&#160; Create New Workspace dialog box for SimpleAgentPro</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The new workspace file will get created in the SimpleAgentPro/wsp directory.&#160; By default it will automatically include the localmachine as a server, and this new workspace will get displayed in the left pane of the main window of the SimpleAgentPro.&#160; Ability to have separate directories has been added in Version 11.5</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In SimpleAgentEnterprise, in order to facilitate large scale simulation, the workspace provides additional options as shown below:</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img width="430" height="502" src="pro_205_files/image005.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><a name="Figure_2_Create_New" id="Figure_2_Create_New">Figure</a> 2:&#160; Create New Workspace dialog box for SimpleAgentEnterprise</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Opening_an_Existingbc-26"></a><a name="Opening_an_Existing" id="Opening_an_Existing">Opening an Existing Workspaces</a></p>
</div>
<p class="WD_Normal">Use the <b><i>File-&gt;Open Workspace</i></b> &#160;menu to open an existing workspace</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Figure 2 screen that is displayed when you open an existing workspace.&#160; It essentially asks you to specify the file that contains the workspace definitions.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img width="563" height="419" src="pro_205_files/image007.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_3_Open_an" id="Figure_3_Open_an">Figure</a> 3:&#160; Open an existing workspace dialog box</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The selected workspace is loaded into the left hand side pane of the SimpleAgentPro main window, and the contents of the first map in the localmachine server are displayed.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Adding_Servers_to_abc-27"></a><a name="Adding_Servers_to_a" id="Adding_Servers_to_a">Adding Servers to a Workspace</a></p>
</div>
<p class="WD_Normal">Use the <b><i>File-&gt;Add Server to Workspace</i></b> menu to add servers to the workspace.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Figure 3 shows the screen that is displayed when you add servers.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img width="377" height="135" src="pro_205_files/image009.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_4_Add_Server_to" id="Figure_4_Add_Server_to"><span style=" font-family:'Times New Roman' ,'serif';">Figure</span></a> <span style=" font-family:'Times New Roman' ,'serif';">4</span><span style=" font-family:'Times New Roman' ,'serif';">:&#160; Add Server to Workspace dialog box</span></p>
<p class="WD_Normal">The disks on the remote machine, should have already been mounted/mapped and made accessible to programs on the local machine, prior to adding the remote server.&#160; The following fields need to be specified.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">IP Address</p>
<p class="WD_Normal">This is the IP address of the remote server that you wish to add to the workspace.&#160; Please note that the localmachine, is automatically added to the workspace, and you do not need to separately add it.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Name Server Port</p>
<p class="WD_Normal">This is the TCP port that is opened by the SimpleAgentProNameServer (sapns) on the remote server.&#160; By default, the number 2100 is used.&#160;&#160; If the sapns process is started on a different port, then that port number needs to be specified here.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Local Directory</p>
<p class="WD_Normal">This is the path on the local machine that points to the “mounted” SimpleAgentPro directories from the remote server.&#160;&#160; So, on Windows, if you have “Mapped Network Drive” from the remote server as say “G:\\SimpleAgentPro”, then that is what you would specify here.&#160; The mounting/mapping should be already done prior to adding a server.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Prior to actually starting maps on the remote server, you need to ensure that the “sapns” SAPro Name Server Process&#160; is running on that remote server.&#160; If it is not present, you should start it on the remote server via the command line option using the following command. “sapns &lt;port_number&gt; &lt;terminate_flag&gt;”&#160; eg: “sapns 2100 0”.</p>
</div>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Removing_Servers_frombc-28"></a><a name="Removing_Servers_from" id="Removing_Servers_from">Removing&#160; Servers from&#160; Workspace</a></p>
</div>
<p class="WD_Normal">Use the <b><i>Server-&gt;Remove from WorkSpace</i></b> menu to remove a server added to the workspace.&#160; The localmachine server cannot be removed.&#160; However it is not required to contain any maps.&#160;&#160; A confirmation screen is displayed prior to removing the server entry from the workspace file.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Adding_Folders_to_Serversbc-29"></a><a name="Adding_Folders_to_Servers" id="Adding_Folders_to_Servers">Adding Folders to Servers</a></p>
</div>
<p class="WD_Normal">Use the <b><i>Server-&gt;Manage Folder..</i></b> &#160;menu to create new folders, and add maps to existing folders and to rename existing folders.&#160; You can also select a folder and then right mouse click to get the pop-up menu that allows you to create subfolders or add new maps to the folder, or start and stop all the maps contained within a folder and its subfolders.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Adding_Maps_to_Serversbc-30"></a><a name="Adding_Maps_to_Servers" id="Adding_Maps_to_Servers">Adding Maps to Servers</a></p>
</div>
<p class="WD_Normal">Use the <b><i>Server-&gt;Add Map to Server..</i></b> &#160;menu to add an existing map to the server.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Figure 4 screen is displayed when you add maps to an existing server and it allows you to essentially choose the map file<span style=" color:black;"><font color="black" >(s)</font></span> from the SimpleAgentPro/map directory.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img width="563" height="419" src="pro_205_files/image011.jpg" alt="" /></p>
<p class="WD_Caption">&#160;</p>
<p class="WD_Caption"><a name="Figure_5_Adding_Map_to_a" id="Figure_5_Adding_Map_to_a"><span style=" font-family:'Times New Roman' ,'serif';">Figure</span></a> <span style=" font-family:'Times New Roman' ,'serif';">5</span><span style=" font-family:'Times New Roman' ,'serif';">:&#160; Adding Map to a Server</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The selected map<span style=" color:black;"><font color="black" >(s)</font></span> is loaded into the left hand side pane of the SimpleAgentPro main window, and the contents of map (the devices within it) are displayed on the right hand side pane.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Modifying_a_Serverbc-31"></a><a name="Modifying_a_Server" id="Modifying_a_Server">Modifying a Server</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Server→Properties</i></b><i>…</i> to modify an existing server. All information other than the IP Address can be modified.&#160; Server properties cannot be modified if any map within the server is currently started.&#160; To modify the maps contained in a map, select the map on the main screen through the <i>Browse</i> button, and then select the devices and submenus under <i>Device</i> to make the change.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Running_the_Name_Serverbc-32"></a><a name="Running_the_Name_Server" id="Running_the_Name_Server">Running the Name Server as Service or Daemon</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Server→ Name Server Service</i></b><i>…</i> to install the SimpleAgentPro Name Server to run as a service on Windows or a daemon on Linux. Once it is installed, the Name Server will always start on its own when the server boots up. With this window you can also get the running status of the name server, as well as stop and start it.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_algorithm">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img width="356" height="232" src="pro_205_files/image013.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_6_Name_Server" id="Figure_6_Name_Server"><span style=" font-family:'Times New Roman' ,'serif';">Figure</span></a> <span style=" font-family:'Times New Roman' ,'serif';">6</span><span style=" font-family:'Times New Roman' ,'serif';">:&#160; Name Server Service/Daemon</span></p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Stopping_abc-33"></a><a name="Stopping_a" id="Stopping_a">Stopping a SimpleAgentPro Name Server</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Server→Stop Name Server</i></b><i>…</i> to stop a currently running SimpleAgentPro Name Server Process (sapns) on the selected server.&#160; To start it again, if running remotely, you will have to manually start the sapns using the command line option, as described earlier. Note that if the name server is installed as a server/daemon, use the Name Server Service (or Daemon) window to start and stop it.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Getting_Statistics_forbc-34"></a><a name="Getting_Statistics_for" id="Getting_Statistics_for">Getting Statistics for all currently running Maps</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Server→Statistics for All Maps</i></b><i>…</i> to see the total statistics for all the currently running maps.&#160; The statistics displayed per map include the sum total for all the devices I in that map.&#160; This is a good way to get a global perspective on what is happening in your large scale simulation.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Workspace_File_Formatbc-35"></a><a name="Workspace_File_Format" id="Workspace_File_Format">Workspace File Format</a></p>
</div>
<p class="WD_Normal">The workspace file is a simple text file that uses a XML like format to describe the list of servers and the maps in them.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The sample contents of a workspace file are shown below.</p>
<p class="WD_Normal">&#160;</p>
<p style=" text-autospace:none;" class="WD_Normal"><span class="WD_Style1">&lt;WorkSpace</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Release = "2.0"</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WorkSpaceSpecific = "0"</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPRangeChecked = "0"&gt;</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Server</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPAddress = "localmachine"</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ServicePort = "2100"</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; LocalMappedDir = ".\.."&gt;</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Map</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Name = "sample.map"</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;/Server&gt;</span></p>
<p class="WD_Normal"><span class="WD_Style1">&lt;/WorkSpace&gt;.&#160;</span></p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p style=" margin-left:3.9in; text-indent:0in;" class="WD_chaptitle"><a name="Chapter_4_Creating_Mapsbc-36"></a><a name="Chapter_4_Creating_Maps" id="Chapter_4_Creating_Maps">Chapter 4<br />
Creating Maps</a></p>
<p class="WD_Normal">The first step in working with SimpleAgentPro is creating a map for the SNMP device(s) you want to simulate. You will then associate the map with specific devices and MIBs.&#160; This map will then get added to your “Workspace” which is simply a collection of maps.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This chapter describes how to use the SimpleAgentPro Map menu to create, modify, or delete maps, get map statistics, and download TCL files to maps. It also provides a description of the map file format.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Using_the_Map_Menubc-37"></a><a name="Using_the_Map_Menu" id="Using_the_Map_Menu">Using the Map Menu</a></p>
</div>
<p class="WD_Normal">Use the <b><i>Map</i></b> menu to create, delete, and modify a map. The <b><i>Map</i></b> menu also contains commands for getting status and controlling a currently executing map.</p>
<p align="center" style=" text-align:center;" class="WD_Picture"></p>
<p class="WD_Normal"><span style=" font-family:'Times New Roman' ,'serif';">Figure 7</span> shows the screen that is displayed when you create/delete/properties map.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img width="383" height="337" src="pro_205_files/image015.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_7_Create_Delete" id="Figure_7_Create_Delete"><span style=" font-family:'Times New Roman' ,'serif';">Figure</span></a> <span style=" font-family:'Times New Roman' ,'serif';">7</span><span style=" font-family:'Times New Roman' ,'serif';">:&#160; Create/Delete/Properties Map dialog box</span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Creating_a_Mapbc-38"></a><a name="Creating_a_Map" id="Creating_a_Map">Creating a Map</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Map→New..</i></b> to define a new map. A map is essentially a named container of one or more devices. This is the container that is simulated by SimpleAgentPro.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Information about a particular map is stored in the <span style=" font-family:'Arial' ,'sans-serif';">.map</span> file in the <i>&lt;install directory</i><span style=" text-transform:uppercase;">&gt;</span><span style=" font-family:'Arial' ,'sans-serif'; text-transform:uppercase;">/map</span> subdirectory.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Map Name</p>
<p class="WD_Normal">This is the name of the map. The information about this map is stored in a file with the same name.&#160;&#160; The current directory where the map actually resides is also shown above.&#160; Please be aware that non-alphanumeric characters (! " # $ % &amp; ^ &amp; ' ( ) * space { } [] @ ~ ) should be avoided for a map name.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">User Name</p>
<p class="WD_Normal">This is an optional field that can contain a name of the tester to help you associate additional information with the map.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Optional Setup File</p>
<p class="WD_Normal">This is an optional field that allows you to associate a setup file with a map, that will be automatically interpreted after all the devices in the map are started.&#160; By default, it is left blank.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Optional User Data</p>
<p class="WD_Normal">This is an optional “user cookie” field that allows you to associate a string value with a map.&#160; This value can be accessed by device and map tcl scripts by using the SA_getmapuserdata&#160; tcl command.&#160;&#160; This allows the same setup/modeling files to be shared among many maps and yet exhibit slightly different behavior based on the data value specified in the map files.&#160; By default, it is left blank.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Optional Interface Id</p>
<p class="WD_Normal">This is an optional field that allows the user to explicitly associate the devices in a map with a specific interface card on his machine.&#160; All devices contained in this map will be started on the specified interface card, when doing multihomed IP.&#160; By default, it is left blank</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Optional Start Interface # (For Solaris 2.7 and below only)</p>
<p class="WD_Normal">On Solaris 2.7 and below, this optional field allows you to specify the starting interface number to be used when adding IP addresses to the native TCP/IP stack.&#160; Specifying non-conflicting numbers allows you to run multiple maps at the same time, without IP addresses of devices in one map, overwriting the IP addresses of the devices in the previously started map.&#160;&#160; By default, it is left blank.&#160; In the previous versions, the starting interface number could be specified under <b><i>Map→Start Interface</i></b>.&#160; Now it can be saved with the map definition itself.&#160; By default, it is left blank</p>
<p class="WD_MIBObject">Separator</p>
<p class="WD_Normal">In the proxy mode, SimpleAgentPro uses a community string-based proxy scheme to identify the device for which the request is intended. Thus, the community string in the request is assumed to be made up of <i>&lt;privilege identifier&gt;&lt;separator&gt;&lt;device identifier&gt;.</i>&#160; This variable defines the separator character used in the community string. The default character is ‘:’.&#160;&#160; In cases where no separator is used and the privilege identifier is the same as the device identifier, the special keyword "NONE" can be used.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Optional Dynamic Instance Size</p>
<p class="WD_Normal">This is an optional field that allows the user to explicitly specify the maximum number of dynamic instances created for the map.&#160; By default, if no value is specified in the map properties, the value specified in the config.inp file is used.&#160; Setting it to a larger number allows you to create lots of dynamic rows.&#160; Setting it to a smaller number reduces the amount of memory pre-allocated if you are not going to need support for dynamic addition of rows to SNMP tables.</p>
<p class="WD_MIBObject">Optional Cache Size</p>
<p class="WD_Normal">This is an optional field that allows the user to explicitly specify the cache size to be used when simulating devices in a particular map.&#160; By default, if no value is specified in the map properties, the value specified in the config.inp file is used.&#160; SimpleAgentPro uses an internal cache that contains a hash table for faster retrieval and processing of the information in flat ASCII files. A larger number will result in faster processing of Get/GetNext/Set requests. But making it too large may cause it to be unable to allocate the required memory.</p>
<p class="WD_MIBObject">Optional TPG File</p>
<p class="WD_Normal">This is an optional field that allows the user to associate a topology file created via the topology editor with the map.&#160; If this file is present, it allows the GUI to show an additional view of the map that displays the connectivity information.&#160; This field has been added in version 14.5</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Description</p>
<p class="WD_Normal">This is an optional field that can contain free-format text to help you associate additional information with a map.</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Older map files (prior to release 3.0) allowed the user to specify the UDP port on which the agents expect to receive SNMP requests in the map file.&#160; This information is now associated with each device, rather than the map containing the devices.&#160;&#160; Older map file formats continue to be supported in subsequent releases.</p>
</div>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Cloning_a_Mapbc-39"></a><a name="Cloning_a_Map" id="Cloning_a_Map">Cloning a Map</a></p>
</div>
<p class="WD_Normal">Select a map you want to clone and then choose <b><i><span style=" font-family:'Arial' ,'sans-serif';">Map→Clone</span></i></b> to create additional maps with autoincremented contents. SimpleAgentPro displays the dialog box shown below.</p>
<p class="WD_algorithm">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img width="330" height="440" src="pro_205_files/image017.jpg" alt="" /></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Caption"><a name="Figure_8_Cloning_a_Map" id="Figure_8_Cloning_a_Map"><span style=" font-family:'Times New Roman' ,'serif';">Figure</span></a> <span style=" font-family:'Times New Roman' ,'serif';">8</span><span style=" font-family:'Times New Roman' ,'serif';">:&#160; Cloning a Map</span></p>
<p class="WD_MIBObject">Number of Times to Clone</p>
<p style=" margin-bottom:11.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">Specify the number of new maps you want to create by cloning.</span></p>
<p class="WD_MIBObject">Map Name Prefix</p>
<p style=" margin-bottom:11.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">Specify the prefix to be prepended to the names of the newly created maps. A number starting with “1” will be appended at after the prefix for each newly created map. Thus if you specify “map” in this field, the newly created maps will be named map_1.map, map2.map … and so on.</span></p>
<p class="WD_MIBObject">Increase each subnet by:</p>
<p class="WD_Normal">Specify the subnet increment to be used. If the original map has three devices, 192.168.100.1, 192.168.100.2, and 192.168.100.3, then if you select the subnet increment to 1, and the number of times to clone to be 1, a new map will be created with 3 devices having addresses 192.168.101.1, 192.168.101.2, and 192.168.101.3.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Increase each IP by:</p>
<p class="WD_Normal">Specify the IP increment to be used. If the original map has three devices, 192.168.100.1, 192.168.100.2, and 192.168.100.3, then if you select the IP increment to 3, and the number of times to clone to be 1, a new map will be created with 3 devices having addresses 192.168.100.4, 192.168.100.5, and 192.168.100.6. (3 will be added to each of the addresses in the map)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Starting Mac Address</p>
<p class="WD_Normal">If the devices in the original map have associated mac addresses, then the starting mac address is typically set to the largest address in the original map. Mac addresses for each device in the cloned maps are sequentially assigned starting from this address.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Autoincrement Topology and HTTP info</p>
<p class="WD_Normal">If the topology data checkbox for&#160; IPAddresses or Mac Addresses is selected, then those addresses are also incremented.&#160; There is no check to see if the incremented addresses overlap. You can specify a different “Increase by" value for the topology data fields.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Similarly, if the Autoincrement checkbox for IP address based HTTP(s) document and script root directories is selected, and if the original device to be cloned contained its own IP address as part of the directory name, then the document and script path names in the cloned devices will also contain the cloned device’s IP address.&#160; The cloning process does not create the directories and set them up however.&#160; They would still need to be done apriori by the user.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">An additional option of adding the cloned devices to the same map is also available.&#160; Unlike device cloning, where an individual device is cloned, map cloning allows you to clone a set of devices.&#160; The newly created devices will be added to the existing map, instead of creating new maps.&#160; The map prefix field is ignored in this case.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Modifying_a_Mapbc-40"></a><a name="Modifying_a_Map" id="Modifying_a_Map">Modifying a Map</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Map→Properties</i></b><i>…</i> to modify an existing map. All information other than the name can be modified. To modify the devices contained in a map, select the map on the main screen through the <i>Browse</i> button, and then select the devices and submenus under <i>Device</i> to make the change.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Deleting_a_Mapbc-41"></a><a name="Deleting_a_Map" id="Deleting_a_Map">Deleting a Map</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Map→Delete</i></b> to delete an existing map. The associated Map file will be deleted, however, the variable and MIB files referenced by the devices contained in the map will not be deleted.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Drag_and_Drop_Devicesbc-42"></a><a name="Drag_and_Drop_Devices" id="Drag_and_Drop_Devices">Drag and Drop Devices Across Maps</a></p>
</div>
<p class="WD_Normal">You can drag and drop a device from a non-running map to another map, by simply selecting the device in either the right pane or the expanded list in the left pane, and dropping it on another map in the left pane.&#160; The selected device will get deleted from the first map and added to the second map.&#160; If the second map is already running, then the added device will be started.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Remove_from_Serverbc-43"></a><a name="Remove_from_Server" id="Remove_from_Server">Remove from Server</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Map→Remove from Server</i></b> to remove the selected map from your workspace.&#160; Unlike Delete, Removing a map from the workspace does not delete the map definition files.&#160; You can add the map back to your workspace by <b><i>Server→Add Map to Server</i></b><i>,&#160;</i> or by clicking on the toolbar.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Getting_Statisticsbc-44"></a><a name="Getting_Statistics" id="Getting_Statistics">Getting Statistics</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Map→Statistics</i></b> to get statistics about the number of packets received by each device once a map simulation is started. Detailed information about this item is provided in Chapter 8.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Downloading_TCL_Scriptsbc-45"></a><a name="Downloading_TCL_Scripts" id="Downloading_TCL_Scripts">Downloading TCL Scripts to Devices in a Map</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Map→Setup</i></b> to download TCL scripts to the specified devices that are currently running and make them execute the TCL scripts within their execution context. Detailed information about this item is provided in Chapter 8, as well as Appendix B.&#160; As mentioned earlier, if you want a specific setup file to always get executed when the map is started, you can specify it as the Optional Setup File during the defintion/modification of the properties of the map.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Creating_Many_Maps_frombc-46"></a><a name="Creating_Many_Maps_from" id="Creating_Many_Maps_from">Creating Many Maps from an Existing Map</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Map→Optimize</i></b> to create(optimize) many maps from an existing map. On selecting this option, a dialog box is presented to specify the parameters in order to optimize the currently selected map into several new maps.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img width="340" height="288" src="pro_205_files/image019.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Caption"><a name="Figure_9_Optimizing_a_Map" id="Figure_9_Optimizing_a_Map"><span style=" font-family:'Times New Roman' ,'serif';">Figure</span></a> <span style=" font-family:'Times New Roman' ,'serif';">9</span><span style=" font-family:'Times New Roman' ,'serif';">:&#160; Optimizing a Map</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Devices Per Map</p>
<p style=" margin-bottom:11.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">Specify the number of devices in each newly created map. The number of maps that are created will be based on what you specify here and the total number of devices in the map you are trying to optimize.</span></p>
<p class="WD_MIBObject">Map Name Prefix</p>
<p style=" margin-bottom:11.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">Specify the prefix to be prepended to the names of the newly created maps. A number starting with “1” will be appended at after the prefix for each newly created map. Thus if you specify “map” in this field, the newly created maps will be named map_1.map, map2.map … and so on.</span></p>
<p class="WD_MIBObject">Map Directory</p>
<p class="WD_Normal">Specify the directory in which the map should be created.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Add to Workspace</p>
<p class="WD_Normal">Specify the workspace to which the maps should be added. If the workspace does not exist, a new workspace is created.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Editing_Viewing_Log_filesbc-47"></a><a name="Editing_Viewing_Log_files" id="Editing_Viewing_Log_files">Editing/Viewing Log files</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Map→Edit Log File</i></b> to edit/view log files created by SimpleAgentPro.&#160;&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Editing_Viewing_Debugbc-48"></a><a name="Editing_Viewing_Debug" id="Editing_Viewing_Debug">Editing/Viewing Debug files</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Map→Edit Debug File</i></b> to edit/view log files created by SimpleAgentPro.&#160;&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 2.0pt 0in;">
<p style="
border:none;
padding:0in;
border-width:4px;" class="WD_Heading1"><span style="padding: 0in; "><a name="Starting_Mapsbc-49"></a><a name="Starting_Maps" id="Starting_Maps">Starting Maps</a></span></p>
</div>
<p class="WD_Normal">You can start the simulation of the devices in a map by selecting&#160; <b><i>Map→Start</i></b><i>.</i>&#160;&#160;More information on this topic is provided in the chapter on “Running the Simulator”.&#160;&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Stoping_a_running_Mapbc-50"></a><a name="Stoping_a_running_Map" id="Stoping_a_running_Map">Stoping a running Map</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Map→Stop</i></b> to stop the simulation of all the devices in a map. More information on this topic is provided in the chapter on “Running the Simulator”</p>
<p class="WD_Normal">.&#160;&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Additional_Informationbc-51"></a><a name="Additional_Information" id="Additional_Information">Additional Information About Map File Format</a></p>
</div>
<p class="WD_Normal">To get an “inside look” at the map file, look at them using your favorite editor.&#160; They are in the ASCII format.&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span class="WD_Style1"><span style=" font-family:'Times New Roman' ,'serif'; font-style:normal;">Soap information is included in the extended map file format in the following section .</span></span></p>
<p class="WD_Normal">&#160;</p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Soap</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SoapHttpPort = "80"</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SoapModFile = "sample.smf"</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span class="WD_Style1"><span style=" font-family:'Times New Roman' ,'serif'; font-style:normal;">Cloud information is included in the extended map file format in the following section .</span></span></p>
<p class="WD_Normal">&#160;</p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Cloud</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; CloudUserName = "root"</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; CloudPassword = "vmwbox"</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; CloudType = "1"</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; CloudDataFile = "55_30.dat"</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; CloudHttpPort = "80"</span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; CloudModFile = "testvm.tcl"</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p class="WD_Normal">SimpleAgentPro (ver 14.5) adds support for displaying topological diagrams by associating a tpg file generated by the topology editor with a map.</p>
<p class="WD_Normal">&lt;DeviceMap</p>
<p class="WD_Normal">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;…</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TPGFilePath = "..\tpg\smalllan.tpg"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; …&gt;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span class="WD_Style1"><span style=" font-family:'Times New Roman' ,'serif'; font-style:normal;">SimpleAgentPro (ver 12.5) adds support for Netflow by extending the map format to optionally include the following section for each device</span></span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;NetFlow</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; FlowDataFile = "netflow.txt"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; FlowCollector = "192.168.100.48"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; FlowFrequency = "5"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span style=" font-family:'Times New Roman' ,'serif';">Map files in SimpleAgentPro (ver 10.0) have the following format:</span></p>
<p class="WD_Normal"><i>&#160;</i></p>
<p style=" text-indent:.5in;" class="WD_Normal">The map file format in 10.0 is similar to one in 9.5, except that the ModelingFile line has moved from the SNMP section to the General section.&#160; The Release# is now 10.0 also.</p>
<p style=" text-indent:.5in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span style=" font-family:'Times New Roman' ,'serif';">Map files in SimpleAgentPro (ver 9.5) have the following format:</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&lt;DeviceMap</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Release = "5.0"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Description = "Demo map with multiple IP addresses"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; UserData = ""</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SetupFile = ""</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Interface = ""</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Separator = ":"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; StartInterfaceNum = "0"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Username = "John Doe"&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Device</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;General</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Name = "DHCP1"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MultiHome = "1"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCP = "1"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SubnetMask = ""</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MacAddress = "010203040506"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Interface = ""</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; UserData = ""</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TopologyData = ""</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DisplayTag = ""</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DisplayLogo = "vendorjuniperlogo.bmp"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCPBroadcastMode = "1"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCPServer1 = "192.168.10.100"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCPServer2 = "192.168.10.102"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCPSupportCNR = "1"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCPRelayIP = "192.168.152.100"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCPGIADDR = "1"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCPNotSendRelase = "1"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCPOPTIONSEL = "1"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCPOPT = "0x0c107777772e736e6d70746573742e636f6d"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Snmp</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ReadCommunity = "public"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WriteCommunity = "private"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MibFile = "Mib2.cmf"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AgentFile = "Dev1.var"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TrapMgr = ""</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ResponseDelay = "0"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ModelingFile = ""</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpStr = "V1V2V3"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MtuSize = "1500"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpPort = "161"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SecurityLevel = "NoAuthNoPriv"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</p>
<p class="WD_Normal">&lt;/DeviceMap&gt;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span style=" font-family:'Times New Roman' ,'serif';">Map files in SimpleAgentPro (ver 7.5) have the following format:</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span class="WD_Style1">&lt;DeviceMap</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Release = "4.0"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Description = "Devices in virtual lab 1"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; UserData = ""</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SetupFile = ""</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Interface = ""</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Separator = ":"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; StartInterfaceNum = "0"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Username = "Test Engineer 1"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Device</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;General</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Name = "192.168.10.5"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MultiHome = "1"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCP = "0"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SubnetMask = "255.255.255.0"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MacAddress = ""</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Interface = ""</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; UserData = ""</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TopologyData = ""</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DisplayTag = "mybox"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Snmp</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ReadCommunity = "public"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WriteCommunity = "private"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; LibraryDevice = "Catalyst 1900 Switch"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MibFile = ".\..\devices\cisco\cisco.cmf"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AgentFile = ".\..\devices\cisco\Cat1900.var"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TrapMgr = ""</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ResponseDelay = "0"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ModelingFile = ""</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpStr = "V1V2V3"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MtuSize = "1500"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpPort = "161"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SecurityLevel = "AuthPriv"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; UserName = "AuthPrivUser"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AuthType = "MD5"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AuthPass = "myauth"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; PrivPass = "mypriv"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Telnet</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TelnetPort = "23"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TelnetFile = "c1538.tel"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;TL1</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TL1Port = "20001"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TL1File = "c1538.tl1"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;TFTP</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TftpRootDir = "c:\\tftpboot\192.168.10.5"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p class="WD_Normal"><span class="WD_Style1">&lt;/DeviceMap&gt;</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;</span></p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span class="WD_Style1"><span style=" font-family:'Times New Roman' ,'serif'; font-style:normal;">SimpleAgentPro (ver 8.0) adds support for SSH and HTTP by extending the map format to include the following two sections for each device</span></span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Http</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; HttpDocumentRoot = "..\http\default\htdocs"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; HttpScriptRoot = "..\http\default\cgi-bin"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; HttpPort = "80"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; HttpsPort = "443"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;SSH</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SSHUserName = "admin"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SSHPassword = "admin"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SSHVersion = ""</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SSHFile = "..\telnet\c1538.tel"</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Map files in SimpleAgentPro (ver 3.0) have the following format:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&lt;DeviceMap</span></p>
<p class="WD_Picture"><span style=" font-family:'Arial' ,'sans-serif'; letter-spacing:0pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Release = "1.5"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Description = "sample map file with two devices."</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Username = "John Doe"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DefaultDevice = "192.168.100.201/161"&gt;</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Device</span></p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Name = "192.168.100.200"</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Arial' ,'sans-serif';">ReadCommunity = "public"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WriteCommunity = "private"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MibFile = “Mib2.cmf"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AgentFile = " Dev1.var"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TrapMgr = "none"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ResponseDelay = "0"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MultiHome = "1"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCP = “0”</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ModelingFile = "Dev1.tcl"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpStr = "V1V2V3"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MtuSize = "1500"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SubnetMask = "255.255.255.0"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MacAddress = "none"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpPort = "161"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SecurityLevel = "NoAuthNoPriv"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; EngineId = "0x010203040506070809"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ContextId = "0x010203040506070809"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TelnetPort = "23"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TelnetFile = "none"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Device</span></p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Arial' ,'sans-serif';">Name = "192.168.100.201"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ReadCommunity = "public"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WriteCommunity = "private"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MibFile = "Mib2.cmf"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AgentFile = "Dev2.var"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TrapMgr = "none"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ResponseDelay = "0"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MultiHome = "1"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCP = “0”</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ModelingFile = "Dev2.tcl"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpStr = "V1V2V3"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MtuSize = "1500"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SubnetMask = "255.255.255.0"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MacAddress = "none"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpPort = "161"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SecurityLevel = "AuthPriv"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; UserName = "myUser"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AuthType = "MD5"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AuthPass = "abracadabra"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; PrivPass = "abracadabra"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TelnetPort = "23"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TelnetFile = "none"</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;</p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&lt;/DeviceMap&gt;</span></p>
<p class="WD_Normal">&#160;</p>
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">Earlier versions (prior to SimpleAgentPro ver 3.0) had the following format:</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RELEASE = 1.5</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; UDP_PORT = 161</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DESCRIPTION =&#160; abc def</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; USERNAME = xyz</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;device information&gt;</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;device information&gt;</span></p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; …</p>
<p class="WD_Normal"><span class="WD_Style1">Device information has the following, order dependent, fields:</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Device Id</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Read Community</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Write Community</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Compiled MIB File Name</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Variable File Name</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Trap Managers</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SNMP Response Delay</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Multihome Flag (1 for multihomed device, 0 for proxy)</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Modeling File Name</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Subnet Mask</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SNMP Version (V1, V2, BILINGUAL)</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MTU Size</span></p>
<p class="WD_Normal"><span class="WD_Style1">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MAC Address</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The values for each of these fields are enclosed in quotes.&#160;&#160; As long as the file follows this format, you can create it outside of the SAPro GUI via scripts also.</p>
<p class="WD_Normal">&#160;</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p style=" margin-left:3.3in; text-indent:0in;" class="WD_chaptitle"><a name="Chapter_5_Compiling_MIBbc-52"></a><a name="Chapter_5_Compiling_MIB" id="Chapter_5_Compiling_MIB">Chapter 5<br />
Compiling MIB Files</a></p>
<p class="WD_Normal">Before simulating user defined SNMP devices, you must compile the MIB files supported by that device using the SimpleAgentPro MIB compiler.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" color:black;"><font color="black" >You can select and compile multiple MIB files at the same time</font></span><span style=" color:red;"><font color="red" >.</font></span> It compiles one selected file at a time and creates an output file. At the end, these individual MIBs are collated into one file and sorted in lexicographic order.&#160; The compiler sorts the object identifiers, resolves interdependencies, and generates one compiled “.<i>cmf”</i> file.&#160; The MIB compilation process essentially parses the specified MIB files and extracts information needed by the SimpleAgentPro. For example, it may determine that sysDescr maps to 1.3.6.1.2.1.1.1 and is of type OctetString, is read-only, is a scalar variable, the number of octets can be 0-255, and the octets are ASCII.(DisplayString).</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The MIB compiler has built-in knowledge of SNMPv1 SMI and SNMPv2C SMI, along with standard Textual Conventions.&#160; So there is NO need to compile rfc1155.mib, rfc1212.mib, rfc2578.mib, rfc2579.mib and rfc2580.mib and their variations.&#160; ASN.1 files that actually define the macros used for MIB definitions, might give compiler errors.&#160; Simply do not include these files in the list of MIBs to be compiled, since their contents are already known to the compiler.&#160;&#160;</p>
</div>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Opening_the_MIBbc-53"></a><a name="Opening_the_MIB" id="Opening_the_MIB">Opening the MIB Compilation Window</a></p>
</div>
<p align="center" style=" text-align:center;" class="WD_Picture">Choose <b><i>MIB →Compile</i></b><i>...</i> to load the MIBs supported by the SNMP Agent and make them known to SimpleAgentPro. This opens the MIB Compilation window as shown in</p>
<p class="WD_Normal">Figure 10. You can select one or more MIBs at the same time.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img width="451" height="426" src="pro_205_files/image021.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Caption"><a name="Figure_10_MIB" id="Figure_10_MIB">Figure</a> 10:&#160; MIB Compilation Window</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Repository File of Compiled MIBs:</p>
<p class="WD_Normal">This is the name of the compiled MIB file to be created. For each “<i>.cmf</i>” file that was created by this window, the list MIBs corresponding to the file is also maintained. So when switching between cmf files using the select file button (folder with the magnifying glass), the repository list will display the MIBs files contained in the selected cmf file.</p>
<p class="WD_MIBObject">MIB(s) to be included in Respository:</p>
<p class="WD_Normal">When the dialog box is displayed, the list of MIBs to be compiled is empty.&#160; You need to build this list using the Add and Remove buttons to the right.</p>
<p class="WD_MIBObject">Add</p>
<p class="WD_Normal">The file selection dialog box is displayed with the contents of the <i>&lt;sapro&gt;/MIB</i> directory.&#160; You can traverse the directory structure on your local machine and select one or more files to be added to the list of MIBs to be compiled.</p>
<p class="WD_MIBObject">Remove</p>
<p class="WD_Normal">The selected MIB files from the MIBs to be included list are removed from the selection.&#160; The files themselves are not deleted. They are simply removed from the list of files to be compiled.</p>
<p class="WD_MIBObject">Edit</p>
<p class="WD_Normal">The selected MIB files from the MIBs to be included list are opened in an editor widow to let you view or edit the files.</p>
<p class="WD_MIBObject">Advanced</p>
<p class="WD_Normal">The List of Directories to Search dialog box allows you to specify the location of&#160; MIB file that contain definitions reference by the MIBs being compile. These MIBs are only used for purposes of resolving IMPORTed definitions.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img width="428" height="284" src="pro_205_files/image023.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Caption"><a name="Figure_11_List_of" id="Figure_11_List_of">Figure</a> 11:&#160; List of Directories to Search</p>
<p class="WD_MIBObject">Compile</p>
<p class="WD_Normal">Each of the MIBs will be individually compiled and their output collated and provided to mibsort which sorts and resolves all the interdependencies to create one big compiled MIB file.&#160;</p>
<p class="WD_MIBObject">Done</p>
<p class="WD_Normal">Clicking on this button closes this dialog box.</p>
<p class="WD_MIBObject">Cancel</p>
<p class="WD_Normal">Clicking on this button stops the compilation of the MIB files.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Compiling_MIB_Files_Anbc-54"></a><a name="Compiling_MIB_Files_An" id="Compiling_MIB_Files_An">Compiling MIB Files: An Example</a></p>
</div>
<p class="WD_Normal">Assume the simulated Agent <i>myAgent</i> supports MIB-II (<span style=" font-family:'Arial' ,'sans-serif';">rfc1213.mib</span>), Repeater MIB (<span style=" font-family:'Arial' ,'sans-serif';">rfc1516.mib</span>) and a Private MIB (<span style=" font-family:'Arial' ,'sans-serif';">my.mib</span>). Here’s an example of how you would use SimpleAgentPro to compile these MIB files:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_ListNumber"><span style=" color:black;"><font color="black" >1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" color:black;"><font color="black" >Select each of the supported MIBS during the “Add” to MIB selection phase.(</font></span><span style=" font-family:'Arial' ,'sans-serif'; color:black;"><font color="black" >rfc1213.mib</font></span><span style=" color:black;"><font color="black" >,</font></span> <span style=" font-family:'Arial' ,'sans-serif'; color:black;"><font color="black" >rfc1516.mib</font></span> <span style=" color:black;"><font color="black" >and</font></span> <span style=" font-family:'Arial' ,'sans-serif'; color:black;"><font color="black" >my.MIB</font></span><span style=" color:black;"><font color="black" >).</font></span></p>
<p class="WD_ListNumber">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Give a name for the compiled MIB output file, for example, <span style=" font-family:'Arial' ,'sans-serif';">myAgent.cmf</span>. This file will be created in the &lt;<i>install_dir</i>&gt;/<span style=" font-family:'Arial' ,'sans-serif'; text-transform:uppercase;">cmf</span> sub-directory.</p>
<p class="WD_ListNumber">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Click on the <i>Compile</i> button to start the compilation process.</p>
<p style=" margin-left:0in;" class="WD_Normal2">&#160;</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Before proceeding to simulate the Agent, remove any syntax errors found by the MIB compiler. This will help SimpleAgentPro do a better job in simulating the Agent by understanding the definitions, access clause and size constraints of all the variables to be supported.</p>
</div>
<p class="WD_Normal2">&#160;</p>
<p class="WD_Normal2">Once the MIB compiler finishes compiling rfc1213.MIB, it will proceed to compile rfc1516.MIB and finally my.MIB. After compiling all of the MIBs, it will concatenate the output into one file that contains information about all the specified MIBs.</p>
<p class="WD_ListNumber">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Press any key.</p>
<p class="WD_Normal2">The console window will disappear and the previous screen will be displayed.</p>
<p class="WD_ListNumber">5.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Click the <i>Done</i> button to complete the compilation process and return to the Main Agent simulation screen.</p>
<p class="WD_ListNumber">6.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> The Optional dependency directory list allows you to include a MIBs that contains definitions referenced by the compiled MIBs.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Viewing_the_Contents_ofbc-55"></a><a name="Viewing_the_Contents_of" id="Viewing_the_Contents_of">Viewing the Contents of a Compiled MIB File</a></p>
</div>
<p class="WD_Normal">To find out which MIB files have been used to create a particular compiled MIB file, look at the associated MIB information file by choosing&#160; <b><i>MIB→Info…</i></b></p>
<p class="WD_Toc6">&#160;</p>
<p class="WD_Normal">In the above example, you can find out what MIB files were compiled to create <span style=" font-family:'Arial' ,'sans-serif';">myAgent.cmf</span> by viewing the file <span style=" font-family:'Arial' ,'sans-serif';">myAgent.mif</span> in the same &lt;<i>install_dir</i>&gt;/<span style=" font-family:'Arial' ,'sans-serif'; text-transform:uppercase;">cmf</span> subdirectory. This file contains the list of files:</p>
<p class="WD_bullet"><span style=" font-family:'Arial' ,'sans-serif';">rfc1213.mib</span></p>
<p class="WD_bullet"><span style=" font-family:'Arial' ,'sans-serif';">rfc1516.mib</span></p>
<p class="WD_bullet"><span style=" font-family:'Arial' ,'sans-serif';">my.mib</span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Unloading_a_Compiled_MIBbc-56"></a><a name="Unloading_a_Compiled_MIB" id="Unloading_a_Compiled_MIB">Unloading a Compiled MIB</a></p>
</div>
<p class="WD_Normal">There is no explicit option to unload a specific MIB.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the above example, if you want to unload <span style=" font-family:'Arial' ,'sans-serif';">rfc1516.mib</span> from <span style=" font-family:'Arial' ,'sans-serif';">myAgent.cmf</span>, you need to select <span style=" font-family:'Arial' ,'sans-serif';">rfc1516.mib</span>, remove it from the list, and recompile to create a new <span style=" font-family:'Arial' ,'sans-serif';">myAgent.cmf</span> file.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Additional_Information1bc-57"></a><a name="Additional_Information1" id="Additional_Information1">Additional Information About Compiling MIBs</a></p>
</div>
<p class="WD_Normal">To get an “inside look” at the file created by the MIB Compiler, look at the compiled MIB files in the <span style=" text-transform:uppercase;">&lt;</span><i>install_dir</i><span style=" text-transform:uppercase;">&gt;\</span><span style=" font-family:'Arial' ,'sans-serif'; text-transform:uppercase;">CMF</span> directory. They are in ASCII format. Do not change these files. SimpleAgentPro requires them to be a certain format.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If your MIB files contain errors, they can also be viewed by looking at the contents of the <span style=" font-family:'Arial' ,'sans-serif';">miberr.out</span> file that is created in the working directory. After looking at the <span style=" font-family:'Arial' ,'sans-serif';">miberr.out</span>, fix the errors and recompile the MIB file.</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">If a MIB file imports definition from another MIB file, make sure that the second MIB file is also selected for compilation at the same time.</p>
</div>
<p class="WD_BodyTextIndent">&#160;</p>
<b><span style=" font-size:24.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="6" style="font-size:24pt;"><br clear="all" /></font></span></b>
<p style=" margin-left:3.0in; text-indent:0in;" class="WD_chaptitle"><a name="Chapter_6_Creatingbc-58"></a><a name="Chapter_6_Creating" id="Chapter_6_Creating">Chapter 6<br />
Creating Variable Files</a></p>
<p class="WD_Normal">To simulate user defined SNMP devices, after you have compiled the MIB files, you also need to create the SNMP variable.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Using SimpleAgentPro, you can either create variable files from existing MIB files (using default values where appropriate), or learn variables from an existing device and use these variables to seed the simulation.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once you create the variable file, you can edit it as an ascii file, to fine tune the variables, by choosing <b><i>Variable→Edit</i>.</b>&#160; For example, you can edit the file to enable dynamic row creation.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A newly added graphical variable file editory is also available by choosing <b><i>Variable→VariableFileEditor</i>.</b></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This chapter describes how to work with variables, including:</p>
<p class="WD_Normal">&#160;</p>
<ul style=" margin-top:0in;" type="disc">
<li>
<p>Creating variables from an MIB file</p>
</li>
<li>
<p>Learning variables from a device</p>
</li>
<li>
<p>The variable file format (for editing the variable file)</p>
</li>
</ul>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Creating_Variables_frombc-59"></a><a name="Creating_Variables_from" id="Creating_Variables_from">Creating Variables from an MIB File</a></p>
</div>
<p align="center" style=" text-align:center;" class="WD_Picture">Choose <b><i>Variable →Create from MIB</i></b> to automatically create instances from the information available in the compiled MIBs. This opens the window shown in</p>
<p class="WD_Normal">Figure 12.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img width="350" height="275" src="pro_205_files/image025.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Caption"><a name="Figure_12_Create" id="Figure_12_Create">Figure</a> 12:&#160; Create Variables from MIB window</p>
<p class="WD_Normal">The <i>Create Variables from MIB</i> screen prompts you for the following pieces of information.</p>
<p class="WD_MIBObject">Output Variable File</p>
<p style=" margin-bottom:11.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">Specify the name of file that will contain the automatically generated SNMP variable instances. You can use the Browse button to look at existing files and directories and specify a new file name. If the file already exists, it will be overwritten.</span></p>
<p class="WD_MIBObject">Compiled MIB File</p>
<p style=" margin-bottom:11.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">Specify the name of file that contains the output of the MIB compiler when it compiled one or more of the associated MIB files. The information in this file will be used to create the instances. You can use the Browse button to look at existing files and directories, and choose a file.</span></p>
<p class="WD_MIBObject">Number of Rows</p>
<p style=" margin-bottom:11.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">You can specify the number of rows you want SimpleAgentPro to automatically create for you. If you specify 5, all tables in the MIB will have 5 rows. Information in the optional rules file can override this setting on a per table basis.</span></p>
<p class="WD_MIBObject">Optional Rules File</p>
<p style=" margin-bottom:11.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">Optionally, specify the name of the file that contains the rules to be used to override the default rules used during variable file creation. Appendix C contains the file format information. The rules file is expected to have a</span> <span style=" font-family:'Arial' ,'sans-serif'; letter-spacing:0pt;">.rul</span> <span style=" letter-spacing:0pt;">file name extension and reside in the</span> <span style=" font-family:'Arial' ,'sans-serif'; letter-spacing:0pt;">&lt;<i>install_dir</i>&gt;/<span style=" text-transform:uppercase;">var</span></span> <span style=" letter-spacing:0pt;">subdirectory. You can use the Browse button to look at the existing files and directories.</span></p>
<p class="WD_MIBObject">Create Dynamic Row Templates</p>
<p style=" margin-bottom:11.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">Set this parameter to Yes if you want SimpleAgentPro to create dynamic row templates for the tables in the compiled MIBs that have at least one column that is Read-Writable. The created templates in the control file are commented out. To enable a particular table, edit the file and remove the starting hash (#) sign.</span></p>
<p class="WD_MIBObject">Status Window</p>
<p class="WD_Normal">The Status Window shows the status of the Variable Creation process and the variable that it is currently processing.</p>
<p class="WD_MIBObject">Start</p>
<p class="WD_Normal">Click the Start button to initiate the automatic SNMP variable instance creation process. The old contents of the output file will be lost, and the file will be overwritten by the script generator.</p>
<p class="WD_MIBObject">Stop</p>
<p class="WD_Normal">Click the Stop button to stop the SNMP variable instance creation process. The variables created until then are written in the output file, are valid, and will be retained in the output file specified.</p>
<p class="WD_MIBObject">Done</p>
<p class="WD_Normal">Click the Done button to exit from the <i>Create Variables from MIB</i> screen and return to SimpleAgentPro screen. If the instance generation is in progress, click <i>Done</i> to stop it. The instances created until then are valid and will be retained in the output file specified.</p>
<p class="WD_MIBObject">Browse</p>
<p class="WD_Normal">Click the Browse button for help in filling in the SNMP Variables File Name. This opens a standard windows browse screen. The file you select in the Browse screen will automatically be displayed in the <i>SNMP Variable File</i> field.</p>
<p class="WD_MIBObject">View</p>
<p class="WD_Normal">To view/edit the created file, go to <b><i>Variable→Edit</i></b>, or <b><i>Variable→VariableFileEditor.</i></b></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Using_the_Default_Rulesbc-60"></a><a name="Using_the_Default_Rules" id="Using_the_Default_Rules">Using the Default Rules File: An Example</a></p>
<p class="WD_Normal">For the following example, imagine you want 2 rows in each table in MIB2, with 5 rows in the ifTable, and you do not want any variables in the egp group.&#160; You can create a file called "my.rul" in the <span style=" font-family:'Arial' ,'sans-serif';">&lt;<i>sapro&gt;</i>/var</span> directory containing the following two lines</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %NUMROWS&#160;&#160;&#160;&#160;&#160; ifTable&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 5</p>
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; egp&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ignore</span></p>
<p class="WD_Caption">&#160;</p>
<p class="WD_Normal">Specify the compiled MIB file to be mib2.cmf, the number of rows to be 2, and the optional rules file to be "my.rul"</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Additional_Information2bc-61"></a><a name="Additional_Information2" id="Additional_Information2">Additional Information About Creating Variables from a MIB</a></p>
<p class="WD_algorithm">The SNMP Variables creation process uses the information in the output of the MIB Compiler to automatically create SNMP instances.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>For Read Only Variables</b>:&#160; The SNMP Variable creation process uses the following algorithm.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_hang25">Counter:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; randomup(1000, 100)</p>
<p class="WD_hang25">Gauge:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed(1000) in ver 20.5 and random(1000, 100) in earlier versions.</p>
<p class="WD_hang25">OctetString(Display String):&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed(My_object_descriptor)</p>
<p class="WD_hang25">OctetString:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed(0x010203...)</p>
<p class="WD_hang25">TimeTicks&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; clock(1000)</p>
<p class="WD_hang25">Integer&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed(1)</p>
<p class="WD_hang25">IPAddress&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed(1.2.3.4)</p>
<p class="WD_hang25">Object Identifier&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed(1.2.3)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>For Read Write Variables</b>:&#160; The SNMP Variable creation process uses the following algorithm.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_hang25">Counter:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(1000)</p>
<p class="WD_hang25">Gauge:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(1000)</p>
<p class="WD_hang25">OctetString(Display String):&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(My_object_descriptor)</p>
<p class="WD_hang25">OctetString:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(0x010203...)</p>
<p class="WD_hang25">TimeTicks&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(1000)</p>
<p class="WD_hang25">Integer&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(1)</p>
<p class="WD_hang25">IPAddress&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(1.2.3.4)</p>
<p class="WD_hang25">Object Identifier&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(1.2.3)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>For Index columns of Tabular entries</b>:&#160; The number of rows added to tables during the SNMP Variable creation process is based on the user-specified value. The following values are used for index variables:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_hang25">OctetString(Display String):&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; “abc”</p>
<p class="WD_hang25">OctetString:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0x010203...</p>
<p class="WD_hang25">Integer&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 1</p>
<p class="WD_hang25">IPAddress&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 1.2.3.4</p>
<p class="WD_hang25">Object Identifier&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 1.2.3</p>
<p class="WD_Normal">&#160;</p>
<b><span style=" font-size:18.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="5" style="font-size:18pt;"><br clear="all" /></font></span></b>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Learning_Variables_frombc-62"></a><a name="Learning_Variables_from" id="Learning_Variables_from">Learning Variables from a Device</a></p>
</div>
<p class="WD_Normal">If you have a network device available, SimpleAgentPro can “learn” variables from the existing agent supporting the device. To do this, choose <b><i>Variable →Learn From Device..</i></b><i>.</i></p>
<p class="WD_Normal">Overview of the Process</p>
<p class="WD_Normal">You must compile the MIB files supported by the agent before learning the instances. Otherwise, when a variable instance that cannot be found in the compiled MIB is learned, it is assumed to be Read Only.&#160; If you are developing/testing Performance Management applications, this might be fine.&#160; However for Configuration Management applications, you should compile all the MIBs supported by the agent.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal">The learning of the instances is carried out by “walking” the MIB of the existing teaching Agent. The following paragraphs describe this process.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal">All the manageable objects supported by an SNMP Agent can be viewed as a long, flat, sequential list of attribute instances, ordered in a lexicographic manner. The SNMP GetNext operator can be used to traverse this list.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal">Let us assume that the list is made up of [a.0, b.0, c.0, d.0]. where a.0 is lexicographically less than b.0, and b.0 is lexicographically less than c.0, and c.0 is lexicographically less than d.0. a.0, b.0, c.0, and d.0 are attribute object identifiers for the manageable objects that they represent.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><i>GetNextRequest</i>&#160; of ["1.0" or a]&#160; will give back</p>
<p class="WD_Normal"><i>GetResponse[a.0, datatype of a.0, value of a.0]</i></p>
<p class="WD_Normal">You can then send a <i>GetNextRequest[a.0]</i> to get back</p>
<p class="WD_Normal"><i>GetResponse</i>[b.0, datatype of b.0, value of b.0]</p>
<p class="WD_Normal">You can then send a <i>GetNextRequest[b.0]</i> to get back</p>
<p class="WD_Normal"><i>GetResponse</i>[c.0, datatype of c.0, value of c.0]</p>
<p class="WD_Normal">You can then send a <i>GetNextRequest[c.0]</i> to get back</p>
<p class="WD_Normal"><i>GetResponse</i>[d.0, datatype of d.0, value of d.0]</p>
<p class="WD_Normal">Now sending a <i>GetNextRequest[d.0]</i> will result in</p>
<p class="WD_Normal"><i>GetResponse</i>[NoSuchName Error],</p>
<p class="WD_Normal">which indicates the End<i>Of All MIBs</i>.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal">This process of making a series of sequential <i>GetNext</i> requests to retrieve the list of attribute instances supported by an Agent is often referred to as “walking” the MIB. You can start and stop this sequential traversal of the Agents MIB at any spot by specifying start and end attribute object identifiers. Suppose we were to start the attribute instance list traversal at [b] and end it at [d] we would have done the following:</p>
<p class="WD_Normal">Send a <i>GetNextRequest[b]</i> to get back</p>
<p class="WD_Normal"><i>GetResponse</i>[b.0, datatype of b.0, value of b.0]</p>
<p class="WD_Normal">Compare [b.0] with the end criteria [d]. If returned attribute is smaller, continue</p>
<p class="WD_Normal">Send a <i>GetNextRequest[b.0]</i> to get back</p>
<p class="WD_Normal"><i>GetResponse</i>[c.0, datatype of c.0, value of c.0]</p>
<p class="WD_Normal">Compare [c.0] with the end criteria [d]. If returned attribute is smaller, Continue</p>
<p class="WD_Normal">Send a <i>GetNextRequest[c.0]</i> to get back</p>
<p class="WD_Normal"><i>GetResponse</i>[d.0, datatype of d.0, value of d.0]</p>
<p class="WD_Normal">Compare [d.0] with the end criteria [d]. Now [d.0] is NOT lexicographically smaller than [d]. So stop the sequential list traversal.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal">Our attribute instance list will now include attributes [b.0, c.0]. d.0 is <i>not</i> included.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal">Learning instances boils down to specifying the start and end attribute object identifiers for walking the agent’s MIB. By default, the start and end points are 1.0 and End of All MIBs, which retrieves all items in the list by continuing to send <i>GetNext requests</i> until a NO_SUCH_NAME error is received. You can specify other start and end points so that only a small subset of all attribute instances supported by the teaching Agent is learned.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Using_the_Learn_SNMPbc-63"></a><a name="Using_the_Learn_SNMP" id="Using_the_Learn_SNMP">Using the Learn SNMP Variables Window</a></p>
</div>
<p align="center" style=" text-align:center;" class="WD_Picture"><img width="462" height="534" src="pro_205_files/image027.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_algorithm"><a name="Figure_13_Learn_SNMP" id="Figure_13_Learn_SNMP">Figure</a> 13:&#160; Learn SNMP Variables from Device window</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Output Variable File</p>
<p class="WD_Normal">Specify the name of file that will contain the automatically generated SNMP variable instances. You can use the Browse button to look at existing files and directories, and specify a new file name. If the file already exists, it will be overwritten.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>Compiled MIB File</b></p>
<p class="WD_Normal">Specify the name of file that contains the output of the MIB compiler, when it compiled one or more of the associated MIB files. The information in this file will be used to create the instances. You can use the Browse button to look at existing files and directories.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>Teacher’s IP Address</b></p>
<p class="WD_Normal">Specify the IP Address of the Agent that you wish to learn the instances from. The <i>GetNext</i> queries to get the variables to test are directed at this Agent.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>Teacher’s SNMP Port</b></p>
<p class="WD_Normal">Specify the UDP Port number for the Teacher’s SNMP agent.&#160; By default it is set to 161.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>Over TCP</b></p>
<p class="WD_Normal">From ver 19.5, you can also specify if you want to do the learning by sending requests over TCP to the specified port instead of the standard UDP.&#160;&#160; By default, it is turned off.</p>
<p class="WD_Normal"><b>Community String</b></p>
<p class="WD_Normal">Specify the community string to be used in sending <i>GetNext</i> requests to the Teacher’s Agent. Make sure that this community string will grant you read privileges.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>TimeOut (secs)</b></p>
<p class="WD_Normal">Enter the amount of time (in seconds) that you want SimpleAgentPro to wait for a response when it issues SNMP <i>GetNext</i> requests. By default, this value is set to one (1) second. The amount of time SimpleAgentPro should wait is a function of the type of teaching Agent and its location in relation to SimpleAgentPro. If the Teaching SNMP Agent is across five routers, it might take longer to receive a response. Also, if the SNMP Agent has to translate the SNMP requests to an internal proprietary protocol and then issue these proprietary requests over a slow media, it might take longer to get a response back from the Agent. Typically if the SNMP Agent is on the local Ethernet, it is expected to respond back within one second. You can change the value to a more suitable number.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>Number of Retries</b></p>
<p class="WD_Normal">Enter the number of times you want SimpleAgentPro to retry sending an SNMP request when it does not receive a response. By default, this value is set to 3. You can set it to a more appropriate value that is suitable to your test bed. Typical things to consider are the load on the network, chances of the packet getting lost on the way, the number of receive buffers in the Agent, and how busy the Agent is in doing other things.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>Start of Walk</b></p>
<p class="WD_Normal">Select the attribute object identifier used in the first <i>GetNext</i> request sent to the Agent. The first attribute instance larger than this attribute object identifier will be the first attribute instance in the list of variables supported. By default its value is set to 1.0 since sending a <i>GetNext</i> request for 1.0 will return the first attribute instance supported by the teaching device. You can specify any of the attribute object descriptors in the compiled MIB as the start of walk selection.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>End of Walk</b></p>
<p class="WD_Normal">Specify the end condition for the walk. The walk will be terminated once an attribute object identifier is returned that is lexicographically larger than the End of Walk attribute identifier. By default, its value is the special key word “End Of All MIBs.” This value indicates that the walk should continue until it receives a NO_SUCH_NAME error, implying that the list of attribute instances has ended. You can specify any of the attribute object descriptors in the compiled MIB as the start of walk selection.&#160;&#160; Note that as in the above example, to stop the test list after “c.0”, you need to specify “d” as the End of Walk criteria.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>SNMP Version</b></p>
<p class="WD_Normal">Specify the SNMP version to use when learning from the device.&#160; Sometimes, additional variables might be supported when doing an SNMPv2C or SNMPv3 walk, compared to an SNMPv1 walk.&#160;&#160; The SNMPv3 parameters can be specified in the SNMPv3 dialog box that can be accessed via clicking on the SNMPv3 Properties button.&#160; If the SNMP engine id is not specified, the application will “discover” it.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>Optional Rules File</b></p>
<p class="WD_Normal">Optionally, specify the name of file that contains the rules to be used to override the default rules used for variable file creation. Appendix C contains the file format information. The rules file is expected to have a <span style=" font-family:'Arial' ,'sans-serif';">.rul</span> file name extension, and reside in the <span style=" text-transform:uppercase;">var</span> directory. You can use the Browse button to look at existing files and directories..</p>
<p class="WD_Normal">A file “learnerr.rul” is present in the sapro/var directory that has a list of useful directives.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>Create Dynamic Row Templates</b></p>
<p class="WD_Normal">Set this parameter to Yes if you want SimpleAgentPro to create dynamic row templates for the tables in the compiled MIBs that have at least one column that is Read-Writable. The created templates in the control file are commented out. To enable a particular table, edit the file and remove the starting hash (#).</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>Start</b></p>
<p class="WD_Normal">Click the Start button to initiate the walking of the teaching Agent and the process of learning the SNMP attributes to be supported.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>Stop</b></p>
<p class="WD_Normal">Click the Stop button to stop the walking process currently in progress. The attributes learned until then are valid and saved in the file specified.</p>
<p class="WD_Normal"></p>
<p class="WD_Normal"><b>Done</b></p>
<p class="WD_Normal">Click the Done button to exit from the <i>Learn SNMP Variables</i> screen and return to the main SimpleAgentPro screen. If the walk is in progress, click the Close button to stop the walk. The attributes learned until then are valid and saved in the file specified.</p>
<p class="WD_MIBObject">Status Window</p>
<p class="WD_Normal">The Status Window displays the current status of the Walk once the Walk has been started.</p>
<p class="WD_MIBObject">View</p>
<p class="WD_Normal">To view/edit the created file, go to <b><i>Variable→Edit</i></b>.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Dealing_withbc-64"></a><a name="Dealing_with" id="Dealing_with">Dealing with Lexicographical Errors During Learning</a></p>
<p class="WD_Normal">Sometimes, the agent from which you are learning does not implement <i>GetNext</i> correctly.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For example, suppose the agent supports variables: a,b,c,d,e,f,g,and h. When asked to give the getnext of "d", instead of giving "e" back, it gives back "c", which is lexicographically smaller than "d".&#160; SimpleAgentPro detects this error and stops the walk, to protect itself from infinite loops.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">There are cases in which the GetNext logic is broken for some tables, but the agent does not return values that result in infinite loops.&#160; The current version of SimpleAgentPro, by default assumes this type of behavior in the agent, and detects these errors, marks them as such in the variable file, and then tries to continue.&#160; After encountering over 50,000 errors, it stops the learning.&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The additional rules file allows you to change this behavior.&#160; If the rules file has a line</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %IGNOREWALKERROR&#160;&#160; &#160;&#160;NO</p>
<p class="WD_Normal">then the default behavior of ignoring walk erros will be disabled.&#160; If it is set to</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %IGNOREWALKERROR&#160;&#160;&#160;&#160; YES</p>
<p class="WD_Normal">or this line is absent from the rules file, then this behavior is turned on.&#160;&#160; An additional syntax of</p>
<p class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %IGNOREWALKERROR&#160;&#160;&#160;&#160; 1000</p>
<p class="WD_Normal">allows you to change the maximum allowed lexicographical errors from 50,000 to the value specified, which in the above case will be 1000.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Doing_Rate_Computationbc-65"></a><a name="Doing_Rate_Computation" id="Doing_Rate_Computation">Doing Rate Computation for Counter Variables</a></p>
<p class="WD_Normal">Different counter variables change at different rates. &#160;By simply taking one snapshot of their value, as is done during SNMP walking, we cannot determine their rate of change.&#160; If you want more realistic simulation, you need to take multiple snapshots and use the values retrieved in figuring out an approximate rate of change.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If you specify the following line in the optional rules file</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_code">%RATECOMPUTATION&#160; 3 500</p>
<p class="WD_Normal">SimpleAgentPro will take three (3) snapshots of each variable of type Counter that it encounters, and wait for 500 milliseconds between the snapshots.&#160; Based on the values returned, it will then use the least square fit algorithm to determine the rate of chage or slope of the line, and use timedrandomup(last_value, slope), instead of the usual randomup(value_returned, 100) as the value type for the Counter variables.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Mapping_Learnt_IPbc-66"></a><a name="Mapping_Learnt_IP" id="Mapping_Learnt_IP">Mapping Learnt IP address in the variable file.</a></p>
<p class="WD_Normal">The IP address(es) of the device that you are learning from, often shows up in the MIB values learnt from that box.&#160;&#160; If you associate this learnt MIB data, with a simulated device that has a different IP address, then there is a mismatch between the values returned by the simulated device for a paricular MIB variable like ipAdEntAddr, and its own IP address.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentPro supports the use of tokens in the variable file like “$$MYIPADDRESS$$” which get replaced by the simulated device’s IP address at runtime.&#160;&#160; Three additional tokens whose values are based on the device’s IP are $$MYIPADDRHEX$$, $$MYIPSUBNIDS$$, and $$MYIPSUBNHEX$$. This allows the same variable file to be shared by multiple simulated devices, each with their own IP addresses, and yet whose runtime values returned for entries in the IP address table are different.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Specifying the following line in the optional rules file</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_code">%MAPIPADDRESS YES</p>
<p class="WD_Normal">tells the SimpleAgentPro, when learning from a device, to substitute the teacher's ip address in the variable file by a special token "$$MYIPADDRESS$$".&#160; This token then gets substituted by the IP address of the device that is associated with this variable file.&#160; The substitution will occur for both instances and values.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Specifying the following line in the optional rules file</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_code">%MAPIPADDRTABLE YES</p>
<p class="WD_Normal">tells the SimpleAgentPro, when learning from a device, to not only substitute the teacher's ip address in the variable file by a special token "$$MYIPADDRESS$$", but to also replace the other IP addresses of the box with tokens like $$MYTOKEN001$$ etc.&#160;&#160; The substitution will occur for both instances and values.&#160; If the values for these tokens is specified in the Topology Data field, then the cloning process with auto-increment them.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Look in the “learnerr.rul” file in the sapro/var directory&#160; for a rules file with a collection of useful rules.</p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Algorithms_Used_whenbc-67"></a><a name="Algorithms_Used_when" id="Algorithms_Used_when">Algorithms Used when Learning Variables</a></p>
<p class="WD_Normal">The Learning/Walking of the MIB should occur after the MIB Compilation is done. SimpleAgentPro uses information present in the compiled MIB(s) when saving the results of the walk.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>For Read Only Variables</b>:&#160; When creating the variable information from the value returned, SimpleAgentPro uses the following algorithm.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">Counter:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; randomup(value returned, 100)</font></span></p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">Gauge:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed(valuereturned) in Ver 20.5 and random(value returned, 100) in earlier versions.</font></span></p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">OctetString:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed(value returned)</font></span></p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">TimeTicks&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; clock(value returned)</font></span></p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">Integer&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed(value returned)</font></span></p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">IPAddress&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed(value returned)</font></span></p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">Object Identifier&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed(value returned)</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>For Read Write Variables</b>:&#160; The SNMP Variable creation process uses the following algorithm.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">Counter:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(value returned)</font></span></p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">Gauge:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(value returned)</font></span></p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">OctetString:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(value returned)</font></span></p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">TimeTicks&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(value returned)</font></span></p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">Integer&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(value returned)</font></span></p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">IPAddress&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(value returned)</font></span></p>
<p class="WD_hang25"><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">Object Identifier&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lastset(value returned)</font></span></p>
<p class="WD_algorithm">&#160;</p>
<p class="WD_Normal">Columns that make up the indexes of a table always have the format of fixed(value returned).</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Refer to Appendix C for a description of the defaults rule file that allows you to override these rules.</p>
</div>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Editing_the_Variable_Filebc-68"></a><a name="Editing_the_Variable_File" id="Editing_the_Variable_File">Editing the Variable File</a></p>
</div>
<p class="WD_Normal">SimpleAgentPro includes a graphical variable file editor to provide you an easier way to view and edit the variable file information.&#160; The older text based editor option is also preserved and accessible via <b><i>Variable→Edit</i></b>.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The new graphical variable file editor can be invoked by selecting <b><i>Variable→Variable File Editor</i></b><i>.&#160;&#160;</i> A new modeless window is started and information in the variable file represented in a MIB tree layout.&#160;&#160; The graphical var file editor window is shown below.</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img width="402" height="327" src="pro_205_files/image029.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Caption"><a name="Figure_14_Variable_File" id="Figure_14_Variable_File">Figure</a> 14:&#160; Variable File Editor window</p>
<p class="WD_Normal">The graphical variable file editor will load the specified variable file and compiled MIB file and display the contents of the variable file in a MIB registration tree hierarchy and allow you to add/delete instances and associate valuetypes with each of the instances.&#160; Adding rows to tables, including dynamic row templates, etc. is also supported.&#160; Additional information about the graphical variable file editor is available in its built-in help.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Variable_Informationbc-69"></a><a name="Variable_Information" id="Variable_Information">Variable Information File Format (*.var)</a></p>
</div>
<p class="WD_Normal">Once you have created the variable file, you may want to edit it to adjust variables or enable dynamic row creation.&#160; This section describes the format of the variable information file.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentPro stores the variables supported by a device in an ASCII file. Variable information is typically stored in a file with the <span style=" font-family:'Arial' ,'sans-serif';">.var</span> extension.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This file contains three types of information:</p>
<p class="WD_bullet">comments (lines starting with the hash sigh - #)</p>
<p class="WD_bullet">defines</p>
<p class="WD_bullet">includes</p>
<p class="WD_bullet">attribute information</p>
<p class="WD_bullet">dynamic row creation information</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Definesbc-70"></a><a name="Defines" id="Defines">Defines</a></p>
<p class="WD_Normal">Defines help you to specify the value in one place and use the reference in multiple places. Imagine that you have a table, that is indexed by an integer.&#160; You can define the NUMROWS to be 10, in one place, and use the label NUMROWS when specifying the indexes, as shown below.&#160; Later on, if you wish to have 20 rows, you would just need to change the value in only one place.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The syntax of the define is shown below.&#160; It needs to be defined, at the beginning of the file, before the label is used.</p>
<p class="WD_Normal">&#160;</p>
<address>%sapdefine&#160; label&#160; value</address>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Example:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">%sapdefine NUMIFS 10</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">…</p>
<p class="WD_Normal">#ifNum (number of interfaces for this box)</p>
<p class="WD_Normal">1.3.6.1.2.1.2.1.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RO , fixed(NUMIFS)</p>
<p class="WD_Normal">#ifTable (list of all our interfaces) indexed by interface number</p>
<p class="WD_Normal">1.3.6.1.2.1.2.2.1.1.[1-NUMIFS]&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RO , indexvalue(0)</p>
<p class="WD_Normal">1.3.6.1.2.1.2.2.1.2.[1-NUMIFS]&#160;&#160;&#160; , OctetString , RO , indexstr(0, 0, fastEthernet%d/0)</p>
<p class="WD_Normal">1.3.6.1.2.1.2.2.1.3.[1-NUMIFS]&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RO , fixed(62)</p>
<p class="WD_Normal">1.3.6.1.2.1.2.2.1.4.[1-NUMIFS]&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RO , fixed(1500)</p>
<p class="WD_Normal">1.3.6.1.2.1.2.2.1.5.[1-NUMIFS]&#160;&#160;&#160; , Gauge&#160;&#160;&#160;&#160;&#160;&#160; , RO , fixed(10000000)</p>
<p class="WD_Normal">1.3.6.1.2.1.2.2.1.6.[1-NUMIFS]&#160;&#160;&#160; , OctetString , RO , indexmac(0,0x010101010101)</p>
<p class="WD_Normal">1.3.6.1.2.1.2.2.1.7.[1-NUMIFS]&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RW , r_lastset(1, 3, 1)</p>
<p class="WD_Normal">1.3.6.1.2.1.2.2.1.8.[1-NUMIFS]&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RO , lastset(1)</p>
<p class="WD_Normal">1.3.6.1.2.1.2.2.1.9.[1-NUMIFS]&#160;&#160;&#160; , TimeTicks&#160;&#160; , RO , fixed(0)</p>
<p class="WD_Normal">…</p>
<p class="WD_Normal">1.3.6.1.2.1.2.2.1.22.[1-NUMIFS]&#160;&#160; , ObjectID&#160;&#160;&#160; , RO , fixed(0.0)</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Includesbc-71"></a><a name="Includes" id="Includes">Includes</a></p>
<p class="WD_Normal">Includes is a new functionality that has been added in version 19.5.&#160; It allows you to have some common parts of a var file shared by many devices and works similar to the include functionality in programming languages.&#160;&#160; The full path to the included file needs to be specified.</p>
<p class="WD_Normal">The syntax of the include is shown below.</p>
<address>%sapinclude &lt;full_path_to_a_var_file&gt;</address>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Example:</p>
<p class="WD_Normal">%sapinclude /opt/sapro/var/common.var</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Attribute_Informationbc-72"></a><a name="Attribute_Information" id="Attribute_Information">Attribute Information</a></p>
<p class="WD_Normal">Attribute information lines contain information about one variable on one line. The information should <i>not</i> be split into multiple lines by an embedded carriage return or line feed. The format is as follows:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&lt;<i>attribute id</i>&gt;, &lt;<i>type</i>&gt;, &lt;<i>access</i>&gt;, &lt;<i>value info</i>&gt;</p>
<p class="WD_Caption">&#160;</p>
<p class="WD_hangba">attribute id&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-weight:normal;">Can be specified as an object identifier, (example: 1.3.6.1) or a mixture of object descriptors and object identifiers (example: sysDescr.0). The object identifier also includes the instance component.</span></p>
<p class="WD_hangba">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-weight:normal;">In the case of Integer based indexes, a range notation may also be used.&#160; Three types of range notations are supported.</span></p>
<p class="WD_hangba">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RangeType1 :<span style=" font-weight:normal;">&#160; myPortStatus.[1-24] would be a shorthand way to specify 24 instances on 24 lines of the type myPortStatus.1, myPortStatus.2, ... myPortStatus.24.&#160;&#160; This creates 24 variable entries, which can all have different values.</span></p>
<p class="WD_hangba">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RangeType2 :<span style=" font-weight:normal;">&#160; myPortStatus.{1-24} would be another shorthand way to specify 24 instances of myPortStatus from myPortStatus.1, myPortStatus.2, ... myPortStatus.24.&#160; In this case, only one variable entry is created, and all the instances share the same value. Using this style, where possible, allows faster retrieval of very large tables.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">RangeType3 :<span style=" font-weight:normal;">&#160; mySpecialStatus.[1-3].(1-3).&#160; In this case the subid inside the ( ) brackets grows by one for each change in the prior [ ] bracket subid.&#160; So you will end up with 1.1, 2.2, and 3.3 as instances.&#160; If you had mySpecialStatus.[1-3].[1-3], you would end up with 1.1, 1.2, 1.3, 2.1, 2.2, 2.3, 3.1.3.2, and 3.3 as instances.</span></p>
<p class="WD_hangba">type&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-weight:normal;">Can be any valid SNMP data type.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">Example:<span style=" font-weight:normal;">Counter, Gauge, IpAddress, NetworkAddress, Integer, OctetString, ObjectID, Bits, Counter64</span></p>
<p class="WD_hangba">access&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-weight:normal;">Can be RO, RW, WO, NA (for read-only, read-write, write-only and not applicable)</span></p>
<p class="WD_hangba">value info<span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Can be one of the following:</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> fixed&lt;<i>current value</i>&gt;: <span style=" font-weight:normal;">always return the current value, and the value cannot be changed later.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> dfixed&lt;<i>default value</i>&gt;: <span style=" font-weight:normal;">returns the value from the associated instance component specified during instance creation. Typically this value type is used for index columns of tables that allow dynamic row creation. If interfaces were dynamic, using dfixed, ifIndex.5 will return a value of 5 and ifIndex.77 will return a value of 77.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> lastset&lt;<i>current value</i>&gt;: <span style=" font-weight:normal;">return current value. When changed after a set request, return the last set value.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> r_lastset&lt;<i>min_val, max_val, current value</i>&gt;: <span style=" font-weight:normal;">return current value. When changed after a set request, return the last set value. Also does automatic range validation during set requests. This value type is typically used for RW variables with size constraints.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> random&lt;<i>starting value, delta(,optional min)</i>&gt;: <span style=" font-weight:normal;">This valuetype is typically used for variables of type Gauge whose values can go up and down.&#160; The value starts with the starting value, and then on subsequent polls it computes a random number between 0 and delta, and if this delta is odd, it adds it to the previously returned value, and if it is even, it subtracts it from the previously returned value. If the optional minimum is specified, the random number computed is between the minimum specified and delta, instead of being between 0 and delta.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> randomup&lt;<i>starting value, delta(,optional min)</i>&gt;: <span style=" font-weight:normal;">return a value that is randomly larger than the last returned value by an amount of at most delta. This value type is typically used for variables of type Counter. Note: you can optionally add a third variable which will set a minimum delta value. Leaving this third value off will set the minimum delta value to 1.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> clock&lt;<i>starting value when Agent starts</i>&gt;: <span style=" font-weight:normal;">return a value that is equal to starting value + the amount of timeticks that the Agent has been up.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> sequential&lt;<i>minimum, maximum</i>&gt;: <span style=" font-weight:normal;">return a value that is larger than the last value returned by 1, and cycles between minimum and maximum specified.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> seqinc&lt;<i>minimum, increment, maximum</i>&gt;: <span style=" font-weight:normal;">return a value that is larger than the last value returned by the specified increment, and cycles between minimum and maximum specified.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> seqtimeinc&lt;<i>start, multiplier, maximum, (optional divisor)</i>&gt;: <span style=" font-weight:normal;">return a value that is computed as start + ((time since start of Agent)* multiplier)/divisor, and latches on to the maximum is non zero. If no divisor is present, it is treated as 1. This can be used to simulate the y=mx+c type of a graph.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">seqrandtimeinc&lt;<i>start, multiplier, divisor, delta)</i>&gt;: <span style=" font-weight:normal;">return a value that is computed as start + ((time since start of Agent)* multiplier)/divisor + random(0, delta). If no divisor is present, it is treated as 1. This can be used to simulate the y=mx+c type of a graph with some randomness added on top.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> utilization&lt;<i>start, delta, maximum, (optional min)</i>&gt;: <span style=" font-weight:normal;">returns a value that starts of with start and then on each subsequent poll it adds or subtracts a random number between 0 and delta from the previously returned value to vary between 0 and maximum.&#160; If the optional minimum value is specified, the returned value will vary between min and maximum.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> rangeindex&lt;<i>number of subid</i>&gt;: <span style=" font-weight:normal;">return a value that is the same as the value of the specified subidentifier in the attribute object identifier. This is useful in specifying the value of the index column, for a variable defined using the range syntax.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> testandinc&lt;<i>currentvalue</i>&gt;: <span style=" font-weight:normal;">returns the current value, and increments the value during set operations only if the set value is the same as the current value. This value type is used to implement the TestAndInc textual convention.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> rowstatus&lt;<i>currentvalue</i>&gt;: <span style=" font-weight:normal;">implements the semantics for dynamic row creation, as specified by the RowStatus textual convention.&#160;&#160; This would be used only for those tables that have been defined as “dynamic” and are of type “rowstatus”.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> rmonstatus&lt;<i>currentvalue</i>&gt;: <span style=" font-weight:normal;">implements the semantics for dynamic row creation, as specified by the EntryStatus textual convention used in RMON.&#160; This would be used only for those tables that have been defined as “dynamic” and are of type “rmonstatus”.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> indexvalue<i>&lt;index_position&gt;</i>: <span style=" font-weight:normal;">returns the value of the subidentifier in the specified <i>index_position</i> from the object identifier of the variable. If <i>index_position</i>&#160; is set to 0, the last subidentifier in the object identifier is returned. This can be used in the fixedrange style table definition.</span></p>
<p class="WD_hangba">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-weight:normal;">The following special cases are supported</span>:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p style=" margin-left:2.5in; text-indent:0in;" class="WD_hangba">indexvalue(&lt;multiplier&gt;*b+a:&lt;startingvalue&gt;)<br />
<span style=" font-weight:normal;">the value of the last but one subid in the instance is multiplied by the specified multiplier, and added to the value of the last subid in the instance.&#160; They are then added to the starting value and this value is returned.</span></p>
<p style=" margin-left:2.5in;" class="WD_hangba">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; indexvalue(&lt;min&gt;-&lt;max&gt;-&lt;0/1&gt;) <span style=" font-weight:normal;">the value of the last subidentifer (if starting from 0) or it subtracted by 1 (if starting from 1),&#160; is modulo (max + 1 - min), added to the min value.</span></p>
<p style=" margin-left:2.5in;" class="WD_hangba">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; indexvalue(subindex, offset) <span style=" font-weight:normal;">the value of the last subidentifer (if starting from 0) or it subtracted by the offset specified..</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> indexmac&lt;index_position,(optional offset),byte_string&gt;: <span style=" font-weight:normal;">returns a string where the last 4 bytes are based on the value of the subidentifier&#160; in the specified <i>index_position</i> from the object identifier of the variable.&#160; If <i>index_position</i> is set to 0, the last&#160; subidentifier in the object identifier is used.&#160; This can be used in the fixedrange style table definition. If the byte_string is the special string “mac”, then the index position is treated as the starting subid of the object identifier and 5 subsequent subids are taken together to create a 6 byte octet string value. The optional offset can be set to 0 in this case.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">indexstr&lt;index_position,(optional offset),formatstring&gt;: <span style=" font-weight:normal;">returns a string where the formatstring like abc%d, where the value of %d is substituted with the computed value of the subidentifier&#160; in the specified <i>index_position</i> from the object identifier of the variable.&#160; If <i>index_position</i> is set to 0, the last&#160; subidentifier in the object identifier is used.&#160; If the optional offset is specified, then it is subtracted from the index value.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">twoindexstr&lt;index_pos1,offset1,index_pos2, offset2,formatstring&gt;: <span style=" font-weight:normal;">returns a string where the formatstring like abc%d.pqr%d, where the value of the first %d is substituted with the computed value of the subidentifier&#160; in the specified <i>index_pos1</i> from the object identifier of the variable.&#160; The value of <i>offset1</i> is then subtracted from it.&#160;&#160; The second %d, is substituted by the computed value of subidentifier in the <i>index_pos2</i> from the object identifier of the variable.&#160; The value of <i>offset2</i> is then subtracted from it.&#160; If <i>index_position</i> is set to 0, the last&#160; subidentifier in the object identifier is used.&#160;</span></p>
<p class="WD_hangba">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; indexip&lt;index_position, offset, starting_ipaddress &gt;: <span style=" font-weight:normal;">returns a IP address where the specified starting IP address is added to the value of the subidentifier in the specified <i>index_position</i> from the&#160; object identifier of the variable.&#160; If <i>index_position</i> is set to 0, the last subidentifier in the object identifier is used.&#160; If the <i>offset</i> value is set to 0, it is ignored. If the starting ip address is the special string “ip”, then the index position and offset are treated as the starting subid and the ending subid of the object identifier.&#160; They are expected to be 4 apart, and the values of the 4 subids in the range specified are collated together to get an ip address.&#160;</span></p>
<p style=" text-indent:0in;" class="WD_hangba">fastclock&lt;starting value when Agent starts, percentage_multiplier&gt;: <span style=" font-weight:normal;">return&#160; a value that is equal to (percentage_multiplier * (starting value + the amount of timeticks that the Agent has been up.)/100)</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> valuelist&lt;<i>val1, val2, val3,…valn</i>&gt;: <span style=" font-weight:normal;">returns a value from a predefined set, giving val1 for the first query, val2 for the next and so on.&#160;&#160; Once all the values are returned, it starts from the beginning.&#160;&#160; This can be used during regression testing against a known set of values.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> valueintlist<i>&lt;val1, val2, val3, val4....&gt;</i>:&#160; <span style=" font-weight:normal;">return a value from a pre-defined set, giving val1, for the first query, val2 for the next and so on.&#160;&#160; This can be used during regression testing.&#160; It starts from the first value after the last value is returned.&#160; This is a memory optimized version of valuelist specifically for integer values.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> valuelistinfile<i>&lt;file_name</i>&gt;:&#160; <span style=" font-weight:normal;">return a value from a pre-defined comma separated list, specified in a file.&#160; This can be used instead of valuelist, when the list is very long.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> valueintlistinfile<i>&lt;file_name&gt;</i>:&#160; <span style=" font-weight:normal;">return a value from a pre-defined comma separated list, specified in a file.&#160; This can be used instead of valueintlist, when the list is very long.</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> valuelistinonefile<i>&lt;file_name(,optional type, pinterval)</i>&gt;:&#160; <span style=" font-weight:normal;">return a value from a pre-defined comma separated list, specified in a file.&#160; The contents of the file should have been generated as a result of running the sappoll and sapvfilter command line utilities. The optional type determines the behavior after all the values are given.&#160; Currently 4 types are supported.&#160; They are: CYCLIC (this is the default behavior), where the first value is once again returned&#160; MAX: where the last value is always returned, DELTA where new values are computed based on the difference between 1-2, 2-3,.. and these differences are added to the last value, TIMED where the values returned are a function of the passage of time along with the poll interval (specified as an additional argument) and the values in the sample. (like the seqtimeinc between the two sample values in the file)</span></p>
<p class="WD_hangba"><span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> rupmultlist<i>&lt;starting_value, delta, percentage1, percentage2, ...&gt;</i> <span style=" font-weight:normal;">This is similar to randomup, except it uses the percentage multiplier list to change the delta for each sample.&#160; Thus the first time the value is retrieved, a random number between&#160; 0 and ((delta * percentage1)/100) will be computed, and added to the starting value.&#160; At the next sample, a random number&#160; between 0 and ((delta * percentage2)/100) will be computed and added to the previously returned value.&#160; This allows the representation of statistics that are dependent on the time of day when polled.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">timedrandomup<i>&lt;starting value, delta(,optional min)&gt;</i>: <span style=" font-weight:normal;">return a value that is randomly larger than the last returned value by an amount of at most (delta * numsecs_since_lastpoll). This value type is typically used for variables of type Counter. Note: you can optionally add a third variable which will set a minimum delta value. Leaving this third value off will set the minimum delta value to 1.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">onerandomup<i>&lt;starting value, delta(,optional min)&gt;</i>: <span style=" font-weight:normal;">return a value that is randomly larger than the last returned value by an&#160; amount of at most delta.&#160; This value type is typically used for variables of&#160; type Counter that are dependent on each other.&#160; All variables of this type will use the same value of delta, if they are requested in the same PDU.&#160; If the optional minimum is specified, the random number computed is between the minimum specified and delta, instead of being between 0 and delta.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">nullvalue() <i>&gt;</i>: <span style=" font-weight:normal;">return a ASN.1 NULL value for a manageable object.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">trafficpercent<i>&lt;traffic_id, starting_traffic_val, delta, percent_of_it&gt;</i>: <span style=" font-weight:normal;">return a value which is percent of a total traffic value, that gets updated by the specified delta only once per pdu.&#160; A max of 50 such traffic_ids can be defined.&#160; This allows you to have multiple counters that are interdependent on each other and can be defined to be a fraction/percentage of a total.&#160; If traffic was a sum of two counters, myGoodPackets and myBadPackets, where myGoodPackets was 95% and myBadPackets was 5%, you can define myGoodPackets to have a valuetype of “trafficpercent(1, 10000, 100, 95)”,&#160; and&#160; myBadPackets to have a valuetype of “trafficpercent(1, 10000, 100, 5)”.&#160; 1 is the traffic_id, 10,000 is the starting value for the total traffic, 100, is the max delta that the total traffic will go up by, each time either of them are polled, and 95 and 5 are the percent of the traffic for each.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">step&lt;<i>start, timeinsec, increment, (optional max)</i>&gt;: <span style=" font-weight:normal;">returns a value that is computed as start + (time since start of Agent divided by timeinsec) * increment, and latches on to the maximum if non zero.&#160; It can be used to simulate a simple step function.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">tooth&lt;<i>min, multiplier, max)</i>&gt;: <span style=" font-weight:normal;">returns a value that is computed as min + (time since start of Agent) *multiplier, and if it exceeds max, then the slope is reversed.&#160; It can be used to simulate a simple saw tooth graph.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">addr2str&lt;ip(,optional subidindex(,(optional offset))&gt;: <span style=" font-weight:normal;">returns a value that is the hex equivalent of the ipaddress specified. If optional subid index is given, then the value of the subid in the instance component is added to the base ip.&#160; If the optional offset is given, then the value specified is subtracted from the instance subid value before it gets added to the base ip.&#160; If the IP address is specified as “X:192.168.100.10”, then the starting capital X indicates that the hex value using “capitals” should be returned.&#160; By default the hex value uses lower case letters.</span></p>
<p style=" text-indent:0in;" class="WD_hangba">&#160;</p>
<p class="WD_hangba">&#160;</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Information in the Variable Information File is assumed to be lexicographically sorted.</p>
</div>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Dynamic_Row_Creationbc-73"></a><a name="Dynamic_Row_Creation" id="Dynamic_Row_Creation">Dynamic Row Creation Information</a></p>
<p class="WD_Normal">This section identifies tables in the MIB that support dynamic row creation. Only three types of dynamic row creation mechanisms are currently supported:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_hangba">newinstance<span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Treats an SNMP Set request for an instance which does not exist as a Row Creation request.</span></p>
<p class="WD_hangba">rowstatus<span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Uses a column in the table of type “RowStatus”, which is an enumerated integer that can take values like “valid”, “notReady”, “notInService”, “createAndGo”, “createAndWait”, and “destroy”.</span></p>
<p class="WD_hangba">rmonstatus<span style=" font-weight:normal;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Uses a column in the table of type “EntryStatus” (RFC 1757), which is an enumerated integer that can take values like “valid”, “createRequest”, “underCreation”, and “invalid”.</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The dynamic row information is specified as follows:</p>
<p class="WD_Normal">%drow&#160; <i>&lt;table_entry&gt;</i>&#160;&#160; newinstance</p>
<p class="WD_Normal">%dcol&#160;&#160;&#160; <i>&lt;column1&gt;&#160; &lt;required_or_not&gt;&#160; &lt;type&gt;&#160; &lt;access&gt;&#160; &lt;value info&gt;</i></p>
<p class="WD_Normal">%dcol&#160;&#160;&#160; <i>&lt;column2&gt;&#160; &lt;required_or_not&gt;&#160; &lt;type&gt;&#160; &lt;access&gt;&#160; &lt;value info&gt;</i></p>
<p class="WD_Normal">..........</p>
<p class="WD_Normal">%dcol&#160;&#160;&#160; <i>&lt;columnN&gt;&#160; &lt;required_or_not&gt;&#160; &lt;type&gt;&#160; &lt;access&gt;&#160; &lt;value info&gt;</i></p>
<p class="WD_Normal">%setaction <i>&lt;columnN&gt; &lt;type&gt; &lt;value&gt; deleterow()</i></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</b> or</p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal">%drow&#160; &lt;table_entry&gt;&#160;&#160; rowstatus</p>
<p class="WD_Normal">%dcol&#160;&#160;&#160; <i>&lt;column1&gt;&#160; &lt;required_or_not&gt;&#160; &lt;type&gt;&#160; &lt;access&gt;&#160; &lt;value info&gt;</i></p>
<p class="WD_Normal">%dcol&#160;&#160;&#160; <i>&lt;column2&gt;&#160; &lt;required_or_not&gt;&#160; &lt;type&gt;&#160; &lt;access&gt;&#160; &lt;value info&gt;</i></p>
<p class="WD_Normal">..........</p>
<p class="WD_Normal">%dcol&#160;&#160;&#160; <i>&lt;columnN&gt;&#160; &lt;required_or_not&gt;&#160; &lt;type&gt;&#160; &lt;access&gt;&#160; &lt;value info&gt;</i></p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; or</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">%drow&#160; <i>&lt;table_entry&gt;</i>&#160;&#160; rmonstatus</p>
<p class="WD_Normal">%dcol&#160;&#160;&#160; <i>&lt;column1&gt;&#160; &lt;required_or_not&gt; &#160;&lt;type&gt;&#160; &lt;access&gt;&#160; &lt;value info&gt;</i></p>
<p class="WD_Normal">%dcol&#160;&#160;&#160; <i>&lt;column2&gt;&#160; &lt;required_or_not&gt;&#160; &lt;type&gt;&#160; &lt;access&gt;&#160; &lt;value info&gt;</i></p>
<p class="WD_Normal">..........</p>
<p class="WD_Normal">%dcol&#160;&#160;&#160; <i>&lt;columnN&gt;&#160; &lt;required_or_not&gt;&#160; &lt;type&gt;&#160; &lt;access&gt;&#160; &lt;value info&gt;</i></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The &lt;<i>required_or_not</i>&gt; field specifies whether the value of the column is required for dynamic row creation to be successful. If it is set to “Req”, then unless the value for that column is specified, row creation will fail. By default, the SimpleAgentPro marks all the RW columns in a table that are not indexes, as “Req”. Index columns are marked as “NotReq”.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Templates for dynamic row creation are automatically created for the <i>newinstance</i> and <i>rowstatus</i> types.&#160; Automatic creation of templates for rmon tables is currently not supported. The created templates are prepended with a ‘<b>#</b>’ sign to make them into a comment. To enable the dynamic row specification, simply remove the starting hash signs.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the case of a &lt;<i>newinstance</i>&gt; type of a row, you also need to specify the value for the column that controls the deletion of the dynamically created row (if your tables support row deletion). For example, in the ipNetToMedia Table, there is a column called ipNetToMediaType, whose value when set to “2” (invalid), causes the row to be deleted from that table.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In that case, the last line of the specification for ipNetToMediaEntry should be changed to read:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">%setaction&#160;&#160;&#160;&#160; ipNetToMediaType&#160;&#160;&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; 2&#160;&#160;&#160;&#160;&#160;&#160; deleterow( )</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For tables that support the “RowStatus” method of row creation, a special set action specification is NOT required.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Dynamic row templates are commented out. You need to edit the variable file and uncomment them for them to be utilized.</p>
</div>
<p class="WD_algorithm">&#160;</p>
<p class="WD_Note1"><img width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The %setaction clause for dynamic row creation of type newinstance also needs to be edited and the string “&lt;<i>specify_value</i>&gt;” needs to be replaced with the appropriate value of the variable that would cause row deletion.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Community_String_Indexingbc-74"></a><a name="Community_String_Indexing" id="Community_String_Indexing">Community String Indexing</a></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For some standard MIBs, it is assumed that only one instance of it can exist within a device.&#160;&#160; When a device supports multiple instances of a standard MIB, companies like Cisco, use a community string indexing scheme to access variables within the standard MIB.&#160; So “public” or <a href="mailto:public@1">public@1</a> will give access to the first instance of the standard MIB, but for additional instances, you need to use <a href="mailto:public@2">public@2</a> or <a href="mailto:public@vlan-5">public@vlan-5</a> etc to get the information.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For supporting community string indexing within the context of the same device, additional sections can be included within the variable file itself.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">%csibegin &lt;oid&gt; &lt;community_id&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; list of variables</p>
<p class="WD_NormalIndent">%csiend</p>
<p class="WD_NormalIndent">&#160;</p>
<p class="WD_Normal">The oid specifies the branch of the mib registration tree that is to be “overwritten” by the information in the %csi section for the specified community string.&#160; Currently only one branch can be overwritten.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The community_id would be the index that is appended to the original community string. In cases when the same information is available through multiple indexes (eg: 2 and vlan-2), then the community id can be “2 vlan-2”.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">By default, it uses the notation of public@2 and public@vlan-2 as the community strings to use when accessing this section.&#160; If however you wanted it to do 2@public and vlan-2@public instead, you can specify the community_id to be “SSN@SSM 2 vlan-2”.&#160;&#160; If you just want it to be 2 and vlan-2, then you can specify the community_id to be “SSN@NONE 2 vlan-2”</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Multiple %csibegin - %csiend sections are supported.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For incoming SNMPv3 requests, the community strings like”2” and “vlan-2” are also automatically supported as SNMPv3 context-names, giving the information limited to the mib branch that is overwritten, as explained above.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">An example entry is shown below, where the csibegin/end section is added at the end of the variable file.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">…</p>
<p style=" margin-left:.5in;" class="WD_script">1.3.6.1.4.1.9.9.48.1.1.1.7.9,&#160; Gauge&#160; , RO,&#160; utilization(8, 2, 12)</p>
<p style=" margin-left:.5in;" class="WD_script">1.3.6.1.4.1.9.9.48.1.1.1.7.10, Gauge&#160; , RO,&#160; utilization(8, 2, 12)</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<p style=" margin-left:.5in;" class="WD_script">#vlan2</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<p style=" margin-left:.5in;" class="WD_script">%csibegin 1.3.6.1.2.1.17 2 vlan-2</p>
<p style=" margin-left:.5in;" class="WD_script">1.3.6.1.2.1.17.1.2.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ,&#160;&#160; Integer,&#160; RO, fixed(3)</p>
<p style=" margin-left:.5in;" class="WD_script">1.3.6.1.2.1.17.1.3.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ,&#160;&#160; Integer,&#160; RO, fixed(2)</p>
<p style=" margin-left:.5in;" class="WD_script">1.3.6.1.2.1.17.1.4.1.1.[7-11] ,&#160;&#160; Integer,&#160; RO, fixed(1)</p>
<p style=" margin-left:.5in;" class="WD_script">1.3.6.1.2.1.17.1.4.1.2.[7-11] ,&#160;&#160; Integer,&#160; RO, fixed(1)</p>
<p style=" margin-left:.5in;" class="WD_script">1.3.6.1.2.1.17.1.4.1.3.[7-11] ,&#160;&#160; ObjectID, RO, fixed(0.0)</p>
<p style=" margin-left:.5in;" class="WD_script">1.3.6.1.2.1.17.1.4.1.4.[7-11] ,&#160;&#160; Counter,&#160; RO, randomup(0, 100)</p>
<p style=" margin-left:.5in;" class="WD_script">1.3.6.1.2.1.17.1.4.1.5.[7-11] ,&#160;&#160; Counter,&#160; RO, randomup(0, 100)</p>
<p style=" margin-left:.5in;" class="WD_script">1.3.6.1.2.1.17.4.3.1.1.1.4.2.[7-11].1.2,OctetString,RO, indexstr(14,0,0x010402%02x0102)</p>
<p style=" margin-left:.5in;" class="WD_script">1.3.6.1.2.1.17.4.3.1.2.1.4.2.[7-11].1.2,Integer,RO, indexvalue(14)</p>
<p style=" margin-left:.5in;" class="WD_script">1.3.6.1.2.1.17.4.3.1.3.1.4.2.[7-11].1.2,Integer,RO, fixed(3)</p>
<p style=" margin-left:.5in;" class="WD_script">%csiend</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<p class="WD_Normal">&#160;</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p style=" margin-left:3.6in; text-indent:0in;" class="WD_chaptitle"><a name="Chapter_7_Creatingbc-75"></a><a name="Chapter_7_Creating" id="Chapter_7_Creating">Chapter 7<br />
Creating Devices</a></p>
<p class="WD_Normal">Once you have created the map, compiled the MIB, and created the data in the variable file, the next step to creating the simulation is adding devices to the map.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">When you define a device, not only can you specify its IP properties, but also its SNMP, Telnet/CLI, SSH, HTTP, HTTPs, TL1, TFTP, FTP and Netflow properties.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_Normal">This chapter describes the following:</p>
<p class="WD_Normal">&#160;</p>
<ul style=" margin-top:0in;" type="disc">
<li>
<p>Creating, modifying and deleting devices</p>
</li>
<li>
<p>Cloning devices for simulation purposes</p>
</li>
<li>
<p>Precompiling devices for devices with large variable files</p>
</li>
<li>
<p>Getting statistics from a device</p>
</li>
<li>
<p>Generating Traps from a device</p>
</li>
<li>
<p>Sending TCL commands to a device</p>
</li>
<li>
<p>Restarting a device</p>
</li>
<li>
<p>Enabling/Disabling a device</p>
</li>
<li>
<p>Starting/Stopping a device</p>
</li>
</ul>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="The_Devices_Menubc-76"></a><a name="The_Devices_Menu" id="The_Devices_Menu">The Devices Menu</a></p>
</div>
<p class="WD_Normal">Use the <i>Device</i> menu to create, delete and modify a device in the current map.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The Add/Modify/Delete Device window is shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="415" height="558" src="pro_205_files/image031.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_15_Add_Modify" id="Figure_15_Add_Modify">Figure</a> 15:&#160; Add/Modify/Delete Device window</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Creating_a_Devicebc-77"></a><a name="Creating_a_Device" id="Creating_a_Device">Creating a Device</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Device→New</i></b> to define a new device in the currently displayed map.&#160; A similar window with Create and Done buttons will be displayed which allows you to define the properties of the device.&#160; Choose <b><i>Device→Properties</i></b> to modify the properties of an existing device</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="General_Information_Tabbc-78"></a><a name="General_Information_Tab" id="General_Information_Tab">General Information Tab</a></p>
<p class="WD_Normal">The first tab shown above is the General Information Tab.&#160; It allows you to specify if the device is a multihomed device or a proxy device.&#160; If it is a multihomed device, it also allows to specify if it will use a user-defined IP address or obtain an IP address automatically using DHCP.</p>
<p class="WD_Normal">&#160;</p>
<p style=" text-indent:0in;" class="WD_Heading3">Use the following IP address:</p>
<p class="WD_Normal">When specifying addresses, care must be taken that the specified addresses are not in use. SimpleAgentPro will use multi-homed IP to add the specified IP addresses to the local machine’s TCP/IP stack.</p>
<p class="WD_MIBObject">IP Address:</p>
<p class="WD_Normal">The IP address of the simulated device.&#160; Please note&#160; that this address should be different from the machine on which the SimpleAgentPro is running.&#160; It should also be an address that is not in use by someone else on your network.&#160;</p>
<p class="WD_MIBObject">Subnet Mask:</p>
<p class="WD_Normal">The Subnet mask for this simulated device.&#160;</p>
<p class="WD_MIBObject">MAC Address:</p>
<p class="WD_Normal">The MAC address of this simulated device.&#160; Unless using the special SimpleAgentPro UDP/IP stack on&#160; Windows, this field is purely textual information that is associated with the device and is not used by underlying networking interface.&#160; The MAC Address for the simulated device in a multi-homed IP environment will be the same as the MAC address of the interface card on the machine running the SimpleAgentPro software.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentPro Linux version support static IPv6 addresses.&#160;&#160; You can specify an IPv6 address in the IP address field above.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In <b>SimpleAgentEnterprise</b>, you can specify that one device context should support multiple IP addresses by clicking on the “Advanced” button.&#160; When using the subnet option, you can have one device context support an entire subnet.&#160; Please note that in this case the devices will be identical and since there is only one device context, requests to the separate devices will be handled serially.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="415" height="185" src="pro_205_files/image033.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><a name="Figure_16_IP_Options" id="Figure_16_IP_Options">Figure</a> 16:&#160; IP Options screen in SimpleAgentEnterprise</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" text-indent:0in;" class="WD_Heading3">Obtain an IP Address automatically (DHCP):</p>
<p class="WD_Normal">If you are using the DHCP option, you need to specify a name (eg: dhcp1) and a unique MAC address. &#160;&#160;The MAC address needs to be specified in the HEX format (eg: 010203040506).&#160; When the Map is started, the SimpleAgentPro will broadcast a DHCP request with the device’s MAC address and try to reach a DHCP server that is present. It then accepts the first offer that it receives and uses the IP address given by the DHCP server.</p>
<p class="WD_MIBObject">Name:</p>
<p class="WD_Normal">The name of the simulated device.&#160; It needs to be unique within a map.&#160; It is also used in the DHCP query.</p>
<p class="WD_MIBObject">MAC Address:</p>
<p class="WD_Normal">The MAC address of this simulated device.&#160; This has to be unique when using DHCP since it is used to get unique IP addresses assigned.&#160; Please note that the MAC Address for the simulated device in a multi-homed IP environment will be the same as the MAC address of the interface card on the machine running the SimpleAgentPro software.</p>
<p class="WD_MIBObject">Advanced:</p>
<p class="WD_Normal">Clicking on the Advanced button allows you to specify DHCPv4 or DHCPv6, along with related information like type of requests (like broadcast/unicast, server Ips), DHCP packet header info (like broadcast flags, relay options) and DHCP options.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="347" height="473" src="pro_205_files/image035.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_17_DHCP_Advanced" id="Figure_17_DHCP_Advanced">Figure</a> 17:&#160; DHCP Advanced Options</p>
<p style=" text-indent:0in;" class="WD_Heading3">Proxy:</p>
<p class="WD_Normal">In case of a Proxy device, the screen prompts for the device name.&#160; This name, for proxy devices, must be part of the community string of the incoming request. You can also specify the IP address of the master proxy agent to which this is associated.&#160; If none is specified, the IP address of the machine on which the SimpleAgentPro is running is used as the master proxy agent's IP Address.&#160; When the associated master proxy agent's IP Address is specified, make sure that a multihomed device with that IP Address is also added to the map.&#160;&#160; In addition to v1/v2 community based proxy, this field can also be used to specify Context-Names, and Context EngineIds for SNMPv3 style proxies.</p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_MIBObject">Name:</p>
<p class="WD_Normal">The device identifier for the proxy.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the proxy mode, SimpleAgentPro uses a community string-based proxy scheme to identify the device for which the request is intended. Thus, the community string in the request is assumed to be made up of <i>&lt;privilege identifier&gt;&lt;separator&gt;&lt;device identifier&gt;</i></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_hang10"><i>privilege identifier</i>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">The actual community string that the device looks at \ to check whether the requester has the necessary privileges to carry out the SNMP operation.</span></p>
<p class="WD_hang10"><i>separator</i><span style=" font-family:'Book Antiqua' ,'serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> <span style=" font-family:'Times New Roman' ,'serif';">A character specified in the config.inp file.</span></p>
<p class="WD_hang10"><i>device identifier</i><span style=" font-family:'Book Antiqua' ,'serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> <span style=" font-family:'Times New Roman' ,'serif';">The name of the device.</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In cases where no separator is used and the privilege identifier is the same as the device identifier, the special keyword "NONE" can be used as the value of SEPARATOR in the <span style=" font-family:'Arial' ,'sans-serif';">config.inp</span> file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the case of SNMPv3, it can be the context name or the context engineid or the contextengineid:contextname</p>
<p class="WD_MIBObject">IP Address:</p>
<p class="WD_Normal">The IP address of the associated master proxy device.&#160; It needs to be present in the same map.&#160;</p>
<p class="WD_MIBObject">User Data:</p>
<p class="WD_Normal">This is an optional “user cookie” field that allows you to associate a string value with a device.&#160; This value can be accessed by device tcl scripts by using the SA_getdeviceuserdata&#160; tcl command.&#160;&#160; This allows the same modeling files to be shared among many maps and yet exhibit slightly different behavior based on the data value specified in the map files.&#160; By default, it is left blank.&#160; This field can also be used to specify additional DHCP options.&#160; To include additional DHCP options, you can use the special string syntax of “<span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">DHCPGW=&lt;gateway_ip_addr&gt;</font></span>” or “<span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">DHCPOPT=&lt;options_string&gt;</font></span>”.&#160;&#160; The options string itself is specified as a hex string like “<span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">0x3c0401020304.</font></span>”&#160; The default dhcp timeout of 3 secs and maximum retry count of 3 can also be overridden by using “<span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">DHCPTIMEOUT</font></span>” and “<span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">DHCPRETRIES</font></span>” keywords.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Topology Data</p>
<p class="WD_Normal">This is an optional comma separated list of IP Addresses that will get assigned to special tokens “$$MYTOKENSNNN$$” that can be used in variable files. If the topology data string is set to “1.1.1.1,0x010203040506,”card in slot1”, and in the variable file associated with this device, you have used $$MYTOKENS001$$, $$MYTOKENS002$$ and $$MYTOKENS003$$, then $$MYTOKENS001$$ will be substituted by 1.1.1.1, $$MYTOKENS002$$ will be substituted by 0x010203040506 and so on. &#160;This allows one variable file to be shared by many devices, and sections in it to be dynamically, at runtime, substituted with a different set of values.&#160; This can also be used for topology relationships like neighbors.&#160; By default, it is left blank.&#160; The special token $$MYIPADDRESS$$ does not need this value and gets substituted by the simulated device’s IP address.&#160; If you have many such values, you can specify the special token TOKENFILE=”filename”, and have the specified file contain the values for the tokens.&#160; The values in this file are specifed on separate lines, with the syntax &lt;num&gt;=&lt;value&gt;.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Display Tag</p>
<p class="WD_Normal">This is an optional field that allows you to associate a string with the device.&#160; Often times, it becomes confusing to identify devices purely based on the IP address.&#160; You can associate a display tag of “CMTS” with one device and “CM_1” with another.&#160; This will help you identify different devices when viewing them on the map.&#160; No uniqueness criteria is enforced on the values by the SimpleAgentPro.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Display Logo</p>
<p class="WD_Normal">This is an optional field that allows you to associate a image file with the device for display.&#160; You can choose a .bmp file for display.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Modeling File</p>
<p class="WD_Normal">Specify the name of file that contains the modeling information. By default, no modeling file is associated with the device and it is not needed for normal operation. Only in the case of advanced operation is the modeling file necessary. The modeling files are expected to be in the TCL directory, and consist of TCL scripts to be executed at either initialization, or at timed intervals or at different points in the PDU processing. You can use the Browse button to look at existing files and directories.&#160; NOTE: This field was in the SNMP tab in past versions.</p>
<b><span style=" font-size:14.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif'; letter-spacing:-.5pt;"><font size="4" style="font-size:14pt;"><br clear="all" /></font></span></b>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="SNMP_Information_Tabbc-79"></a><a name="SNMP_Information_Tab" id="SNMP_Information_Tab">SNMP Information Tab</a></p>
<p class="WD_Normal">The second tab window is the SNMP Information window.&#160; It allows you to specify the SNMP characteristics of the simulated device.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="431" height="606" src="pro_205_files/image037.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_18_SNMP" id="Figure_18_SNMP">Figure</a> 18:&#160; SNMP Information Tab window</p>
<p class="WD_MIBObject">SNMP Version</p>
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">The device can support SNMPv1, SNMPv2c and SNMPv3.&#160; Select one or all of the versions supported.&#160; When all are supported, the simulated device is tri-lingual.</span></p>
<p class="WD_MIBObject">User Defined: Compiled MIB File</p>
<p class="WD_Normal">Specify the name of file that contains the output of the MIB compiler when it compiled one or more of the associated MIB files. You can use the Browse button to look at existing files and directories.</p>
<p class="WD_MIBObject">User Defined: Variable File</p>
<p class="WD_Normal">Specify the name of file that contains all the SNMP variables/instances along with the value information. You can use the Browse button to look at existing files and directories and specify a file name. Make sure that the SNMP variable information in this file is lexicographically sorted.</p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Please realize that there is an implicit tie between the Compiled MIB file and the Variable file. (The variable file contains object descriptors like sysDescr, while the associated MIB file contains information to map sysDescr to the object identifier 1.3.6.1.2.1.1.1.)</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Device Library:</p>
<p class="WD_Normal">This allows you to select pre-learnt devices from popular vendors of networking devices.&#160; Select the device that you wish to simulate from the available device selection.&#160; This automatically selects the associated compiled MIB file and variable file.</p>
<p class="WD_MIBObject">Read Community</p>
<p class="WD_Normal">This is the community string that grants read privileges to incoming SNMP requests. If a <i>Get/GetNext</i>/GetBulk request is received whose community string does not match the read community or the write community specified, the request is discarded.</p>
<p class="WD_MIBObject">Write Community</p>
<p class="WD_Normal">This is the community string that grants read/write privileges to incoming SNMP requests. If a SET request is received whose community string does not match the write community specified, the request is discarded.</p>
<p class="WD_MIBObject">SNMP Delay</p>
<p class="WD_Normal">This is the number of milliseconds the device should wait prior to sending the reply PDU. By default, the value of this variable is zero (0) milliseconds. This is useful to simulate a slow device that possibly uses a serial command interface to retrieve the instrumentation data.</p>
<p class="WD_MIBObject">MTU Size</p>
<p class="WD_Normal">This determines the maximum size of the response PDU generated by the Agent. A value from 1 to 1500 is expected. By default, the value of this variable is set to 1500 bytes.</p>
<p class="WD_MIBObject">Trap Manager(s)</p>
<p class="WD_Normal">These are the IP Addresses of the Trap Manager(s) to receive the traps emitted by the device. By default, the Trap Manager is set to <i>&lt;none&gt;.</i> This variable is only used by the modeling and setup TCL scripts.</p>
<p class="WD_MIBObject">Modeling File</p>
<p class="WD_Normal">&lt;This field has been moved to the General tab in Version 10.0&gt;</p>
<p class="WD_MIBObject">SNMP Port</p>
<p class="WD_Normal">Specify the port to be opened by the SNMP simulator.&#160; By default it is set to 161. If the SNMP agent is to be listening on a different port, please specify it here.</p>
<p class="WD_MIBObject">Enable TCP</p>
<p class="WD_Normal">From ver 19.5, you can also specify if you want to support TCP in addition to UDP on the SNMP port specified above.&#160; By default it is turned off.</p>
<p class="WD_MIBObject">SNMPv3 Properties…</p>
<p class="WD_Normal">When SNMPv3 is selected, the SimpleAgentPro also allows you to specify SNMPv3-related information in the Advanced…dialog box.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="334" height="356" src="pro_205_files/image039.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Caption"><a name="Figure_19_SNMPv3_Device" id="Figure_19_SNMPv3_Device">Figure</a> 19:&#160; SNMPv3 Device Information</p>
<p class="WD_MIBObject">Security Level:</p>
<p class="WD_Normal">Specify the Security level associated with the user.&#160; Note: All three leves are supported in shipping SAPro version, but Auth/Priv is disabled in the demo version.&#160;</p>
<p class="WD_MIBObject">Engine Id:</p>
<p class="WD_Normal">Specify the SNMP engine id for the device.&#160; If the value default is specified, the SimpleAgentPro computes the engine id using the IP address of the device and the enterprise id of SimpleSoft using the algorithm specified in RFC2271 (9 byte engine id, with the&#160; first four bytes set to the binary equivalent of the enterprise id of 784, and the first bit of the first byte set to 1, the fifth byte set to 1, and the sixth, seventh, eighth and ninth&#160; byte set&#160; to the IP address of the device).&#160;&#160; The value&#160; can be specified using the “0x…..” notation.</p>
<p class="WD_MIBObject">Context Id:</p>
<p class="WD_Normal">Specify the&#160; SNMP context id for the device.&#160; If the value default is specified, the SimpleAgentPro makes the context id the same as the SNMP engine id.&#160;&#160; The value&#160; can be specified using the “0x…..” notation.</p>
<p class="WD_MIBObject">Context Name:</p>
<p class="WD_Normal">Specify the&#160; SNMP Context Name for the device.&#160; The default value is null.</p>
<p class="WD_MIBObject">User Name:</p>
<p class="WD_Normal">Specify the SNMP User Name for the device.&#160; Multiple user names can be specified in a comma separated list.&#160; By default the value is set to noAuthUser.</p>
<p class="WD_MIBObject">Authentication:</p>
<p class="WD_Normal">Specify the authentication protocol to be used.&#160;&#160; Two types of authentication schemes are supported:&#160; HMAC_MD5_96 and HMAC_SHA_96.</p>
<p class="WD_MIBObject">Authentication Password:</p>
<p class="WD_Normal">Specify the value of the password to be used for authentication using the above scheme.</p>
<p class="WD_MIBObject">Privacy Password:</p>
<p class="WD_Normal">Specify the value of the password to be used for privacy using the above protocol.</p>
<b><span style=" font-size:14.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif'; letter-spacing:-.5pt;"><font size="4" style="font-size:14pt;"><br clear="all" /></font></span></b>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Telnet_CLI_Informationbc-80"></a><a name="Telnet_CLI_Information" id="Telnet_CLI_Information">Telnet/CLI&#160; Information Tab</a></p>
<p class="WD_Normal">The next tab window is the Telnet/CLI Information window.&#160; It allows you to specify the Telnet/CLI characteristics of the simulated device.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="415" height="558" src="pro_205_files/image041.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_20_Telnet_CLI" id="Figure_20_Telnet_CLI">Figure</a> 20:&#160; Telnet/CLI Information Tab window</p>
<p class="WD_MIBObject">Telnet Port</p>
<p class="WD_Normal">Specify the port to be opened by the telnet/CLI simulator if required.&#160; By default it is set to 23. If a telnet file is specified for this device, a valid port number should be specified.</p>
<p class="WD_MIBObject">Telnet Modeling File</p>
<p class="WD_Normal">Specify the name of file that contains the telnet response modeling information. By default, no telnet modeling file is associated with the device and no telnet server is started.&#160; Telnet modeling files are typically kept in the sapro/telnet directory and have a .tel extension.</p>
<p class="WD_Normal">You can use the Browse button to look at existing files and directories.&#160; Please look at the Chapter on Telnet for the format of the telnet file and other related information.</p>
<b><span style=" font-size:14.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif'; letter-spacing:-.5pt;"><font size="4" style="font-size:14pt;"><br clear="all" /></font></span></b>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Http_local_Informationbc-81"></a><a name="Http_local_Information" id="Http_local_Information">Http(local)&#160; Information Tab</a></p>
<p class="WD_Normal">The next tab window is the Http(local) Information window.&#160; It allows you to specify the Http and Https characteristics of the simulated device. The SimpleAgentPro supports either the Apache or the Tcl HTTPd web server. The default server is Apache. Please make sure you read the <a href="#Installing_The_Apache">Installing The Apache Web Server</a> section before you start any http/https simulations with Apache. The Tcl HTTPd web server is also supported.&#160; Version 17.5 also supports an embedded HTTP/HTTPs server that can be used for XML/SOAP support.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="431" height="599" src="pro_205_files/image043.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_21_Http_local" id="Figure_21_Http_local">Figure</a> 21: &#160;Http(local) Information Tab window</p>
<p class="WD_MIBObject">Document Root</p>
<p class="WD_Normal">Specify the document root for the simulated device. The “html” pages will be served from this directory. If you are using the Tcl HTTPd, enter the keyword “default” and a htdocs and cgi-bin directory will be created in the SimpleAgentPro’s http directory.</p>
<p class="WD_MIBObject">Script Root</p>
<p class="WD_Normal">Specify the script root for the simulated device. The “cgi” scripts will be executed from this directory. Make sure the scripts are executable.</p>
<p class="WD_Normal">If you are using the Tcl HTTPd, set it to “none.” A default directory located under the Document Root, called “cgi-bin,” will be configured for the server.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Http : Http Port</p>
<p class="WD_Normal">Specify the port on which to listen for http requests. By default this port is “80” which is the standard http port. Note that this field is not used for the Tcl HTTPd. All the devices will share one port and is set in the server’s configuration file. The file called, “sapro.rc” and is found the the SimpleAgentPro’s http directory.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Http : Http Include File</p>
<p class="WD_Normal">For the Apache server, the SimpleAgentPro appends the virutal host information in to the “http/httpd.conf” file and then restarts the Apache Web Server. Thus, the Apahce Web Server is able to understand the newly added devices. By default, SimplAgentPro only appends the port, the&#160; document root and the cgi root to the “http/httpd.conf” file. If there is a need to specify more paramenters for the “virtual host”, the should be specified in another file and that file name should be specified in this field. Note that this field is not used if the Tcl HTTPd is specified.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Https : Https Port</p>
<p class="WD_Normal">Specify the port on which to listen for https requests. By default this port is “443” which is the standard https port. Note that this field is not supported for the Tcl HTTPd. All the devices will share one port and is set in the server’s configuration file. It is a file called, “sapro.rc” and is found the the SimpleAgentPro’s http directory.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Https : Https Include File</p>
<p class="WD_Normal">For the Apache server, the SimpleAgentPro appends the virutal host information in to the “http/httpd.conf” file and then restarts the Apache Web Server. Thus, the Apahce Web Server is able to understand the newly added devices. By default, SimplAgentPro only appends the port, the&#160; document root and the cgi root to the “http/httpd.conf” file. If there is a need to specify more paramenters for the “virtual host”, the should be specified in another file and that file name should be specified in this field.&#160; For HTTPs, a sample “sslinc.conf “ file is provided in the http directory.&#160; This tells Apache where the certificate, keys and cipher information is located.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Note that this field is not used if the Tcl HTTPd is specified. Place the certificates for the secure Tcl HTTPd in</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&lt;<i>sapro installation directory</i>&gt;/tcllib/tclhttpd/certs</p>
<b><span style=" font-size:14.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif'; letter-spacing:-.5pt;"><font size="4" style="font-size:14pt;"><br clear="all" /></font></span></b>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="SSH_Information_Tabbc-82"></a><a name="SSH_Information_Tab" id="SSH_Information_Tab">SSH&#160; Information Tab</a></p>
<p class="WD_Normal">The next tab window is the SSH Information window.&#160; It allows you to specify the SSH characteristics of the simulated device.&#160;&#160; Please make sure you read SSH Support chapter and start the saprosshd daemon manually prior to having the simulated devices support SSH.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="415" height="558" src="pro_205_files/image045.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_22_SSH" id="Figure_22_SSH">Figure</a> 22:&#160; SSH Information Tab window</p>
<p class="WD_MIBObject">User Name</p>
<p class="WD_Normal">Specify the user name for the login in to the SSH session.&#160; This name need not be present in the list of users supported on the machine on which SimplAgentPro is running.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Password</p>
<p class="WD_Normal">Specify the password for the above user name to be used during login of the SSH ssession.</p>
<p class="WD_MIBObject">SSH Version</p>
<p class="WD_Normal">Optionally specify the SSH version string used by your device.&#160; Some of Cisco devices require a specific string like “SSH-1.5-CISCO-N.NN” for the management application to sync up with the device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">SSH Base Directory</p>
<p class="WD_Normal">Optionally specify the SSH base directory specific to this device.&#160; You can have different base directories for different devices to work with programs like SCP.&#160; You can specify /tmp as the common directory if this option is not important to you.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">SSH Modeling File</p>
<p class="WD_Normal">Specify the name of file that contains the CLI response information.&#160; Generally this is the same as the telnet response modeling information.&#160; Telnet modeling files are typically kept in the sapro/telnet directory and have a .tel extension.&#160; You can use the Browse button to look at existing files and directories.&#160; Please look at the Chapter on Telnet for the format of the telnet file and other related information.&#160;</p>
<p class="WD_Normal">&#160;</p>
<b><span style=" font-size:14.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif'; letter-spacing:-.5pt;"><font size="4" style="font-size:14pt;"><br clear="all" /></font></span></b>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="TL1_Information_Tabbc-83"></a><a name="TL1_Information_Tab" id="TL1_Information_Tab">TL1&#160; Information Tab</a></p>
<p class="WD_Normal">The next tab window is the TL1 Information window.&#160; It allows you to specify the TL1 characteristics of the simulated device.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="431" height="606" src="pro_205_files/image047.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_23_TL1" id="Figure_23_TL1">Figure</a> 23:&#160; TL1 Information Tab window</p>
<p class="WD_MIBObject">TL1 Port</p>
<p class="WD_Normal">Specify the port to be opened by the TL1 simulator if required.&#160; By default it is set to 0. If a TL1 file is specified for this device, a valid port number should be specified.</p>
<p class="WD_MIBObject">TL1 Modeling File</p>
<p class="WD_Normal">Specify the name of file that contains the TL1 response modeling information. By default, no TL1 modeling file is associated with the device and no TL1 server is started.&#160; TL1 modeling files are typically kept in the sapro/tl1 directory and have a .tl1 extension.</p>
<p class="WD_Normal">You can use the Browse button to look at existing files and directories.&#160; Please look at the Chapter on TL1 for the format of the TL1 file and other related information.</p>
<p class="WD_MIBObject">SSH Username</p>
<p class="WD_Normal">Version 19.5 adds support for TL1 over SSH.&#160; Specify the username for the SSH connection.</p>
<p class="WD_MIBObject">SSH Password</p>
<p class="WD_Normal">Version 19.5 adds support for TL1 over SSH.&#160; Specify the password to use to connect using SSH.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<b><span style=" font-size:14.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif'; letter-spacing:-.5pt;"><font size="4" style="font-size:14pt;"><br clear="all" /></font></span></b>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="FTP_Information_Tabbc-84"></a><a name="FTP_Information_Tab" id="FTP_Information_Tab">FTP&#160; Information Tab</a></p>
<p class="WD_Normal">The next tab window is the FTP Information window.&#160; It allows you to specify the FTP server characteristics of the simulated device.&#160; This functionality&#160; is only available on Linux and Windows in conjunction with proftpd server.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="415" height="558" src="pro_205_files/image049.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_24_FTP" id="Figure_24_FTP">Figure</a> 24:&#160; FTP Information Tab window</p>
<p class="WD_MIBObject">FTP Root Directory</p>
<p class="WD_Normal">Specify the root directory for the FTP server on this IP address.&#160; When users login via FTP on this simulated device they will be taken to this directory which can be different from the root directory of another simulated device.</p>
<p class="WD_MIBObject">FTP Users</p>
<p class="WD_Normal">Specify a comma separated list of users that are supported for FTP access.</p>
<p class="WD_Normal">You can use the Browse button to look at existing files and directories.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="TFTP_Information_Tabbc-85"></a><a name="TFTP_Information_Tab" id="TFTP_Information_Tab">TFTP&#160; Information Tab</a></p>
<p class="WD_Normal">The next tab window is the TFTP Information window.&#160; It allows you to specify the TFTP server characteristics of the simulated device.&#160; It works in conjunction with the TFTP server module that needs to be separately invoked/started.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="415" height="558" src="pro_205_files/image051.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_25_TFTP" id="Figure_25_TFTP">Figure</a> 25:&#160; TFTP Information Tab window</p>
<p class="WD_MIBObject">TFTP Port</p>
<p class="WD_Normal">Specify the port to be opened by the TFTP server simulator if required.&#160; By default it is set to 69.&#160;</p>
<p class="WD_MIBObject">TFTP Root Directory:</p>
<p class="WD_Normal">Specify the root directory for the TFTP server on this simulated device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Flow_Information_Tabbc-86"></a><a name="Flow_Information_Tab" id="Flow_Information_Tab">Flow&#160; Information Tab</a></p>
<p class="WD_Normal">The next tab window is the Flow Information window.&#160; It allows you to specify if you want the simulated device to send netflow/sflow/ipfix packets to the specified collector.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="415" height="558" src="pro_205_files/image053.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_26_Flow" id="Figure_26_Flow">Figure</a> 26:&#160; Flow Information Tab window</p>
<p class="WD_MIBObject">Flow Data File</p>
<p class="WD_Normal">Specify the data file that contains the description of the flows to be sent.&#160; Please look at the chapter on Netflow for the format of the data file and other related information.</p>
<p class="WD_MIBObject">Flow Collector(s)</p>
<p class="WD_Normal">You can specify the IP addresses of one or more netflow collectors in a comma separated list, along with their ports.</p>
<p class="WD_MIBObject">Flow Frequency(secs)</p>
<p class="WD_Normal">You can specify the rate at which you want SAPro to send netflow packets based on the flow cache entries in the data file.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Http_XML_Information_Tabbc-87"></a><a name="Http_XML_Information_Tab" id="Http_XML_Information_Tab">Http/XML Information Tab</a></p>
<p class="WD_Normal">The next tab window is the Http/XML/SOAP Information window.&#160; It allows you to specify if you want the simulated device to respond to Http/XML/SOAP requests using an embedded HTTP request processing instead of the local httpd/apache.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="497" height="639" src="pro_205_files/image055.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_27_Http_XML_Soap" id="Figure_27_Http_XML_Soap">Figure</a> 27:&#160; Http/XML/Soap Information Tab window</p>
<p class="WD_MIBObject">Embedded Http</p>
<p class="WD_Normal">Specify the port number on which you want the simulator to listen to for HTTP requests.&#160; Basic HTTP requests are currently parsed and forwarded to the XML simulator.&#160; HTTPs support is only available on Linux.</p>
<p class="WD_MIBObject">Content Type</p>
<p class="WD_Normal">Specify the Content Type of the http request contents.&#160; Currently SOAP parsing is supported.</p>
<p class="WD_MIBObject">XML Playback File</p>
<p class="WD_Normal">Specify the name of file that contains the playback information created from recorded proxy transactions that can be used for playback.&#160;&#160; XML playback files are typically kept in the sapro/xml directory and have a .rrp extension.&#160; This file is optional.</p>
<p class="WD_MIBObject">XML/Soap Modeling File</p>
<p class="WD_Normal">Specify the name of file that contains the Soap response modeling information.&#160; Soap modeling files are typically kept in the sapro/soap directory and have a .smf extension.&#160; XML modeling files used for REST support are typically kept in the sapro/xml directory and have a a .xmf extension.&#160; When using a playback file, this file is optional.</p>
<p class="WD_Normal">You can use the Browse button to look at existing files and directories.&#160; Please look at the Chapter on XML/SOAP for the format of the xmf/smf file and other related information.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Cloud_Information_Tabbc-88"></a><a name="Cloud_Information_Tab" id="Cloud_Information_Tab">Cloud Information Tab</a></p>
<p class="WD_Normal">The next tab window is the Cloud Information window.&#160; It allows you to specify if you want the simulated device to respond to Cloud management requests.&#160; It is currently provided on an experimental basis, is a separately priced module, and supports a limited set of vSphere API requests.&#160; Please contact our sales department at <a href="mailto:sales@simplesoft.com">sales@simplesoft.com</a> to get additional information.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="459" height="639" src="pro_205_files/image057.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_28_Cloud" id="Figure_28_Cloud">Figure</a> 28:&#160; Cloud Information Tab window</p>
<p class="WD_MIBObject">UserName</p>
<p class="WD_Normal">Specify the user name that the device will accept in the Login vSphere API call.</p>
<p class="WD_MIBObject">Password</p>
<p class="WD_Normal">Specify the associated password for the user that the device will accept in the Login vSphere API call.</p>
<p class="WD_MIBObject">Type</p>
<p class="WD_Normal">Specify VMware Data, VMware Playback or Proxy forwarder type.</p>
<p class="WD_MIBObject">Data File</p>
<p class="WD_Normal">Specify the data file to be used to respond to vSphere API requests when using VMware-Data type.&#160; The data file can be generated by “learning” from a real vCenter or ESX or a partial one can be created from captuted wireshark traces.&#160; You can specify a playback file when using VMware-Playback or Server IP and port for Proxy Forwarder.</p>
<p class="WD_MIBObject">Embedded Http</p>
<p class="WD_Normal">Specify the port number on which you want the simulator to listen to for HTTP requests.&#160; Basic HTTP requests are currently parsed and forwarded to the Cloud simulator.</p>
<p class="WD_MIBObject">Embedded Https</p>
<p class="WD_Normal">Specify the port number on which you want the simulator to listen to for HTTPs requests.&#160; Basic HTTPs requests are currently parsed and forwarded to the Cloud simulator.</p>
<p class="WD_MIBObject">Cloud Modeling File</p>
<p class="WD_Normal">Specify the name of file that contains the Soap response modeling information.&#160; Soap modeling files are typically kept in the sapro/cloud directory and have a .smf extension.&#160; The file allows you to enable debugging and add support for requests that are currently not handled by the built-in vSphere API processing engine.</p>
<p class="WD_Normal">You can use the Browse button to look at existing files and directories.&#160; Please look at the Chapter on SOAP for the format of the smf file and other related information.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="IPMI_Information_Tabbc-89"></a><a name="IPMI_Information_Tab" id="IPMI_Information_Tab">IPMI Information Tab</a></p>
<p class="WD_Normal">The next tab window is the IPMI Information window.&#160; It allows you to specify if you want the simulated device to respond to IPMI requests.&#160; Version 1.5 is supported in all versions while Version 2.0 is supported in the AES version of SAPro/SAEnt since it uses AES-128.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="415" height="558" src="pro_205_files/image059.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_29_IPMI" id="Figure_29_IPMI">Figure</a> 29:&#160; IPMI Information Tab window</p>
<p class="WD_MIBObject">IPMI Port</p>
<p class="WD_Normal">Specify the port on which the simulator will listen for IPMI requests.&#160; By default it is set to 623.</p>
<p class="WD_MIBObject">UserName</p>
<p class="WD_Normal">Specify the user name that the device will accept.</p>
<p class="WD_MIBObject">Password</p>
<p class="WD_Normal">Specify the associated password for the user that the device will accept.</p>
<p class="WD_MIBObject">IPMI Modeling File</p>
<p class="WD_Normal">Specify the modeling file to be used to respond to IPMI requests.&#160;&#160; The modeling file can be generated by “learning” from a real IPMI device.</p>
<p class="WD_Normal">You can use the Browse button to look at existing files and directories.&#160; Please look at the Chapter on IPMI for the format of the modeling file and other related information.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Netconf_Information_Tabbc-90"></a><a name="Netconf_Information_Tab" id="Netconf_Information_Tab">Netconf Information Tab</a></p>
<p class="WD_Normal">The next tab window is the NetConf Information window.&#160; It allows you to specify if you want the simulated device to respond to Netconf management requests.&#160; It is currently provided on an experimental basis, and works in conjunction with the SSH module key as it requires the modified openSSH server.&#160; It is currently only supported on Linux.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="473" height="639" src="pro_205_files/image061.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_30_Netconf" id="Figure_30_Netconf">Figure</a> 30:&#160; Netconf Information Tab window</p>
<p class="WD_MIBObject">UserName</p>
<p class="WD_Normal">Specify the username for the incoming SSH connection that will be accepted.&#160; This makes an entry in the saprossh.ini file and is looked at by the modified openSSHd server when accepting incoming connections.</p>
<p class="WD_MIBObject">Password</p>
<p class="WD_Normal">Specify the associated password for the specified username.&#160; This too is saved in the saprossh.ini file and is looked at by the modified openSSHd server when accepting incoming connections.</p>
<p class="WD_MIBObject">Netconf Version</p>
<p class="WD_Normal">Specify the default Netconf version.&#160; If no hello message is specified in the netconf modeling file, then this version is used to send the default hello message.&#160;&#160; If a hello message is defined in the modeling file, then this version setting is ignored.</p>
<p class="WD_MIBObject">Netconf Modeling file</p>
<p class="WD_Normal">Specify the modeling file associated with the simulated device that defines the responses to incoming requests.&#160; This modeling file can be created by initially acting as a proxy during the “learning” process and recording request/responses or by manual editing.&#160; The chapter on netconf provides additional information on the format of the file and the associated Tcl commands.&#160; The Netconf&#160; modeling files are typically kept in the sapro/netconf directory and have a .ncf extension.&#160;</p>
<p class="WD_Normal">You can use the Browse button to look at existing files and directories.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="CoAP_Information_Tabbc-91"></a><a name="CoAP_Information_Tab" id="CoAP_Information_Tab">CoAP Information Tab</a></p>
<p class="WD_Normal">The next tab window is the CoAP Information window.&#160; It allows you to specify if you want the simulated device to respond to CoAP management requests.&#160; It is currently provided on an experimental basis, is part of a separately priced IoT module.&#160; Please contact our sales department at <a href="mailto:sales@simplesoft.com">sales@simplesoft.com</a> to get additional information.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="428" height="558" src="pro_205_files/image063.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_31_CoAP" id="Figure_31_CoAP">Figure</a> 31:&#160; CoAP Information Tab window</p>
<p class="WD_MIBObject">CoAP Port</p>
<p class="WD_Normal">Specify the UDP port on which to listen for incoming CoAP requests.</p>
<p class="WD_MIBObject">MTU Size</p>
<p class="WD_Normal">Specify the maximum packet size that can be received or created by the CoAP server.</p>
<p class="WD_MIBObject">Delay</p>
<p class="WD_Normal">Specify the delay in milliseconds to be injected before transmitting a response to simulate slow devices.&#160; If just one number is given, then it is a fixed delay. If two numbers separated by comma are specified, then a random delay is computed by determining a random number between the two (min/max) numbers specified prior to each transmission.</p>
<p class="WD_MIBObject">Lossiness</p>
<p class="WD_Normal">Specify the lossiness characteristics for the CoAP server.&#160; The time interval, the number of bands, and the percentage of lossiness within the specified time interval is given as a comma separated list of three numbers.&#160; The communication is deemed to be broken when the CoAP server is within the lossy band whose width is determined by the percentage. The actual widths can also be specified in a comma separated list following a “:” character if desired.</p>
<p class="WD_MIBObject">Data File</p>
<p class="WD_Normal">Specify the data file to be used to respond to CoAP requests.&#160; The data file can be generated by “learning” from a real CoAP server or can be can be created from captuted wireshark traces.</p>
<p class="WD_MIBObject">Multi-cast Address</p>
<p class="WD_Normal">Specify the Multi-cast address associated with the CoAP server if support for multi-cast is required.&#160;</p>
<p class="WD_MIBObject">Optional Modeling File</p>
<p class="WD_Normal">Specify the name of file that contains the CoAP response modeling information.&#160; CoAP modeling files are typically kept in the sapro/coap directory and have a .cof extension.&#160; The file allows you to enable debugging and specify responses for uri not handled by the data file.&#160; If support for a uri is in both the modeling file and the data file, the modeling file response generater will be used.</p>
<p class="WD_Normal">You can use the Browse button to look at existing files and directories.&#160; Additional information on the CoAP simulator is part of the separately installed coap module documentation.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Heading2">&#160;</p>
<p class="WD_Heading2"><a name="MQTT_Information_Tabbc-92"></a><a name="MQTT_Information_Tab" id="MQTT_Information_Tab">MQTT Information Tab</a></p>
<p class="WD_Normal">The next tab window is the MQTT Information window.&#160; It allows you to specify if you want the simulated device to publish MQTT messages to a specified broker.&#160; It is part of the separately priced IoT module.&#160; Please contact our sales department at <a href="mailto:sales@simplesoft.com">sales@simplesoft.com</a> to get additional information.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="497" height="639" src="pro_205_files/image065.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_32_MQTT" id="Figure_32_MQTT">Figure</a> 32:&#160; MQTT Information Tab window</p>
<p class="WD_MIBObject">Broker IP</p>
<p class="WD_Normal">Specify the IP address of the MQTT broker to connect to.</p>
<p class="WD_MIBObject">Broker MQTT Version</p>
<p class="WD_Normal">Specify the MQTT version supported by the Broker and to be used when connecting with it.</p>
<p class="WD_MIBObject">Broker Port</p>
<p class="WD_Normal">Specify the type of connection and broker’s TCP port on which to connect.&#160; By default it uses 1883.&#160; In addition of regular TCP connections, the MQTT sensor supports connection using TLS(v1.2), WebSockets, and WebSockets with SSL.</p>
<p class="WD_MIBObject">Username</p>
<p class="WD_Normal">Specify the username to use when connecting with the MQTT broker.</p>
<p class="WD_MIBObject">Password</p>
<p class="WD_Normal">Specify the password to use when connecting with the MQTT broker.</p>
<p class="WD_MIBObject">Lossiness</p>
<p class="WD_Normal">Specify the lossiness characteristics for the MQTT sensor.&#160; The time interval, the number of bands, and the percentage of lossiness within the specified time interval is given as a comma separated list of three numbers.&#160; The communication is deemed to be broken when the MQTT sensor is within the lossy band whose width is determined by the percentage. The actual widths can also be specified in a comma separated list following a “:” character if desired.</p>
<p class="WD_MIBObject">Topic with Identifier</p>
<p class="WD_Normal">Specify the topic to be used to publish.&#160; If this string contains a number, like “sensor1/temp”, then when the device is cloned, the topic will automatically increment to “sensor2/temp”, “sensor3/temp” for the cloned devices.&#160; The value of this string is available within the modeling file to use as a basis for creating own publish messages if desired.&#160; This value is used in the Auto Publish mode.</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="483" height="244" src="pro_205_files/image067.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_33_MQTT_Auto" id="Figure_33_MQTT_Auto">Figure</a> 33:&#160; MQTT Auto Publish window</p>
<p class="WD_MIBObject">Auto Publish Message</p>
<p class="WD_Normal">Specify the message to be sent in the auto publish mode.&#160; The value can include raw message like “abc”, or messages with tokens like “my ip is $$MYIPADDRESS$$” or use some of the valuetypes like “ssrandom(%3.2f, 100, 100, 1000, 1000)”.</p>
<p class="WD_MIBObject">Auto Publish Burst Count</p>
<p class="WD_Normal">Specify the number of times to send the same publish message to create a burst.</p>
<p class="WD_MIBObject">Auto Publish Time Interval</p>
<p class="WD_Normal">Specify the periodic time interval used to send auto publish messages.</p>
<p class="WD_MIBObject">Auto Publish Repeat Count</p>
<p class="WD_Normal">Specify the number of times to send the auot publish messages.&#160; “Forever”can also be used.</p>
<p class="WD_MIBObject">Auto Publish Quality Of Service</p>
<p class="WD_Normal">Specify the quality of service to be used when sending auto publish messages.</p>
<p class="WD_MIBObject">Auto Publish Retain Flag</p>
<p class="WD_Normal">Specify the value of the retain flag to be used when sending auto publish messages.</p>
<p class="WD_MIBObject">Optional Modeling File</p>
<p class="WD_Normal">Specify the name of file that contains the MQTT init_action commands that specify connect parameters or timer_action related section that sends publish messages instead of auto publish.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can use the Browse button to look at existing files and directories.&#160; Additional information on the MQTT simulator is part of the separately installed IoT module documentation.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Heading2"><a name="Modbus_Information_Tabbc-93"></a><a name="Modbus_Information_Tab" id="Modbus_Information_Tab">Modbus Information Tab</a></p>
<p class="WD_Normal">The next tab window is the Modbus Information window.&#160; It allows you to specify if you want the simulated device to act as a Modbus over TCP server and respond to incoming Modbus requests based on the information present in the data file.&#160; It is part of the separately priced IoT module.&#160; Please contact our sales department at <a href="mailto:sales@simplesoft.com">sales@simplesoft.com</a> to get additional information.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="523" height="639" src="pro_205_files/image069.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_34_Modbus" id="Figure_34_Modbus">Figure</a> 34:&#160; Modbus Information Tab window</p>
<p class="WD_MIBObject">Modbus Port</p>
<p class="WD_Normal">Specify the TCP port number to open.&#160; The default port is 502.</p>
<p class="WD_MIBObject">Allowed Client IPs</p>
<p class="WD_Normal">Specify a comma separated list of IPs to allow connections from, or use “Any” to allow connections from all clients.</p>
<p class="WD_MIBObject">Delay (milliseconds)</p>
<p class="WD_Normal">Specify the delay to be injected before responding.&#160; If only one number is specified like 1000, then the simulator will wait for 1000 milliseconds before responding. If two numbers are specified like “500,1000”, then for each response, the simulator will generate a random number between 500 and 1000 and wait for that interval before responding.&#160; &#160;By default it is set to 0.</p>
<p class="WD_MIBObject">Datafile</p>
<p class="WD_Normal">Specify the datafile that contains the function codes and address map along with the values supported for each of the modbus slaves.</p>
<p class="WD_MIBObject">Optional Modeling File</p>
<p class="WD_Normal">Specify the name of file that contains any additional actions to perform.</p>
<p class="WD_Normal">You can use the Browse button to look at existing files and directories.&#160; Additional information on the Modbus simulator is part of the separately installed IoT module documentation.</p>
<p class="WD_Heading2"><a name="BACnet_Information_Tabbc-94"></a><a name="BACnet_Information_Tab" id="BACnet_Information_Tab">BACnet Information Tab</a></p>
<p class="WD_Normal">The next tab window is the BACnet Information window.&#160; It allows you to specify if you want the simulated device to act as a BACnet over UDP server and respond to incoming BACnet requests based on the information present in the data file.&#160; It is part of the separately priced IoT module.&#160; Please contact our sales department at <a href="mailto:sales@simplesoft.com">sales@simplesoft.com</a> to get additional information.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="497" height="639" src="pro_205_files/image071.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_35_BACnet" id="Figure_35_BACnet">Figure</a> 35:&#160; BACnet Information Tab window</p>
<p class="WD_MIBObject">Device Id:</p>
<p class="WD_Normal">Specify a unique identifier for the BACnet server.&#160; If the “default” vaue is used, a number based on the IP address of the server is used to create a device id.</p>
<p class="WD_MIBObject">BACnet Port</p>
<p class="WD_Normal">Specify the UDP port number to open.&#160; The default port is a 48808.</p>
<p class="WD_MIBObject">Delay (milliseconds)</p>
<p class="WD_Normal">Specify the delay to be injected before responding.&#160; If only one number is specified like 1000, then the simulator will wait for 1000 milliseconds before responding. If two numbers are specified like “500,1000”, then for each response, the simulator will generate a random number between 500 and 1000 and wait for that interval before responding.&#160;&#160; By default it is set to 0.</p>
<p class="WD_MIBObject">Datafile</p>
<p class="WD_Normal">Specify the datafile that contains the list of objects supported and their properties.</p>
<p class="WD_MIBObject">Optional Modeling File</p>
<p class="WD_Normal">Specify the name of file that contains any additional actions to perform.</p>
<p class="WD_Normal">You can use the Browse button to look at existing files and directories.&#160; Additional information on the BACnet simulator is part of the separately installed IoT module documentation.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Heading2"><a name="HTTP_Client_Informationbc-95"></a><a name="HTTP_Client_Information" id="HTTP_Client_Information">HTTP Client Information Tab</a></p>
<p class="WD_Normal">The next tab window is the HTTP Client Information window.&#160; It allows you to specify if you want the simulated device to act as an HTTP client and register with a specified server.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="497" height="639" src="pro_205_files/image073.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_36_HTTP_Client" id="Figure_36_HTTP_Client">Figure</a> 36:&#160; HTTP Client Information Tab window</p>
<p class="WD_MIBObject">Server IP</p>
<p class="WD_Normal">Specify the IP address of the HTTP server you want the client to connect with.</p>
<p class="WD_MIBObject">Server Port</p>
<p class="WD_Normal">Specify if to use http or https and the port to connect with the HTTP server on.</p>
<p class="WD_MIBObject">Modeling File</p>
<p class="WD_Normal">Specify the name of file that contains the list of tcl commands to use to connect with the server and the requests to send to it.</p>
<p class="WD_Normal">You can use the Browse button to look at existing files and directories.&#160; Please look at the Chapter on HTTP Client for the format of the modeling file and other related information.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Modifying_a_Devicebc-96"></a><a name="Modifying_a_Device" id="Modifying_a_Device">Modifying a Device</a></p>
</div>
<p class="WD_Normal">To modify a device, select the device to be modified from the list of devices displayed for the current map, and then choose <b><i>Device→Properties</i></b>.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Deleting_a_Devicebc-97"></a><a name="Deleting_a_Device" id="Deleting_a_Device">Deleting a Device</a></p>
</div>
<p class="WD_Normal">To delete a device, select the device from the list of devices displayed for the current map, and choose <b><i>Device→Delete</i></b>. The associated entry from the current map will be removed, but the variable and MIB files referenced by the device will not be deleted.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Cloning_a_Devicebc-98"></a><a name="Cloning_a_Device" id="Cloning_a_Device">Cloning a Device</a></p>
</div>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="313" height="527" src="pro_205_files/image075.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_37_Cloning_a" id="Figure_37_Cloning_a">Figure</a> 37:&#160; Cloning a Device</p>
<p class="WD_Normal">First select the device to be cloned from the list of devices displayed for the current map, then choose the <b><i>Device→Clone</i></b> submenu to make copies.&#160;&#160; The template multi-home device name will be filled in based on your selection, and you will be prompted for the Starting IP Address, Starting MAC, the count (the number of copies to make), and the Address increment.&#160; Thus if the starting address is 1.1.1.2, and count is 3 and “Increase By” value is 2, then 3 additional devices will be added to the map with addresses 1.1.1.2, 1.1.1.4, 1.1.1.6.&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If the original device to be cloned had a mac address specified, then the cloned devices will also have a mac address which is incremented by its “Increase By” value.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If the topology data field contains IPAddresses and Mac Addresses, and the Autoincrement checkbox for Topology Data Addresses is checked, then those addresses are also incremented.&#160; There is no check to see if the incremented addresses overlap.</p>
<p class="WD_Normal">These fields can also get incremented by a different increment.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">All other device information, will be identical for all the cloned devices.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Precompiling_a_Devicebc-99"></a><a name="Precompiling_a_Device" id="Precompiling_a_Device">Precompiling a Device</a></p>
</div>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="294" height="221" src="pro_205_files/image077.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_38_Precompiling_a" id="Figure_38_Precompiling_a">Figure</a> 38:&#160; Precompiling a Device</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">When dealing with very large variable files that are often started and stopped, it may be helpful to precompile the device files to reduce the amount of time required to start the device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">During precompilation, SimpleAgentPro performs certain tasks ahead of time rather than waiting until a device within a map is started. These tasks include mapping object descriptors to object identifiers and creating data structures. Precompiling a device file results in faster data retrieval, since the work does not need to be done each time the device is started.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The usual <span style=" font-family:'Arial' ,'sans-serif';">.var</span> file is mapped to a <span style=" font-family:'Arial' ,'sans-serif';">.cva</span> file that contains the output of the precompilation phase. The <span style=" font-family:'Arial' ,'sans-serif';">.map</span> file is automatically modified to use the <span style=" font-family:'Arial' ,'sans-serif';">.cva</span> file for the device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Do not edit the <span style=" font-family:'Arial' ,'sans-serif';">.cva</span> file. It is not an ASCII file and should not be ported across platforms. If you require portability across the SUN/HP/Windows platforms, use the <span style=" font-family:'Arial' ,'sans-serif';">.var</span> files.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Getting_Statistics_frombc-100"></a><a name="Getting_Statistics_from" id="Getting_Statistics_from">Getting Statistics from a Device</a></p>
</div>
<p class="WD_Normal">Since the device can supports many protocols in addition to SNMP, version 11.5 adds the ability to see statistics for the other protocols also.&#160; Once the map is running, select the device that you wish to get statistics from the list of devices displayed in the current map, and then Choose the <i><b>Device→Statistics</b></i> submenu item.&#160; One of three additional submenu item can be selected. (All protocols, SNMP, Telnet)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">All protocols provides a high level view of statistics from the different protocols.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="576" height="171" src="pro_205_files/image079.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Normal"><a name="Figure_39_Getting" id="Figure_39_Getting">Figure</a> 39:&#160; Getting Statistics from a Device (All Protocols)</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">SNMP statistics show the various requests, responses and events. The Statistics will be automatically updated every 10 seconds.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="582" height="173" src="pro_205_files/image081.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_40_Getting" id="Figure_40_Getting"><span style=" font-family:'Times New Roman' ,'serif';">Figure</span></a> <span style=" font-family:'Times New Roman' ,'serif';">40</span><span style=" font-family:'Times New Roman' ,'serif';">:&#160; Getting Statistics from a Device (SNMP)</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Telnet statistics show telnet and telnet like connection statistics.</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="576" height="197" src="pro_205_files/image083.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Normal"><a name="Figure_41_Getting" id="Figure_41_Getting">Figure</a> 41:&#160; Getting Statistics from a Device (Telnet)</p>
<p class="WD_Normal">&#160;</p>
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">The Statistics will be automatically updated every 10 seconds.&#160; You can also press the Refresh button to get updated statistics on demand.</span></p>
<b><span style=" font-size:18.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="5" style="font-size:18pt;"><br clear="all" /></font></span></b>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Sending_TCL_Commands_tobc-101"></a><a name="Sending_TCL_Commands_to" id="Sending_TCL_Commands_to">Sending TCL Commands to a Device</a></p>
</div>
<p class="WD_Normal">Once the map is running, select the device that you wish to manipulate from the list of devices displayed in the current map, and then Choose the <b><i>Device→Tcl Script</i></b> submenu item.&#160; You will see the dialog box shown below.</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="358" height="461" src="pro_205_files/image085.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_42_Sending_TCL" id="Figure_42_Sending_TCL">Figure</a> 42:&#160; Sending TCL Commands to a Device</p>
<p class="WD_Normal">You can now type in the TCL command that you would like the selected device to interpret in the edit box.&#160; Clicking on the <i>Send</i> button sends the tcl command to the device.&#160; You can also load a file, or save the contents of the edit box to a file.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Sending_Traps_from_Devicebc-102"></a><a name="Sending_Traps_from_Device" id="Sending_Traps_from_Device">Sending Traps from Device</a></p>
</div>
<p class="WD_Normal">Once the map is running, select the devices that you wish to emit traps from and then choose <b><i>Device→Generate Traps</i></b> submenu item.&#160; This option is futher described in the separate chapter on Traps.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Enabling_Disabling_abc-103"></a><a name="Enabling_Disabling_a" id="Enabling_Disabling_a">Enabling/Disabling a Device</a></p>
</div>
<p class="WD_Normal">Once the map is running, select the devices that you wish to enable/disable from the list of devices displayed in the current map and then Choose <b>the <i>Device→Enable or Device-&gt;Disable</i></b> submenu item.&#160; This makes the selected devices stop responding to ICMP (ping) as well as SNMP requests.&#160; The state of the agents is however preserved, and the software thread that supports the simulated devices continues to run.&#160; If a SET request was previously made and a value changed, the new value is retained and will be available when a device is enabled.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Stopping_Starting_abc-104"></a><a name="Stopping_Starting_a" id="Stopping_Starting_a">Stopping/Starting a Device</a></p>
</div>
<p class="WD_Normal">One can select the devices to be started from the device list and then click on the start menu item in the Device Menu to start just those devices. Once the map is running, you can continue with device definition and add devices to a running map.&#160; Devices in the map can be stopped or started without affecting other devices in the map.&#160;&#160; When devices are stopped, it causes the software thread that is supporting those devices to exit, and unlike the disable case, the state of the agents is&#160; not preserved.&#160;&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Restarting_a_Devicebc-105"></a><a name="Restarting_a_Device" id="Restarting_a_Device">Restarting a Device</a></p>
</div>
<p class="WD_Normal">Once the map is running, select the device that you wish to restart from the list of devices displayed in the current map, and then Choose the <b><i>Device→Restart</i></b> submenu item.&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Triggering_Flag_Action1bc-106"></a><a name="Triggering_Flag_Action1" id="Triggering_Flag_Action1">Triggering Flag Action on a Device</a></p>
</div>
<p class="WD_Normal">Once the map is running, select the devices that you wish to trigger flag action on from the list of devices displayed in the current map and then Choose <b>the <i>Device→Trigger Flag Action</i></b> submenu item.&#160; You can specify the value of the flag and it will send a message to the device to make it interpret the flag_action section in the associated modeling file.</p>
<b><span style=" font-size:18.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="5" style="font-size:18pt;"><br clear="all" /></font></span></b>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Debug_SNMP_Packets_for_abc-107"></a><a name="Debug_SNMP_Packets_for_a" id="Debug_SNMP_Packets_for_a">Debug SNMP Packets for a Device</a></p>
</div>
<p class="WD_Normal">Once the map is running, select the device that you wish to debug from the list of devices displayed in the current map, and then Choose the <b><i>Device→Debug..</i></b> submenu item.&#160; You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="378" height="347" src="pro_205_files/image087.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_43_SNMP_Debugging" id="Figure_43_SNMP_Debugging">Figure</a> 43: SNMP Debugging of a Device</p>
<p class="WD_Normal">In the window, you will see the contents of the SNMP debug file being displayed.</p>
<p class="WD_Normal">&#160;</p>
<b><span style=" font-size:18.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="5" style="font-size:18pt;"><br clear="all" /></font></span></b>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="MIB_Browserbc-108"></a><a name="MIB_Browser" id="MIB_Browser">MIB Browser</a></p>
</div>
<p class="WD_Normal">The SimpleAgentPro includes a MIB Browser that you can use to send SNMP queries to the simulated device. Once the map is running, select the device from the list of devices displayed in the current map, and then Choose the <b><i>Device→Browse MIB</i></b> submenu item.&#160; You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="537" height="463" src="pro_205_files/image089.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_44_SNMP_MIB" id="Figure_44_SNMP_MIB">Figure</a> 44:&#160; SNMP MIB Browser</p>
<p class="WD_Normal">Information about the selected device, like IP address, community strings, SNMPv3 parameters, etc. is already set in the MIB Browser.&#160; You can Get and Set variables by sending traditional SNMP requests to the simulated device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif'; color:red;"><font size="3" color="red" style="font-size:11.000000pt;"><br clear="all" /></font></span>
<p style=" margin-left:2.9in; text-indent:0in;" class="WD_chaptitle"><a name="Chapter_8_Running_thebc-109"></a><a name="Chapter_8_Running_the" id="Chapter_8_Running_the">Chapter 8<br />
Running the Simulator</a></p>
<p class="WD_Normal">Once you have defined/created the map file, its contained devices and their associated MIB and variable files, you can start running simulations with SimpleAgentPro.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Main_Screenbc-110"></a><a name="Main_Screen" id="Main_Screen">Main Screen</a></p>
</div>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="576" height="473" src="pro_205_files/image091.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_45_SimpleAgentPro" id="Figure_45_SimpleAgentPro">Figure</a> 45:&#160; SimpleAgentPro Main Screen</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The Main Screen displays the contents of your workspace.&#160;&#160; Your workspace is made up of one or more servers, each containing one or more maps that you are currently working on.&#160;&#160; You can remove maps from your server without deleting the maps themselves.&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can start/stop all maps on the selected server or folder, or work on selected individual maps.&#160; Within a map, you can also start/stop all devices in your map or work on selected individual devices.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><img border="0" width="576" height="44" src="pro_205_files/image093.jpg" alt="" /></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The common tasks have been denoted by icons on the tool bar to make it easy to carry out those tasks.&#160; These tasks can also be selected via the Menu system. Eleven tasks are currently displayed as icons. They are, from left to right :</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-bottom:.0001pt;" class="WD_ListContinue"><span style=" font-family:Symbol;">·<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> Add a Map to your Server</p>
<ul style=" margin-top:0in;" type="disc">
<li>
<p>Start All Maps/Folders</p>
</li>
<li>
<p>Stop All Maps/Folders</p>
</li>
<li>
<p>Start Selected Map<span style=" color:black;"><font color="black" >(s)</font></span></p>
</li>
<li>
<p>Stop Selected Map<span style=" color:black;"><font color="black" >(s)</font></span></p>
</li>
</ul>
<p style=" margin-bottom:.0001pt;" class="WD_ListContinue"><span style=" font-family:Symbol;">·<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> Show Statistics for Selected Map.</p>
<p style=" margin-bottom:.0001pt;" class="WD_ListContinue"><span style=" font-family:Symbol;">·<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> Generate Traps for devices in a Selected Map</p>
<ul style=" margin-top:0in;" type="disc">
<li>
<p>View Log File of Selected Map</p>
</li>
<li>
<p>Manage MIB Repository</p>
</li>
<li>
<p>Generate Traps for a device</p>
</li>
<li>
<p>Start Selected Device(s)</p>
</li>
<li>
<p>Stop Selected Device(s)</p>
</li>
<li>
<p>Device Properties</p>
</li>
<li>
<p>List Devices in a Table View</p>
</li>
<li>
<p>List Devices in a Thumbnail view</p>
</li>
<li>
<p>List Devices in a Topology view</p>
</li>
<li>
<p>Access the Device Library</p>
</li>
<li>
<p>Find Device</p>
</li>
<li>
<p>Start a shell in the bin directory</p>
</li>
<li>
<p>View Help</p>
</li>
</ul>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The right mouse click on a selected server displays a pop-up menu box that essentially has the same choices as the Server Menu item, describing the things that can be done to the currently selected server.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Similarly, the right mouse click on a selected map displays a pop-up menu box that essentially has the same choices as the Map Menu item, describing the things that can be done to the currently selected map.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Same is true about the selected device pop-up menus and the Devide Menu items.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Adding_Maps_to_the_Serverbc-111"></a><a name="Adding_Maps_to_the_Server" id="Adding_Maps_to_the_Server">Adding Maps to the Server</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Server-&gt;Add Map to Server</i></b> to select a Map and then add it to your workspace.&#160; Normally, when you define a map, it automatically gets added to your currently selected server.&#160; Choose <b><i>Map-&gt;Remove from Server</i></b> to remove it, without actually deleting the map.&#160; This allows you to only keep the maps you are currently working on visible in your workspace.&#160;&#160; The first toolbar icon also allows you to carry this out.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Starting_All_Maps_in_thebc-112"></a><a name="Starting_All_Maps_in_the" id="Starting_All_Maps_in_the">Starting All Maps in the Server or Folder</a></p>
</div>
<p class="WD_Normal">Choose <b><i>Server-&gt;Start All Maps</i></b> &#160;to start simulating all the devices in all the maps that are currently in your server, or in the selected folder based on what is highlighted in the left pane.&#160; Make sure that if you are running on Solaris 2.7 or below, or on Linux, you have assigned non-conflicting starting interface numbers for all the maps.&#160;&#160; The second toolbar icon also allows you to carry this out.&#160;&#160; Internally a “sathrd” process is started for every map that you start.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Stopping_All_Maps_in_thebc-113"></a><a name="Stopping_All_Maps_in_the" id="Stopping_All_Maps_in_the">Stopping All Maps in the Server or Folder</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Choose <b><i>Server-&gt;Stop All&#160; Maps</i></b> to stop simulating all the devices in all the maps that are currently in your server or in the selected folder, based on what is highlighted in the left pane.&#160; The third toolbar icon also allows you to carry this out.&#160;&#160; All the sathrd processes that were started for each of the maps, will be told to terminate.&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Starting_Selected_Mapbc-114"></a><a name="Starting_Selected_Map" id="Starting_Selected_Map">Starting Selected Map</a></p>
</div>
<p class="WD_Normal">Select a Map, and then choose <b><i>Map-&gt;Start</i></b> &#160;to start simulating all the devices in the selected map.&#160; The fourth toolbar icon also allows you to carry this out.&#160;&#160; A new sathrd process will be started to simulate the devices in the selected map.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Stopping_Selected_Mapbc-115"></a><a name="Stopping_Selected_Map" id="Stopping_Selected_Map">Stopping Selected Map</a></p>
</div>
<p class="WD_Normal">Select a Map, and then choose <b><i>Map-&gt;Stop</i></b> &#160;to stop simulating all the devices in the selected map.&#160; The fifth toolbar icon also allows you to carry this out.&#160;&#160; The sathrd process that was initially started for this map, will be asked to terminate.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Checking_the_Simulationbc-116"></a><a name="Checking_the_Simulation" id="Checking_the_Simulation">Checking the Simulation Status</a> of Selected Map</p>
</div>
<p class="WD_Normal">Select a Map, and then choose <b><i>Map-&gt;Statistics</i></b> &#160;to see the status of the devices in the simulated map.&#160; The sixth toolbar icon also allows you to carry this out.&#160; The following screen is displayed for viewing statistics:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Picture"><img border="0" width="576" height="231" src="pro_205_files/image095.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_46_Viewing_Map" id="Figure_46_Viewing_Map">Figure</a> 46:&#160; Viewing Map Statistics</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The screen shows the number of packets received and transmitted by each device in a currently running map. For each device, the following information is retrieved and displayed:</p>
<p class="WD_bullet">Total number of packets received</p>
<p class="WD_bullet">Total number of Get requests</p>
<p class="WD_bullet">Total number of GetNext requests</p>
<p class="WD_bullet">Total number of Set requests</p>
<p class="WD_bullet">Total number of Responses</p>
<p class="WD_bullet">Total number of GetBulk requests</p>
<p class="WD_bullet">Total number of Traps transmitted</p>
<p class="WD_bullet">Total number of Syslog events generated.</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">If the total number of responses is less than the total number of requests, it is most likely that the community string in the packet did not match.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The statistics are updated every 10 seconds, and you can click on the Refresh button to update them immediately.&#160; The rate at which the statistics are updated can be modified by setting the value of STATSREFRESHTIME in the <span style=" font-family:'Arial' ,'sans-serif';">config.inp</span> file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Editing_Log_File_forbc-117"></a><a name="Editing_Log_File_for" id="Editing_Log_File_for">Editing Log File for Selected Map</a></p>
</div>
<p class="WD_Normal">Select a Map, and then choose <b><i>Map-&gt;Edit Log File..</i></b> &#160;to view the log file created by the currently running map when it was started.&#160; The log file contains version and status information that is useful to ascertain that the map is correctly functioning.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Editing_Debug_File_forbc-118"></a><a name="Editing_Debug_File_for" id="Editing_Debug_File_for">Editing Debug File for Selected Map</a></p>
</div>
<p class="WD_Normal">Select a Map, and then choose <b><i>Map-&gt;Edit Debug File..</i></b> &#160;to select the debug file created by the map modeling/setup files.&#160; The debug files contain either tcl execution logs or SNMP request/response logs that can be used to ascertain if the device simulation is going as expected.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Generating_traps_frombc-119"></a><a name="Generating_traps_from" id="Generating_traps_from">Generating traps from all devices in a Map</a></p>
</div>
<p class="WD_Normal">Select a Map, and then choose <b><i>Map-&gt;Generate Traps..</i></b> &#160;to make all the running devices in a map start emitting traps..&#160; This is further described in the separate chapter on Traps.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Changing_the_State_ofbc-120"></a><a name="Changing_the_State_of" id="Changing_the_State_of">Changing the State of Simulated Devices in a Running Map</a></p>
</div>
<p class="WD_Normal">Select a map and then choose <b><i><span style=" font-family:'Arial' ,'sans-serif';">Map→Setup</span></i></b> to execute a <span style=" text-transform:uppercase;">TCL</span> script in the context of currently running devices. SimpleAgentPro displays the dialog box shown in Figure 46.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_algorithm">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="291" height="215" src="pro_205_files/image097.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_47_Setup_File" id="Figure_47_Setup_File">Figure</a> 47:&#160; Setup File Dialog Box</p>
<p class="WD_Normal">The setup file can be viewed as a list of device names and an associated <span style=" text-transform:uppercase;">TCL</span> script for each device. When the <i>Start</i> button is pressed, SimpleAgentPro parses the setup file, and for each device in the list, sends a message to evaluate the associated <span style=" text-transform:uppercase;">TCL</span> script. Thus, if the associated <span style=" text-transform:uppercase;">TCL</span> script for device1 were to set the value of ifInterface.1 to down, and the associated <span style=" text-transform:uppercase;">TCL</span> script for device2 were to generate a trap, the execution of the setup file will cause those events to occur.</p>
<p class="WD_Normal">The setup files, along with the modeling files, are expected to reside in the <span style=" text-transform:uppercase;">TCL</span> directory.</p>
<p class="WD_Normal">See Appendix B for details on the format of the <span style=" font-family:'Arial' ,'sans-serif';">setup.TCL</span> file.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Triggering_Flag_Actionbc-121"></a><a name="Triggering_Flag_Action" id="Triggering_Flag_Action">Triggering Flag Action on all Devices in a Map</a></p>
</div>
<p class="WD_Normal">Select a map and then choose <b><i><span style=" font-family:'Arial' ,'sans-serif';">Map→Trigger Flag Action</span></i></b> to execute a <span style=" text-transform:uppercase;">TCL</span> script in all the devices in a map.&#160; The script is part of the %flag_action section of the modeling file associated with the devices.&#160; SimpleAgentPro displays the dialog box shown below which allows you to specify the value of the flag so that different actions can be triggered inside the script based on the flag value.</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="265" height="122" src="pro_205_files/image099.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_48_Flag_Action" id="Figure_48_Flag_Action">Figure</a> 48:&#160; Flag Action Dialog Box</p>
<p class="WD_Normal">This is useful to have all the devices in a map carry out some action at almost the same time.&#160; Similar capability is available to trigger flag action on all running maps by chosing <b><i><span style=" font-family:'Arial' ,'sans-serif';">localmachine→Trigger Flag Action an all Maps.</span></i></b></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Editing_Any_Filebc-122"></a><a name="Editing_Any_File" id="Editing_Any_File">Editing Any File/Creating New File</a></p>
</div>
<p style=" margin-left:0in; text-indent:0in;" class="WD_ListNumber">Choose <b><i>File-&gt;Edit File</i></b> and <b><i>File-&gt;Create New File</i></b> to edit a file in system or to create a new file on the system.&#160; Please make sure to check if the new file created is being saved in the appropriate directory required for the task at hand (eg: variable files should be in the var directory, modeling files should be in the tcl directory, etc…)</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_ListNumber">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Creating_Modifyingbc-123"></a><a name="Creating_Modifying" id="Creating_Modifying">Creating/Modifying Modeling File</a></p>
</div>
<p style=" margin-left:0in; text-indent:0in;" class="WD_ListNumber">Choose <b><i>File-&gt;Create/Modify Modeling File</i></b> to edit a tcl modeling file using a GUI based editor that provides inbuilt support for many of the Tcl commands.&#160; This makes the task of writing a tcl modeling file easier as the arguments to the tcl commands are prompted via GUI based dialog boxes.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_ListNumber">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Adjusting_the_Cache_Sizebc-124"></a><a name="Adjusting_the_Cache_Size" id="Adjusting_the_Cache_Size">Adjusting the Cache Size</a></p>
</div>
<p class="WD_Normal">SimpleAgentPro reads information from files on disk when processing SNMP requests. Since that is not very fast, it also caches some information in memory. The larger the amount of information in cache, the faster SimpleAgentPro will operate. For large MIB files, you can increase the amount of information that is cached by changing the CACHE_SIZE variable in the <span style=" font-family:'Arial' ,'sans-serif';">config.inp</span> initialization file in the <span style=" text-transform:uppercase;">/bin</span> directory.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Running_Scenariosbc-125"></a><a name="Running_Scenarios" id="Running_Scenarios">Running Scenarios</a></p>
</div>
<p class="WD_Normal">SimpleAgentPro provides easy and convenient access to setup scripts. Setup scripts are used to alter the behavior of the simulated devices in a map. This is a powerful tool when using the SimpleAgentPro for testing, training, or sales demonstration purposes. An example of a scenario may be simulating a link down condition and having all the devices behind the link stop responding. This scenario can be implemented in a setup script and quickly and easily invoked with a couple of clicks of the mouse. (For more information on setup scripts, please see the chapter titled, “Tcl Commands” and the Appendix titled, “Setup File.”) Once a scenario is implemented in a script, you can add the invocation of the script to the map or device popup menu.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To add a setup script to a map or device popup menu, go to the Scenarios menu in the main window and open the Scenario Manager. In this window you can add, change, or remove a setup script.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="508" height="274" src="pro_205_files/image101.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_49_Scenario" id="Figure_49_Scenario">Figure</a> 49:&#160; Scenario Manager</p>
<p class="WD_Normal">To add a script, click on the “Add…” button and a window will appear asking you for the name of the scenario, whether it is for a map or a device, and the script associated with it. Press the Create button and the name of the scenario will appear on the master list. Changing an existing scenario is much the same as adding one. Select a scenario in the master list and click on the “Modify…” button. The window that appears looks the same as the Add Scenario window with all the pertinent information filled in. Make your changes and click on the Save button to save the changes. To remove a scenario, select the line to delete from the list and click on the “Delete” button. Once you are satisfied with the list, click on the save button and the list will be added to the map and device popup menus.</p>
<p class="WD_Normal">The Advanced button allows you to specify project specific scenarios that only show up next to maps and devices witin an associated project.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentPro ver 12.0 allows you to associate parameters with the script.&#160; When the script is defined, you can add a list of parameters, along with their prompt label and default value.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To invoke a scenario script for a map, point to the map and right mouse click to open a popup menu. Point to the Scenarios menu item and a sub-menu will appear with a list of all the map level scenarios. Mouse over the scenario you would like to invoke and click on it. Note that for setup scripts with a %timer_action clause, a check will appear by the menu item indicating that the script will continue to run until stopped. To stop the timer action, select the menu item again and a stop command will be sent to terminate the script and the check in the menu will be removed.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To invoke a device scenario, point to a device and right mouse click to open the device’s popup menu. Point to the Scenarios menu item and a sub-menu will appear with a list of all the device level scenarios. Mouse over the scenario you would like to invoke and click.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If the invoked script had parameters associated with it, then you will get prompted to specify the values for the parameters.&#160; The default value for those parameters will be set based on the value defined when the scenario was created.&#160; This allows you to change the parameters like the interface index which is going down, or the trap manager IP address.&#160; The passed arguments are available to the script as the value of the “SA_arg” global list variable.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Invoking_the_Topologybc-126"></a><a name="Invoking_the_Topology" id="Invoking_the_Topology">Invoking the Topology Editor</a></p>
</div>
<p class="WD_Normal">Choose <b><i>File-&gt;Create/Edit Topology</i></b> to create or modify a network topology using a GUI based topology editor that can create simple networks made up of switches, routers and end devices.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="List_devices_in_abc-127"></a><a name="List_devices_in_a" id="List_devices_in_a">List devices in a Topological View</a></p>
</div>
<p class="WD_Normal">You can click on the View Topology Map toolbar icon to see the contents of the selected map with connectivity information, provided the map was generated using the topology editor.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="575" height="469" src="pro_205_files/image103.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Normal"><a name="Figure_50_Topological" id="Figure_50_Topological">Figure</a> 50:&#160; Topological Map View</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">The connectivity information between the devices is also displayed.&#160; Clicking on the Thumbnail View or the Table View shows the list of devices in the map in a different format.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p style=" text-indent:0in;" class="WD_chaptitle">Chapter 9<br />
<a name="Chapter_9_Trapsbc-128"></a><a name="Chapter_9_Traps" id="Chapter_9_Traps">Traps</a></p>
<p class="WD_Normal">You can make the simulated devices emit the traps you want within the SimpleAgentPro by using TCL Scripts.&#160; There are two steps to trap generation:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_ListNumber1">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Formulate the Tcl command for the trap to be generated.</p>
<p class="WD_ListNumber1"><b>2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></b> Using the GUI, make the device send the trap via <b><i>Device→Generate Traps</i></b> or&#160; <b><i>Map-&gt;Generate Traps..</i></b></p>
<p style=" margin-left:2.0in; text-indent:0in;" class="WD_ListNumber1">OR</p>
<p class="WD_ListNumber1">&#160;&#160;&#160;&#160;&#160; Make the specified device have its tcl interpretor interpret the tcl command for the trap to be generated.</p>
<p style=" margin-left:.5in; text-indent:0in;" class="WD_ListNumber1">&#160;&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_ListNumber">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Formulating_Tcl_Commandsbc-129"></a><a name="Formulating_Tcl_Commands" id="Formulating_Tcl_Commands">Formulating Tcl Commands (Step 1)</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The SimpleAgentPro Tcl interpretor includes support for trap generation tcl extensions.&#160; The Tcl Commands chapter that follows describes the various tcl commands to generate traps like SA_sendtrap, SA_sendv2cinform, etc…</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can create the tcl commands for trap generation by hand, or have the SimpleAgentPro create command templates based on information in the MIB, or have the SimpleAgentPro “learn” traps by receiving traps from an agent, and then converting them to tcl commands.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Creating_traps_from_MIBbc-130"></a><a name="Creating_traps_from_MIB" id="Creating_traps_from_MIB">Creating traps from MIB</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <b><i>Traps→Create From MIB</i></b><i><span style=" font-family:'Arial' ,'sans-serif';">..</span> <b>&#160;</b></i>submenu allows you to create template Tcl commands for each of the TRAP-TYPE and NOTIFICATION-TYPE macro definitions in the compiled MIB file.&#160;&#160; Simply specify the compiled MIB file and name the output file you would like the template traps to be defined in, and the SimpleAgentPro will parse the trap definitions and create corresponding Tcl commands for each one of them.&#160; You can then edit the values assigned for the variables to suit your application.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="351" height="342" src="pro_205_files/image105.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_51_Create_Traps" id="Figure_51_Create_Traps">Figure</a> 51:&#160; Create Traps from MIB</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Output Trap Tcl File</p>
<p class="WD_Normal">Specify the name of the output file that you want to contain the Tcl command templates generated by the SimpleAgentPro.&#160; If the file exists, its contents will be overwritten. This file will be created in the sapro/trap directory.</p>
<p class="WD_MIBObject">Compiled MIB File</p>
<p class="WD_Normal">Specify the name of file that contains the output of the MIB compiler when it compiled one or more of the associated MIB files. You can use the Browse button to look at existing files and directories.</p>
<p class="WD_MIBObject">Optional Rules File</p>
<p class="WD_Normal">Optionally, specify the name of the file that contains the rules to be used to override the default rules used during trap file creation. Appendix C contains the file format information. The rules file is expected to have a <span style=" font-family:'Arial' ,'sans-serif';">.rul</span> file name extension and reside in the <span style=" font-family:'Arial' ,'sans-serif';">&lt;<i>install_dir</i>&gt;/<span style=" text-transform:uppercase;">tcl</span></span> subdirectory. You can use the Browse button to look at the existing files and directories.&#160; %TRAPV1ENTERPRISEID<b>,</b> and %TRAPEXTRASPECIFICVBS keywords can be used to specify v1 enterprise ids as well as additional varbinds in traps.</p>
<p style=" margin-bottom:11.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">&#160;</span></p>
<p class="WD_MIBObject">Trap Type</p>
<p class="WD_Normal">Specify the type of traps to be generated.&#160; In case of SNMPv2cInform,&#160; the commands generated do not wait to receive a response.</p>
<p class="WD_Toc6">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Learning_traps_frombc-131"></a><a name="Learning_traps_from" id="Learning_traps_from">Learning traps from Device</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <b><i>Traps→Learn from Device</i></b><i><span style=" font-family:'Arial' ,'sans-serif';">..</span> <b>&#160;</b></i>submenu allows you to create template Tcl commands based on the traps received from real devices.&#160;&#160;&#160; The SimpleAgentPro opens up the specified port (port 162 by default) and waits to receive traps.&#160; If a real device were to send a trap to it, it would then receive it and convert it to a corresponding tcl command that can be used later for generating a similar trap.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="358" height="300" src="pro_205_files/image107.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_52_Learning_traps" id="Figure_52_Learning_traps">Figure</a> 52:&#160; Learning traps from devices</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Output Trap Tcl File</p>
<p class="WD_Normal">Specify the name of the output file that you want to contain the Tcl command templates generated by the SimpleAgentPro.&#160; If the file exists, its contents will be overwritten. This file will be created in the sapro/trap directory.</p>
<p class="WD_MIBObject">Compiled MIB File</p>
<p class="WD_Normal">Specify the name of file that contains the output of the MIB compiler when it compiled one or more of the associated MIB files. You can use the Browse button to look at existing files and directories.</p>
<p class="WD_MIBObject">Trap Port</p>
<p class="WD_Normal">Specify the port number that you want the application to receive traps on.&#160; By default it is set to port 162.</p>
<p class="WD_MIBObject">Syslog Port</p>
<p class="WD_Normal">Specify the port number that you want the application to receive syslog events on.&#160; By default it is set to 0, which means that it is not enabled.</p>
<p class="WD_MIBObject">Send Inform Responses</p>
<p class="WD_Normal">You can specify if you would like the application to generate responses to received informs.&#160;&#160; The SNMPv3 parameters can be specified in the SNMPv3 dialog box.</p>
<p class="WD_MIBObject">Create Map with Setup File</p>
<p class="WD_Normal">By default the tcl file created has a list of&#160; tcl commands to generate the types of traps received.&#160; Clicking on this option allows you to also record who the traps came from, what the timing difference was between two events, and then play back the entire sequence of traps from different devices with the timing intact.&#160;&#160; In this option, a tcl file which follows the “Setup File” format is created.&#160; You can also specify a map name, and a map file will be created that is made up of the devices you received traps from.&#160; When you start the map, the setup file will also be automatically run, allowing you to recreate the sequence of traps received from multiple devices.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Editing_the_Tcl_Trap_Filebc-132"></a><a name="Editing_the_Tcl_Trap_File" id="Editing_the_Tcl_Trap_File">Editing the Tcl Trap File</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <b><i>Traps→Edit..</i></b> allows you to edit the file created from MIB or learning from the received traps.&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Using_the_GUI_to_sendbc-133"></a><a name="Using_the_GUI_to_send" id="Using_the_GUI_to_send">Using the GUI to send Traps at&#160; Device Level(Step 2a)</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentPro includes a simple GUI to allow you to select a trap and then make the selected device send it.&#160; Chose <b><i>Device→Generate Traps</i></b><i><span style=" font-family:'Arial' ,'sans-serif';">..</span></i> after selecting (highlighting) the running device in the map that you want to send the trap from.&#160; You will see the following Window.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="393" height="626" src="pro_205_files/image109.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_53_Generating" id="Figure_53_Generating">Figure</a> 53:&#160; Generating Traps..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Manager IP Address:</p>
<p class="WD_Normal">Specify the IP address of the manager that you want to send the traps to</p>
<p class="WD_MIBObject">Manager Trap Port:</p>
<p class="WD_Normal">Specify the port number that you want the application to send traps to.&#160; By default it is set to port 162.</p>
<p class="WD_MIBObject">Trap Community:</p>
<p class="WD_Normal">The Trap community string to use in the traps that are sent out.&#160; This is valid for SNMPv1 Traps and SNMPv2c notifications.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Trap Tcl File:</p>
<p class="WD_Normal">The Trap Tcl file contains all the trap tcl commands.&#160; This file is typically created by “Create Traps From MIB” or “Learn Traps from Device” options explained earlier.&#160; Once the file is specified, its contents are parsed and the list box below it will be filled up with the list of traps that you can choose from.&#160;&#160; This list is derived from the contents of the selected Traps Tcl file. The Sort and Search allow you to find the trap you are looking for from the list contained in the file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Trap Frequency:</p>
<p class="WD_Normal">You can also specify how many times you want to send the selected traps and how often.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>Trap Burst Count</b>:&#160; Specify the number of times the selected trap(s) will be sent one after the other.&#160; Lets say you want to send coldStart trap 10 times, you can select “coldStart”, set Burst Count to “10”, and Frequency to “Once” and 10 traps will be sent out.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>Delay between traps (milliseconds)</b>:&#160; Specify the number of milliseconds that the SimpleAgentPro should wait before sending multiple traps.&#160; By default, the delay is 0 milliseconds.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>Once/Repeat</b>:&#160; You can also specify how many times you would like these traps to be sent.&#160; By selecting Repeat, you can specify the repeat interval in seconds and also the repeat count.&#160;&#160; So Time Interval of “5” and Repeat Count of “forever” will cause the selected trap to be sent out every 5 seconds until this dialog is closed.&#160;&#160; A repeat count of “4” will cause it to send the selected trap every 5 seconds for four times, and after 20 seconds (5 * 4) it will stop sending traps.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_Normal">Once the values are specified, click on the “Start” button below.&#160; The Status box will be updated to indicate if the trap(s) was sent out or not.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Using_the_GUI_to_send1bc-134"></a><a name="Using_the_GUI_to_send1" id="Using_the_GUI_to_send1">Using the GUI to send Traps at Map Level(Step 2b)</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentPro also includes a simple GUI to allow you to select a trap and then make all the running devices in the selected map, emit the traps. Chose <b><i>Map→Generate Traps</i></b> on a already started map.&#160; The earlier section described the trap selection, burst count and repeat count fields when used at the device level.&#160; The same options are available at the Map level also, except the selection is applied to all the running devices in the currently selected map.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">So you can choose to send cold start trap with a burst count of 5, and repeated every 5 seconds, forever, and have all the 100 devices in a map generate the traps.&#160;&#160; The total amount of traps generated can be viewed in the <b><i>Map-&gt;Statistics</i></b> window.&#160; Internally this window creates a setup file and sends it to the map.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Interpreting_Tclbc-135"></a><a name="Interpreting_Tcl" id="Interpreting_Tcl">Interpreting Tcl commands to emit traps (Step 2c)</a></p>
</div>
<p class="WD_Normal">To send a trap, the device needs to know who to send the trap to.&#160; You can specify the trap manager IP addresses in two ways.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the first way, you can specify it as the value for "Trap Manager(s)" field in the device definition dialog (when you add/modify a device in a map).&#160; This can be done prior to</p>
<p class="WD_Normal">starting the map.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once the map is running, you can change/specify the trap managers via the tcl command</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settrapmgrs trap_mgr_names</p>
<p class="WD_Normal">where trap_mgr_names can be a comma seperated list, without embedded spaces of multiple ip addresses.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; eg: SA_settrapmgrs 129.100.100.5,pluto</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If the trap manager is not set, then when the device interprets the SA_sendtrap command, no trap will be sent.&#160; Other aspects of the trap like trap port (default is 162) and trap community (default is public) can also be set via tcl commands.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Now to actually make a device emit a trap, a device’s tcl interpretor needs to interpet the the trap tcl commands.&#160; This can be done in the following ways:</p>
<p class="WD_ListNumber1">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> A tcl script gets interpreted by the device if it is part of the modelling file associated with the device.&#160; (As part of %init_action,&#160; or pdu processing related action like %after_set_action or timer&#160; related action like %timer_action). See the section on modelling&#160; file for additional details..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_ListNumber">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> A tcl script also gets interpreted at the map level, when part of a setup file.&#160; See the section on setup files for additional details.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_ListNumber">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> A tcl script can also be interpreted upon user request via the&#160; Device-&gt;Run Tcl Script submenu item.&#160; When a map is running,&#160; select the device that you want to emit the trap, then bring up the Device-&gt;RunTclScript dialog.&#160; In the Tcl Script section, type in the SA_sendtrap tcl command (or cut and paste from the file containing the tcl trap commands) and then click on Send. This will cause the tcl commands to be sent to the device for interpretation.&#160; The device will then interpret the commands causing the trap to be emitted.</p>
<p class="WD_PlainText">&#160;</p>
<p class="WD_Normal">The Frequently asked Questions sections includes many sample Tcl scripts of traps generated every 5 seconds, and different trap generated with different varbinds.&#160; Please check them out.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p style=" margin-left:3.9in; text-indent:0in;" class="WD_chaptitle">Chapter 10<br />
<a name="Chapter_10_Device_Librarybc-136"></a><a name="Chapter_10_Device_Library" id="Chapter_10_Device_Library">Device Library</a></p>
<p class="WD_Normal">The SimpleAgentPro includes a device library made up of over 30 pre-learnt devices from popular network equipment manufacturers like Cisco, Juniper, Brocade, Redback and HP.&#160; In addition, you can quickly add your own device definitions to this library.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The device library is organized in a tree structure, with vendors, categories and devices.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Vendors are manufacturers of networking equipment, like Cisco and Juniper</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Categories are grouping of type of devices like routers and switches.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Devices are actual devices like <span style=" color:black;"><font color="black" >the “</font></span>Catalyst 1900 Switch<span style=" color:black;"><font color="black" >”</font></span> <span style=" color:black;"><font color="black" >and the “</font></span>M5 <span style=" color:black;"><font color="black" >Router”.</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Existing devices in the device library can be selected for simulation, in the SNMP properties tab of the device definition window as mentioned in SNMP Information Tab section of the “Creating Devices” chapter.&#160;&#160; The SimpleAgentPro product installation comes with 2 pre-learnt devices.&#160; To get the other devices, you need to install the device library separately.</p>
<p class="WD_algorithm">&#160;</p>
<p class="WD_Normal">In this chapter you will learn about adding/modifying/deleting devices from the device library.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Opening_the_Devicebc-137"></a><a name="Opening_the_Device" id="Opening_the_Device">Opening the Device Library</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <b><i>File-&gt;Open Device Library</i></b><i><span style=" font-family:'Arial' ,'sans-serif';">..</span> <b>&#160;</b></i>submenu allows you to open and view the current contents of the device library.&#160; The tenth toolbar icon also allows you to carry this out</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="360" height="550" src="pro_205_files/image111.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_54_Device_Library" id="Figure_54_Device_Library">Figure</a> 54:&#160; Device Library</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Adding_Modifying1bc-138"></a><a name="Adding_Modifying1" id="Adding_Modifying1">Adding/Modifying/Deleting Vendor Information</a></p>
</div>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">The right mouse click on the main VENDORS label, displays a pop-up menu box that will allow you to add new vendors to the list.&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="377" height="137" src="pro_205_files/image113.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_55_Add_New_Vendor" id="Figure_55_Add_New_Vendor">Figure</a> 55:&#160; Add New Vendor</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Vendor Name:</p>
<p class="WD_Normal">Specify the Name of the Vendor</p>
<p class="WD_MIBObject">Vendor Logo File:</p>
<p class="WD_Normal">Specify a bitmap or gif file that contains the logo information for the vendor.</p>
<p class="WD_MIBObject">Vendor Directory:</p>
<p class="WD_Normal">Specify the vendor directory that contains the cmf and var files for this particular vendor.&#160; Typically, the &lt;SimpleAgentPro&gt;/devices directory contains a list of vendor subdirectories.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The right mouse click on a selected vendor displays a pop-up menu box that contains the Properties sub menu, which displays a similar dialog box and allows you to modify an existing vendor’s information.&#160; The pop-up menu box also contains the Delete submenu which will delete the vendor definition.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Adding_Modifying2bc-139"></a><a name="Adding_Modifying2" id="Adding_Modifying2">Adding/Modifying/Deleting Category Information</a></p>
</div>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">The right mouse click on the selected vendors label, displays a pop-up menu box that will allow you to add new categories to the vendor.&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="353" height="113" src="pro_205_files/image115.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_56_Add_New" id="Figure_56_Add_New">Figure</a> 56:&#160; Add New Category</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Vendor Name:</p>
<p class="WD_Normal">The Name of the Selected Vendor</p>
<p class="WD_MIBObject">Category Name:</p>
<p class="WD_Normal">Specify the name of the category by selecting from the list, or create your own.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The right mouse click on a selected vendor category displays a pop-up menu box that contains the Properties sub menu, which displays a similar dialog box and allows you to modify an existing categories information.&#160; The pop-up menu box also contains the Delete submenu which will delete the category definition</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Adding_Modifyingbc-140"></a><a name="Adding_Modifying" id="Adding_Modifying">Adding/Modifying/Deleting Device Information</a></p>
</div>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">The right mouse click on the selected category within the selected vendor, displays a pop-up menu box that will allow you to add new devices to the list.&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="353" height="221" src="pro_205_files/image117.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_57_Add_New_Device" id="Figure_57_Add_New_Device">Figure</a> 57:&#160; Add New Device</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Vendor Name:</p>
<p class="WD_Normal">Name of the Selected Vendor</p>
<p class="WD_MIBObject">Category Name:</p>
<p class="WD_Normal">Name of the Selected Category</p>
<p class="WD_MIBObject">Device Name:</p>
<p class="WD_Normal">Specify the Name of the new device</p>
<p class="WD_MIBObject">Device Logo File:</p>
<p class="WD_Normal">Specify a bitmap or gif file that contains the logo information for the device.&#160; If not present the vendor logo file will be used.</p>
<p class="WD_MIBObject">Compiled MIB File:</p>
<p class="WD_Normal">Specify the compiled MIB file to be used for this device.</p>
<p class="WD_MIBObject">Variable File:</p>
<p class="WD_Normal">Specify the variable file to be used for this device.</p>
<p class="WD_MIBObject">Telnet File:</p>
<p class="WD_Normal">Specify the telnet modeling file to be used for this device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The right mouse click on a selected device displays a pop-up menu box that contains the Properties sub menu, which displays a similar dialog box and allows you to modify an existing device’s information.&#160; The pop-up menu box also contains the Delete submenu which will delete the device definition.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The meta data for the devices that are added by the user is kept in the <b>userlib.xml</b>, while that of the devices shipped by SimpleSoft are kept in <b>devlib.xml.&#160;</b> When you upgrade from one version to another, you will need to move the userlib.xml to inherit the user defined devices.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p style=" text-indent:0in;" class="WD_Heading3"><i>&#160;</i></p>
<p class="WD_Chapter">&#160;</p>
<b><span style=" font-size:24.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="6" style="font-size:24pt;"><br clear="all" /></font></span></b>
<p style=" margin-left:3.8in; text-indent:0in;" class="WD_chaptitle"><a name="Chapter_11_TCL_Commandsbc-141"></a><a name="Chapter_11_TCL_Commands" id="Chapter_11_TCL_Commands">Chapter 11<br />
TCL Commands</a></p>
<p class="WD_Normal">You can create sophisticated simulation and modeling environments by using TCL scripts with SimpleAgentPro.&#160; Using TCL scripts, you can</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Model agent behavior</p>
<p class="WD_Normal">Generate SNMP traps</p>
<p class="WD_Normal">Change MIB data</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To make it easier to write these scripts for SNMP agent simulation, SimpleAgentPro provides a number of additional Tcl commands for agent behavior.&#160; Most commands can be used in either modeling or setup files; some are specifically for setup files only.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This chapter describes these commands.&#160; Appendix A provides a sample TCL Modeling file, and Appendix B provides a sample TCP setup file.&#160; Additional examples are present in the Frequently Asked Questions section.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">All commands return a TCL_OK or TCL_ERROR return code. Results are available in the <i>interp-&gt;results</i> variable.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Modeling_and_Setup_Filebc-142"></a><a name="Modeling_and_Setup_File" id="Modeling_and_Setup_File">Modeling and Setup File Commands</a></p>
</div>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Variable_Data_Storebc-143"></a><a name="Variable_Data_Store" id="Variable_Data_Store">Variable Data Store Commands</a></p>
<p class="WD_bulletbold"><i>SA_getvar&#160; { varOid1 ... }</i></p>
<p class="WD_Normal3">Get operation on the specified MIB variables. The results are returned as a list of triplets made up of object identifier, type and value for each of the variables specified.</p>
<p class="WD_Normal3"><i>Example:&#160;&#160; SA_getvar</i> <i>{ sysContact.0 sysLocation.0 }</i></p>
<p class="WD_bulletbold"><i>SA_gnextvar { varOid1 ... }</i></p>
<p class="WD_Normal3">Getnext operation on the specified MIB variables. The results are returned as a list of triplets made up of object identifier, type and value for each of the variables specified.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_gnextvar { sysContact sysLocation</i> }</p>
<p class="WD_bulletbold"><i>SA_setvar { {varOid1 varType1 varVal1} {..}}</i></p>
<p class="WD_Normal3">Set operation on the specified MIB variables. The results are returned as a list of triplets made up of object identifier, type and value for each of the variables specified.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setvar {{sysContact.0 OctetString newvalue}}</i></p>
<p class="WD_bulletbold"><i>SA_setvaltype { {varOid1 OctetString varVal1} {..}}</i></p>
<p class="WD_Normal3">Set operation to change the value type associated with a variable. Using this, you can change the value type of ifOctets.1 from randomup(1000, 100) to randomup(4000, 1000) and thus cause the counter to increment more rapidly.</p>
<p class="WD_Normal3">Please note that this command expects the value type to be OctetString even if the value type of the variable changed is something else like Integer. This is because what is being sent is a string “randomup(1000, 100)” and not a number like 1052.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_setvaltype {{ifOperStatus.1 OctetString fixed(2)}}</i></p>
<p class="WD_bulletbold"><i>SA_getvaltype varOid</i></p>
<p class="WD_Normal3">Gets the current valuetype associated with the specified varOid.</p>
<p class="WD_Normal3"><i>Example:</i> <i>set valtype [SA_getvaltype ifOperStatus.1]</i></p>
<p class="WD_bulletbold"><i>SA_resetcounter &lt;variable</i>&gt;</p>
<p class="WD_Normal3">Resets the value of the variable of type counter. GetRequests to this variable will see it value start once again from zero. This works for variables with an associated value type of random , randomup or clock.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_resetcounter ifInOctets.1</i></p>
<p class="WD_bulletbold"><i>SA_resetdevclock</i></p>
<p class="WD_Normal3">Resets the value of the internal clock value that was initialized when the device was first started.&#160; This will affect variables with valuetype of clock.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_resetdevclock</i></p>
<p class="WD_bulletbold"><i>SA_deleterow</i> &lt;<i>column.instance</i>&gt;</p>
<p class="WD_Normal3">Deletes a row from a table that allows dynamic row creation. The column id is used to identify the table and the instance component is used to delete all the related columnar instances from the other columns that make up the table.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_deleterow ipNetToMediaIfIndex.1.128.100.100.151</i></p>
<p class="WD_bulletbold"><i>SA_deletetable &lt;column&gt;</i></p>
<p class="WD_Normal3">Deletes all rows from a table that allows dynamic row creation. The column id is used to identify the table. Any column from the table is acceptable.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_deletetable ipNetToMediaIfIndex</i></p>
<p class="WD_bulletbold"><i>SA_disablerow column.instance</i></p>
<p class="WD_Normal3">Disables a row from a table that allows dynamic row creation.&#160;&#160; This just marks the row as inactive in memory but does not remove it.&#160; This makes it faster to add and remove the same rows.&#160;&#160; The column id is used to identify the table, and the instance component is used to identify the row in the table.</p>
<p class="WD_Normal3"><i>Example</i>:&#160; SA_disablerow ipNetToMediaIfIndex.1.128.100.100.151</p>
<p class="WD_bulletbold"><i>SA_enablerow column.instance</i></p>
<p class="WD_Normal3">Enables a previously disabled row from a table that allows dynamic row creation.&#160;&#160; This just marks the row as active in memory but does not create it.&#160; This makes it faster to add and remove the same rows.&#160;&#160; The column id is used to identify the table, and the instance component is used to identify the row in the table.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_enablerow ipNetToMediaIfIndex.1.128.100.100.151</i></p>
<p class="WD_bulletbold"><i>SA_getrowstate column.instance</i></p>
<p class="WD_Normal3">Returns the current state of a row [Row Enabled/Row Disabled].&#160; The&#160; column id is used to identify the table, and the instance component is used to identify the row in the table.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_getrowstate ipNetToMediaIfIndex.1.128.100.100.151</i></p>
<p class="WD_bulletbold"><i>SA_updaterowinstance&#160; column.oldinstance&#160; column.newinstance</i></p>
<p class="WD_Normal3">Updates the instance component of integer based tables to save a deletion and a subsequent addition.</p>
<p class="WD_Normal3"><i>Example</i>:&#160; SA_updaterowinstance e1Col1.5&#160; e1Col1.6</p>
<p class="WD_bulletbold"><i>SA_maplabel2oid&#160; &lt;label&gt;</i></p>
<p class="WD_Normal3">Maps the object descriptor specified to an object identifier based on the information present in the compiled MIB file associated with the device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_maplabel2oid sysDescr</i></p>
<p class="WD_bulletbold"><i>SA_mapoid2label&#160; &lt;oidstring&gt;</i></p>
<p class="WD_Normal3">Maps the object identifier specified to an object descriptor based on the information present in the compiled MIB file associated with the device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_mapoid2label 1.3.6.1.2.1.1.1</i></p>
<p class="WD_bulletbold"><i>SA_dumpvarfile &lt;filename&gt;</i></p>
<p class="WD_Normal3">Makes the Agent dump the contents of the MIB database into the specified file. This file can then be used as starting values for future simulations.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_dumpvarfile&#160; abcd.var</i></p>
<p class="WD_bulletbold"><i>SA_dumpgotvars &lt;filename&gt;</i></p>
<p class="WD_Normal3">Makes the Agent dump only those variables that have been accessed since startup into the specified file. This file can then be used as starting values for future simulations.&#160; For this to be used, the MARKVARSREAD = YES option must be specified in the config.inp file, or the SA_setmarkvarsflag command should be used in the %init_action to set it to 1.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_dumpvarfile&#160; abcd.var</i></p>
<p class="WD_bulletbold"><i>SA_setmarkvarsflag &lt;0/1&gt;</i></p>
<p class="WD_Normal3">Setting the flag to 1 that tells SAPro to start marking variables that have been accessed by a Management application.&#160; Setting it to 0, resets this behavior.&#160; The SA_dumpgotvars command can be used in conjunction with this.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_setmarkvarsflag 1</i></p>
<p class="WD_bulletbold"><i>SA_getmarkvarsflag</i></p>
<p class="WD_Normal3">Gets the current value of the flag that indicates if SAPro is to start marking variables that have been accessed by a Management application.&#160;</p>
<p class="WD_Normal3"><i>Example:</i> <i>set flag [SA_getmarkvarsflag]</i></p>
<p class="WD_bulletbold"><i>SA_getlastval { varOid1 varOid2 ... }</i></p>
<p class="WD_Normal3">Retrieves the last value returned for that variable.&#160;&#160; Variables of type randomup, random, sequential etc change their value when retrieved.&#160; This command essentially does a get operation on a variable to return the last value returned for it.&#160;&#160; The results are returned as a list of triplets made up of object identifier, type and value.</p>
<p class="WD_Normal3"><i>Example:</i>&#160;&#160; <i>SA_getlastval { sysContact.0 sysLocation.0 }</i></p>
<p class="WD_bulletbold"><i>SA_updatemygatewayinfo &lt;hostid varfile interface&gt;</i></p>
<p class="WD_Normal3">This command creates a new variable file for a gateway based on the devices currently running on the machine. All arguments are optional. The first option specifies the hostid component to be used in the router’s IP address derivation for a new subnet.&#160; The deault used is 254.&#160; So if there simulated devices in a new subnet, say 192.168.10.0, the router interface would be set to 192.168.10.254 if that is available.&#160;&#160; If no variable file is specified, the current device’s variable file is overwritten.&#160; If no interface string is specified, the currently used interface string is used.</p>
<p class="WD_Normal3"><i>Example:</i>&#160;&#160; <i>SA_updatemygatewayinfo</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Trap_Related_Commandsbc-144"></a><a name="Trap_Related_Commands" id="Trap_Related_Commands">Trap-Related Commands</a></p>
<p class="WD_bulletbold"><i>SA_settrapmgrs &lt;trap_mgr_names&gt;</i></p>
<p class="WD_Normal3">Sets the trap recipient managers IP/hostname addresses. The name(s) can include a comma separated list without embedded spaces.&#160;&#160; This functionality is now extended in Ver 8.0 to also support “trapip/trapport” syntax.&#160; If the trap port is specified, then it will override the one specified in the SA_settrapudpport command.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_settrapmgrs 129.100.100.5,129.100.100.245</i></p>
<p class="WD_bulletbold"><i>SA_gettrapmgrs</i></p>
<p class="WD_Normal3">Returns the current value of trap managers.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>set curMgr [SA_gettrapmgrs]</i></p>
<p class="WD_bulletbold"><i>SA_settrapudpport &lt;portnumber&gt;</i></p>
<p class="WD_Normal3">Sets the UDP port on the trap recipient managers to which the traps will be sent. By default this is set to port 162. This port number is used for all the trap managers.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_settrapudpport&#160; 2061</i></p>
<p class="WD_bulletbold"><i>SA_gettrapudpport</i></p>
<p class="WD_Normal3">Returns the current value of trap udp port.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>set curTrapPort [SA_gettrapudpport]</i></p>
<p class="WD_bulletbold"><i>SA_settrapcount &lt;number&gt;</i></p>
<p class="WD_Normal3">Sets the trap burst count.&#160; If the trap burst count is set to 10, then every sendtrap tcl command will cause 10 traps to be sent out instead of just 1. By default it is set to 1.&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; SA_settrapcount 10</p>
<p class="WD_bulletbold"><i>SA_gettrapcount</i></p>
<p class="WD_Normal3">Returns the current value of trap burst count.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; SA_gettrapcount</p>
<p class="WD_bulletbold"><i>SA_settrapcommunity new_community_string</i></p>
<p class="WD_Normal3">Sets the community string used in the traps generated.&#160; By default the string used is public.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_settrapcommunity private</i></p>
<p class="WD_bulletbold"><i>SA_gettrapcommunity</i></p>
<p class="WD_Normal3">Returns the current value of trap community..</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>set curComm [SA_gettrapcommunity]</i></p>
<p class="WD_bulletbold"><i>SA_updatetrapmgrfrommib</i></p>
<p class="WD_Normal3">Sets the list of trap receipient managers from the snmpTargetAddr Table, and uses the value of&#160; snmpTargetAddrTAddress to get the IP address and port.&#160; This function can be used in the init_action section of the tcl modeling file to use existing rows of the table from the var file and then in the after_set_action of the snmpTargetAddrTable to update it with the changes made.</p>
<p class="WD_Normal3"><i>Example:</i> SA_updatetrapmgrfrommib</p>
<p class="WD_bulletbold"><i>SA_sendtrap { enterpriseId&#160; generic&#160; specific {varOid1 varType1 varVal1}{..}}</i></p>
<p class="WD_Normal3">Send the specified v1 trap to the associated trap manager IP address of the device. The enterpriseid in oid form, the values of the generic and specific fields along with an optional list of variable bindings.</p>
<p class="WD_Normal3"><i>Example:</i> to send a cold start trap :-&#160; SA_sendtrap { 1.3.6.1.4.1.856.1 0 0 }&#160;</p>
<p class="WD_bulletbold"><i>SA_settrapv1ip &lt;ip v4 address&gt;</i></p>
<p class="WD_Normal3">Allows you to specify the Agent IP address within a v1 trap.&#160; By default it will be set to the simulated device’s IP address,&#160; but using this command, you can change it to a different IP.</p>
<p class="WD_Normal3"><i>Example:</i> SA_settrapv1ip 10.5.1.1</p>
<p class="WD_bulletbold"><i>SA_sendtrapgetpdu { enterpriseId&#160; generic&#160; specific {varOid1 varType1 varVal1}{..}}</i></p>
<p class="WD_Normal3">Send the specified v1 trap to the associated trap manager IP address of the device. The enterpriseid in oid form, the values of the generic and specific fields along with an optional list of variable bindings.&#160; It returns the ASN.1 encoded buffer as a hex octet string.&#160; This can be used to populate a last trap sent table if required.</p>
<p class="WD_Normal3"><i>Example:</i> to send a cold start trap :-&#160; SA_sendtrap { 1.3.6.1.4.1.856.1 0 0 }&#160;</p>
<p class="WD_bulletbold"><i>SA_sendv2ctrap {trapId {varOid1 varType1 varVal1}{..}}</i></p>
<p class="WD_Normal3">Send the specified v2c notification to the associated trap manager IP address of the device.</p>
<p class="WD_Normal3"><i>Example:</i> SA_sendv2ctrap {1.3.6.1.4.1.856.1.1 {ifOperStatus.1 Integer 1}} will send a v2c notification with the first varbind being sysUpTime.0, the next one being snmpTrapOid.0 with its value being 1.3.6.1.4.1.856.1.1 and the third varbind being ifOperStatus.1.</p>
<p class="WD_bulletbold"><i>SA_sendv2cinform {trapId {varOid1 varType1 varVal1}{..}}</i></p>
<p class="WD_Normal3">Send the specified v2c inform request to the associated trap manager IP address of the device.</p>
<p class="WD_Normal3"><i>Example:</i> SA_sendv2cinform {1.3.6.1.4.1.856.1.1 {ifOperStatus.1 Integer 1}} will send a v2c inform request with the first varbind being sysUpTime.0, the next one being snmpTrapOid.0 with its value being 1.3.6.1.4.1.856.1.1 and the third varbind being ifOperStatus.1.</p>
<p class="WD_bulletbold"><i>SA_sendv3notify {trapId {varOid1 varType1 varVal1}{..}}</i></p>
<p class="WD_Normal3">Send the specified v3 notification to the associated trap manager IP address of the device.</p>
<p class="WD_Normal3"><i>Example:</i> SA_sendv3notify {1.3.6.1.4.1.856.1.1 {ifOperStatus.1 Integer 1}} will send a v3 notification with the first varbind being sysUpTime.0, the next one being snmpTrapOid.0 with its value being 1.3.6.1.4.1.856.1.1 and the third varbind being ifOperStatus.1.&#160; Does not do discovery.</p>
<p class="WD_bulletbold"><i>SA_setnofifyuser &lt;username&gt;</i></p>
<p class="WD_Normal3">Sets the user name and profile to use when sending v3 notifications.&#160; Normally the default SNMPv3 user specified in the device properties is used.</p>
<p class="WD_Normal3"><i>Example:</i> SA_setnofifyuser user2</p>
<p class="WD_bulletbold"><i>SA_sendv3cinform {trapId {varOid1 varType1 varVal1}{..}}</i></p>
<p class="WD_Normal3">Send the specified v3 inform request to the associated trap manager IP address of the device.</p>
<p class="WD_Normal3"><i>Example:</i> SA_sendv3inform {1.3.6.1.4.1.856.1.1 {ifOperStatus.1 Integer 1}} will send a v3 inform request with the first varbind being sysUpTime.0, the next one being snmpTrapOid.0 with its value being 1.3.6.1.4.1.856.1.1 and the third varbind being ifOperStatus.1.&#160; Does not do discovery.</p>
<p class="WD_bulletbold">SA_sendv2cinformWaitForResponse <i>{timeout retries trapId {varOid1 varType1 varVal1}{..}}</i></p>
<p class="WD_Normal3">Send the specified v2c inform request to the associated trap manager IP address of the device and wait for the specified timeout_secs to receive the response.&#160; If no response is received, it will automatically retransmit the specified number of retries.&#160; Please note that this call is blocking.&#160; If the manager does not send a response and the timeout was 2 secs, and the number of retries is 3, the device thread will be blocked for 6 secs for each of the trap manager specified.</p>
<p class="WD_Normal3"><i>Example:</i> SA_sendv2cinformWaitForResponse {2 3 1.3.6.1.4.1.856.1.1 {ifOperStatus.1 Integer 1}} will send a v2c inform request with the first varbind being sysUpTime.0, the next one being snmpTrapOid.0 with its value being 1.3.6.1.4.1.856.1.1 and the third varbind being ifOperStatus.1.&#160; It will wait for 2 secs for the response and retry 3 times.</p>
<p class="WD_bulletbold"><i>SA_trapgetpdu { enterpriseId&#160; generic&#160; specific {varOid1 varType1 varVal1}{..}}</i></p>
<p class="WD_Normal3">Returns an octet string of the encoded trap buffer that can be used later in a SA_sendtrapdu call.&#160;&#160; Since most of the time is spent in parsing the arguments and encoding the pdu, this work could be done beforehand.&#160; Please note however that the timestamps inside the pdu will reflect the time the packet was built, not when it was sent out. The enterpriseid in oid form, the values of the generic and specific fields along with an optional list of variable bindings.</p>
<p class="WD_Normal3"><i>Example:</i> to get a pdu for a cold start trap :-&#160; SA_trapgetpdu { 1.3.6.1.4.1.856.1 0 0 }&#160;</p>
<p class="WD_bulletbold"><i>SA_v2ctrapgetpdu {trapId {varOid1 varType1 varVal1}{..}}</i></p>
<p class="WD_Normal3">Returns an octet string of the encoded trap buffer that can be used later in a SA_sendtrappdu call.</p>
<p class="WD_Normal3"><i>Example:</i> SA_v2ctrapgetpdu {1.3.6.1.4.1.856.1.1 {ifOperStatus.1 Integer 1}} will return an encoded PDU buffer for a v2c notification with the first varbind being sysUpTime.0, the next one being snmpTrapOid.0 with its value being 1.3.6.1.4.1.856.1.1 and the third varbind being ifOperStatus.1.</p>
<p class="WD_bulletbold"><i>SA_v3notifygetpdu {trapId {varOid1 varType1 varVal1}{..}}</i></p>
<p class="WD_Normal3">Returns an octet string of the encoded trap buffer that can be used later in a SA_sendtrappdu call.</p>
<p class="WD_Normal3"><i>Example:</i> SA_sendv3notify {1.3.6.1.4.1.856.1.1 {ifOperStatus.1 Integer 1}} will return an encoded PDU buffer for a v3 notification with the first varbind being sysUpTime.0, the next one being snmpTrapOid.0 with its value being 1.3.6.1.4.1.856.1.1 and the third varbind being ifOperStatus.1.&#160; Does not do discovery.</p>
<p class="WD_bulletbold"><i>SA_sendtrappdu &lt;pdu_buffer&gt; [0/1]</i></p>
<p class="WD_Normal3">Sends the encoded buffer got previously to the list of trap managers.&#160;&#160; If the optional second argument is set to 1, then SAPro will try to patch the timestamp in the&#160; SNMPv1 trap packet, or the SNMPv2C notification varbind list, prior to sending.&#160; This allows a more efficient way to simply patch the&#160; ASN.1/BER and update the timestamps, for faster generation of traps.</p>
<p class="WD_Normal3"><i>Example:</i> set mybuf [SA_trapgetpdu { 1.2.3 0 0 }]</p>
<p class="WD_Normal3"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrapdu $mybuf</i></p>
<p class="WD_bulletbold"><i>SA_gettrapreqid</i></p>
<p class="WD_Normal3">Returns the request id used in the last emitted trap pdu.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_gettrapreqid</i></p>
<p class="WD_bulletbold"><i>SA_settrapreqid</i></p>
<p class="WD_Normal3">Specifies the starting value of the trap request id used in subsequent trap emissions.&#160; The actual number is used will be one more than the value specified.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_settrapreqid&#160; 54</i></p>
<p class="WD_bulletbold"><i>SA_setv3informmgrinfo ip pt nr to ei ci cn un sl at ap pp</i></p>
<p class="WD_Normal3">Specifies SNMPv3 characteristics of the inform recepient manager. The command takes 12 order dependent arguments, where ip is the ipaddress of the manager, pt is its udp port, nr is the number of retries (you can set it to zero if no retries are needed), to is the timeout in secs to wait for the the response to the inform, ei is the engine id of the manager (you can set it to none to make SAPro do discovery), ci is the context engineid (you can set it to none to make it the same as engineid), cn is the context name (you can set it to none if not used), un is the username, sl is the security level (you can set it to one of the following: NoAuthNoPriv, AuthNoPriv, AuthPriv), at is the authentication type (you can set it to one of the following: MD5,SHA), ap is the authentication password, and pp is the privacy password.&#160; If the engineid is “discovered” it is remembered for subsequent inform transmissions to the same manager.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_setv3informmgrinfo 192.168.100.90 162 3 1 none none none noAuthUser NoAuthNoPriv MD5 none none</i></p>
<p class="WD_bulletbold"><i>SA_sendv3informwdiscovery{trapId {varOid1 varType1 varVal1}{..}}</i></p>
<p class="WD_Normal3">Send the specified v3 inform request to the associated inform manager specified in the SA_setv3informmgrinfo call. Will do discovery if required and wait for response.</p>
<p class="WD_Normal3"><i>Example:</i> SA_sendv3informwdiscovery {1.3.6.1.4.1.856.1.1 {ifOperStatus.1 Integer 1}} will send a v3 inform request with the first varbind being sysUpTime.0, the next one being snmpTrapOid.0 with its value being 1.3.6.1.4.1.856.1.1 and the third varbind being ifOperStatus.1.</p>
<p class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Syslog_Related_Commandsbc-145"></a><a name="Syslog_Related_Commands" id="Syslog_Related_Commands">Syslog-Related Commands</a></p>
<p class="WD_bulletbold"><i>SA_setsyslogmgrs &lt;syslog_mgr_names&gt;</i></p>
<p class="WD_Normal3">Sets the syslog recipient managers IP/hostname addresses. The name(s) can include a comma separated list without embedded spaces.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setsyslogmgrs 129.100.100.5,129.100.100.245</i></p>
<p class="WD_bulletbold"><i>SA_setsyslogudpport &lt;portnumber&gt;</i></p>
<p class="WD_Normal3">Sets the UDP port on the syslog recipient managers to which the syslogs will be sent. By default this is set to port 514. This port number is used for all the syslog managers.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setsyslogudpport&#160; 2061</i></p>
<p class="WD_bulletbold"><i>SA_sendsyslog &lt;syslog_message&gt;}</i></p>
<p class="WD_Normal3">Send the specified syslog message to the associated syslog manager IP address of the device.</p>
<p class="WD_Normal3"><i>Example:</i> SA_sendsyslog “10/22/2002:18/31/15:SYS-5-MOD_INSERT:Module 5”</p>
<p class="WD_bulletbold"><i>SA_getsyslogtstamp</i></p>
<p class="WD_Normal3">Returns the current timestamp formatted as per syslog message format requirements.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; set tstamp [SA_getsyslogtstamp]</p>
<p class="WD_bulletbold"><i>SA_getsyslogheader</i></p>
<p class="WD_Normal3">Returns the syslog header component that contains the current timestamp formatted as per syslog message format requirements, along with the IP address of the current device.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; set sheader [SA_getsyslogheader]</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Agent_Parameter_Commandsbc-146"></a><a name="Agent_Parameter_Commands" id="Agent_Parameter_Commands">Agent Parameter Commands</a></p>
<p class="WD_bulletbold"><i>SA_getmyip</i></p>
<p class="WD_Normal3">Returns the IP address of the current device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmyip</i></p>
<p class="WD_bulletbold"><i>SA_getmymac</i></p>
<p class="WD_Normal3">Returns the MAC address of the current device if any, or “none”</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmymac</i></p>
<p class="WD_bulletbold"><i>SA_getmysubnet</i></p>
<p class="WD_Normal3">Returns the Subnet Mask of the current device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmysubnet</i></p>
<p class="WD_bulletbold"><i>SA_getmyreadcommunity</i></p>
<p class="WD_Normal3">Returns the read community string of the current device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmyreadcommunity</i></p>
<p class="WD_bulletbold"><i>SA_setmyreadcommunity&#160; new_community_string</i></p>
<p class="WD_Normal3">Sets the read community string of the current device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_setmyreadcommunity&#160; no_longer_public</i></p>
<p class="WD_bulletbold"><i>SA_getmywritecommunity</i></p>
<p class="WD_Normal3">Returns the write community string&#160; of the current device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmywritecommunity</i></p>
<p class="WD_bulletbold"><i>SA_setmywritecommunity&#160; new_community_string</i></p>
<p class="WD_Normal3">Sets the write community string&#160; of the current device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_setmywritecommunity&#160; super_private</i></p>
<p class="WD_bulletbold"><i>SA_getmysnmpport</i></p>
<p class="WD_Normal3">Returns the current snmp port used by the SNMP agent.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmysnmpport</i></p>
<p class="WD_bulletbold"><i>SA_getmyvarfilename</i></p>
<p class="WD_Normal3">Returns the current SNMP variable file name associated with the simulated SNMP agent.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmyvarfilename</i></p>
<p class="WD_bulletbold"><i>SA_getmytrapmgrs</i></p>
<p class="WD_Normal3">Returns the trap managers&#160; of the current device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmytrapmgrs</i></p>
<p class="WD_bulletbold"><i>SA_getmyproxyname</i></p>
<p class="WD_Normal3">Returns the proxy name of the current device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmyproxyname</i></p>
<p class="WD_bulletbold"><i>SA_getmyname</i></p>
<p class="WD_Normal3">Returns the internally used unique identifier for the current device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmyname</i></p>
<p class="WD_bulletbold">SA_getmysnmpv3param &lt;param_id&gt;</p>
<p class="WD_Normal3">Returns the value of the requested &lt;<i>param_id&gt;.</i> &#160;Valid <i>param_ids</i> are&#160; <i>COUNTER_UNKNOWN_SEC_MODEL, COUNTER_INVALID_MSG, COUNTER_UNKNOWN_PDU_HANDLER, COUNTER_UNAVAILABLE_CONTEXT, COUNTER_UNSUPPORTED_SECLEVEL, COUNTER_NOT_IN_TIME_WINDOW, COUNTER_UNKNOWN_USER_NAME, COUNTER_UNKNOWN_ENGINEID, COUNTER_WRONG_DIGEST, COUNTER_DECRYPTION_ERROR, COUNTER_ENGINEBOOTS,</i> <i>COUNTER_ENGINETIME, SNMP_ENGINE_ID, CONTEXT_ENGINE_ID, CONTEXT_NAME.</i></p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmysnmpv3param COUNTER_ENGINEBOOTS</i></p>
<p class="WD_bulletbold"><i>SA_setmysnmpv3param &lt;param_id&gt; &lt;new_value&gt;</i></p>
<p class="WD_Normal3">Sets the value of the requested <i>&lt;param_id</i>&gt;.&#160; Valid param_ids are&#160; <i>COUNTER_UNKNOWN_SEC_MODEL, COUNTER_INVALID_MSG, COUNTER_UNKNOWN_PDU_HANDLER, COUNTER_UNAVAILABLE_CONTEXT, COUNTER_UNSUPPORTED_SECLEVEL, COUNTER_NOT_IN_TIME_WINDOW, COUNTER_UNKNOWN_USER_NAME, COUNTER_UNKNOWN_ENGINEID, COUNTER_WRONG_DIGEST, COUNTER_DECRYPTION_ERROR, COUNTER_ENGINEBOOTS, COUNTER_ENGINETIME, SNMP_ENGINE_ID, CONTEXT_ENGINE_ID, CONTEXT_NAME.</i></p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_setmysnmpv3param COUNTER_ENGINEBOOTS 45</i></p>
<p class="WD_bulletbold"><i>SA_getprivkey &lt;username&gt;</i></p>
<p class="WD_Normal3">Returns the value of the privacy key used for the specified user.&#160;&#160; This is sometimes useful when debugging&#160; mismatched keys.&#160; If no user is specified, then the default user is used.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getprivkey</i></p>
<p class="WD_bulletbold"><i>SA_getdevicedisplaytag</i></p>
<p class="WD_Normal3">Returns the value of the display tag field associated with the device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getdevicedisplaytag</i></p>
<p class="WD_bulletbold"><i>SA_getmapuserdata</i></p>
<p class="WD_Normal3">Returns the value of the user data field in the map definition.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmapuserdata</i></p>
<p class="WD_bulletbold"><i>SA_getdeviceuserdata</i></p>
<p class="WD_Normal3">Returns the value of the device user data field associated with the device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getdeviceuserdata</i></p>
<p class="WD_bulletbold"><i>SA_gettokenfromuserdata &lt;token&gt;</i></p>
<p class="WD_Normal3">Returns the value associated with the specified token in the semicolon separated list specified in the userdata field.&#160; So if the userdata field is specified as&#160; “Label1=value1;Label2=value2”, then you can use this command to get value2, by specifying label2.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_gettokenfromuserdata Label2</i></p>
<p class="WD_bulletbold"><i>SA_getdevicetopodata</i></p>
<p class="WD_Normal3">Returns the value of the topology data field associated with the device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getdevicetopodata</i></p>
<p class="WD_bulletbold"><i>SA_getsapromachineip</i></p>
<p class="WD_Normal3">Returns the IP address of the machine on which SAPro is currently running.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getsapromachineip</i></p>
<p class="WD_bulletbold"><i>SA_getmapname</i></p>
<p class="WD_Normal3">Returns the name of the map in which the device belongs.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getmapname</i></p>
<p class="WD_bulletbold"><i>SA_getipdifference &lt;ip1&gt; &lt;ip2&gt;</i></p>
<p class="WD_Normal3">Returns the integer difference in the two values of IP addresses.&#160; This can be useful to determine a unique id for cloned devices.&#160; The first address can be the devices own address and the second address can be the address of the original device.&#160;</p>
<p class="WD_Normal3"><i>Example:</i> <i>&#160;set myid [SA_getipdifference 192.168.100.51 192.168.100.1]</i></p>
<p class="WD_bulletbold"><i>SA_getsimstarttime</i></p>
<p class="WD_Normal3">Returns the time when the device simulation was started.</p>
<p class="WD_Normal3"><i>Example:</i> <i>set stime [SA_getsimstarttime]</i></p>
<p class="WD_bulletbold"><i>SA_setsimstarttime &lt;secs since 1970&gt;</i></p>
<p class="WD_Normal3">Sets the start time of the simulator if you need to modify it to simulate reboot etc.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_setsimstarttime 1234567</i></p>
<p class="WD_bulletbold"><i>SA_getsnmpstatus</i></p>
<p class="WD_Normal3">Returns&#160; the SNMP property of the device to indicate if SNMP is enabled or disabled. Will get back either “SNMP enabled” or “SNMP disabled”</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getsnmpstatus</i></p>
<p class="WD_bulletbold"><i>SA_gettelnetstatus</i></p>
<p class="WD_Normal3">Returns&#160; the Telnet property of the device to indicate if Telnet is enabled or disabled. Will get back either “Telnet enabled” or “Telnet disabled”</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_gettelnetstatus</i></p>
<p class="WD_bulletbold"><i>SA_updatedevcolor</i></p>
<p class="WD_Normal3">Specifies the color of the device to be updated in the GUI display for the device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_updatedevcolor</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Agent_Behavior_Commandsbc-147"></a><a name="Agent_Behavior_Commands" id="Agent_Behavior_Commands">Agent Behavior Commands</a></p>
<p class="WD_bulletbold"><i>SA_setdeltamultiplier &lt;newvalue&gt;</i></p>
<p class="WD_Normal3">Sets the delta multiplier used globally by the device for all variables.&#160;&#160; The value is specified in 1/100<sup>th</sup> increments.&#160;&#160; By default its value is 100, which results in any delta computed multiplied by a value of 1.&#160;&#160; Setting it to 1000 would cause all the counters to speed up 10 times as fast as before, while still exhibiting the randomup style behavior.&#160;&#160; Setting it to 0 will cause all randomup values to be effectively made into fixed.</p>
<p class="WD_Normal3"><i>&#160;Example:</i> <i>SA_setdeltamultiplier 5000</i></p>
<p class="WD_bulletbold"><i>SA_getdeltamultiplier</i></p>
<p class="WD_Normal3">Gets the current value of the delta multiplier.</p>
<p class="WD_Normal3"><i>&#160;Example:</i> <i>SA_getdeltamultiplier</i></p>
<p class="WD_bulletbold"><i>SA_snmpdelay &lt;newvalue&gt;</i></p>
<p class="WD_Normal3">Sets the SNMP response delay to the new value specified. The value is in milliseconds. A special value of 9999 makes the Agent stop responding to SNMP requests.&#160; From version 16.0 onwards, in addition to just one number, you can also specify a string with two comma separated numbers (100,5000) and the simulator will generate a random number between the first and the second number to simulate a variation in network/resource load.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_snmpdelay 1000</i></p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_snmpdelay 0,2000</i></p>
<p class="WD_bulletbold"><i>SA_setsnmpdelay &lt;newvalue&gt;</i></p>
<p class="WD_Normal3">Same as SA_snmpdelay but with more consistent naming.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_setsnmpdelay 1000</i></p>
<p class="WD_bulletbold"><i>SA_getsnmpdelay</i></p>
<p class="WD_Normal3">Returns the current value of snmpdelay.</p>
<p class="WD_Normal3"><i>Example:</i> set curDelay [<i>SA_getsnmpdelay</i>]</p>
<p class="WD_bulletbold"><i>SA_disableping</i></p>
<p class="WD_Normal3">Makes the device stop responding to pings.&#160; By default the device always responds to pings.&#160; Please note that when the device stops responding to pings, it also stops responding to SNMP requests.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_disableping</i></p>
<p class="WD_bulletbold"><i>SA_enableping</i></p>
<p class="WD_Normal3">Makes the device start responding to pings once again.&#160; By default the device always responds to pings.&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_enableping</i></p>
<p class="WD_bulletbold"><i>SA_getpingstatus</i></p>
<p class="WD_Normal3">Returns the current ping status of the device. By default the device always responds to pings.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_getpingstatus</i></p>
<p class="WD_bulletbold"><i>SA_setmtusize &lt;newmtusize&gt;</i></p>
<p class="WD_Normal3">Sets the MTU size associated with the device to the newly specified value.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setmtusize&#160; 1400</i></p>
<p class="WD_bulletbold"><i>SA_setmaxnumvbs&#160; &lt;num_of_vbs&gt;</i></p>
<p class="WD_Normal3">Sets the maximum number of varbinds that can be processed by the agent, after which it will generate a TOO_BIG error.&#160;&#160; If the value is 0, (default), the effect of this variable is ignored and the agent will respond to as many variable bindings as can fit into the MTU size of the response packet.&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setmaxnumvbs 10</i></p>
<p class="WD_bulletbold"><i>SA_sendudppacket dest_ip_addr dest_udp_port buffer_contents_inhex</i></p>
<p class="WD_Normal3">Sends a udp packet to the specified destination ip address and port number.&#160; The contents of the packet must be defined in hex, with the string starting with "0x".&#160; To send the packet containing 4 bytes 01020304, use 0x01020304.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_sendudppacket 128.100.100.40 2010 0x01020304</i></p>
<p class="WD_bulletbold"><i>SA_updatetimerdelay&#160; new_delay_value</i></p>
<p class="WD_Normal3">This causes the time action interval in the modeling file associated with this device to be updated to the new delay interval.&#160;&#160; The delay is assumed to be specified in seconds.</p>
<p class="WD_Normal3"><i>Example: SA_updatetimerdelay 20</i></p>
<p class="WD_bulletbold"><i>SA_disabletimer</i></p>
<p class="WD_Normal3">This causes the timer action to be disabled if currently enabled.&#160;&#160; Thus an existing timer action can be stopped for a certain period of time, and then enabled again if required.</p>
<p class="WD_Normal3"><i>Example: SA_enabletimer</i></p>
<p class="WD_bulletbold"><i>SA_enabletimer</i></p>
<p class="WD_Normal3">This causes the timer action to be enabled if previously disabled.&#160; By default it is always enabled.</p>
<p class="WD_Normal3"><i>Example: SA_enabletimer</i></p>
<p class="WD_bulletbold"><i>SA_sleep &lt;milliseconds&gt;</i></p>
<p class="WD_Normal3">Makes the device interpreter wait for the specified milliseconds before executing the next Tcl command.&#160; While sleeping, no SNMP requests will get processed.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_sleep 2000</i></p>
<p class="WD_bulletbold"><i>SA_system&#160; executable_name</i></p>
<p class="WD_Normal3">This makes a system call to execute the specified argument..</p>
<p class="WD_Normal3"><i>Example: SA_system “myexecutable argument1 argument2”</i></p>
<p class="WD_bulletbold"><i>SA_sendtclcmdtodev &lt;device_id&gt;&#160; &lt;tcl_command&gt;</i></p>
<p class="WD_Normal3">This sends the tcl command to be interpreted in the tcl interpretor of the specified device.&#160;</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_sendtclcmdtodev 128.100.100.40&#160; “set abc 1”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold"><i>SA_syncsendtclcmdtodev &lt;device_id&gt;&#160; &lt;tcl_command&gt;</i></p>
<p class="WD_Normal3">This sends the tcl command to be interpreted in the tcl interpretor of the specified device and gets the result of the interpretation</p>
<p class="WD_Normal3"><i>Example:</i> set response [<i>SA_sendtclcmdtodev 128.100.100.40&#160; “SA_getvar</i> <i>{ sysContact.0 sysLocation.0 }”]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold"><i>SA_addipaddr ipaddress</i> <span style=" font-weight:normal;">subnet mac port interface</span></p>
<p class="WD_Normal3">This command adds one more ip address to the same device thread.&#160; So SNMP requests coming on the specified port for this ipaddress will also be processed by the same simulated device thread in the context of the associated variable file.&#160; Devices like routers often have multiple ip addresses to the same box containing the same MIB data. This helps in their simulation.&#160; Only the first argument is mandatory.&#160; If subnet is not specified, it is assumed to be “255.255.255.0”.&#160; If mac is not specified it is assumed to be “none”.&#160; If port is not specified, it is assumed to be “161”.&#160; If interface is not specified (only on Solaris) it is assumed to be “hme0”.&#160;</p>
<p class="WD_Normal3"><i>Example: SA_addipaddr 192.168.100.1</i></p>
<p class="WD_bulletbold"><i>SA_delipaddr ipaddress</i></p>
<p class="WD_Normal3">This command deletes a previously added ip address through the SA_addipaddr command.&#160;&#160;</p>
<p class="WD_Normal3"><i>Example: SA_delipaddr 192.168.100.1</i></p>
<p class="WD_bulletbold"><i>SA_settrapownip ipaddress</i></p>
<p class="WD_Normal3">This command specifies the IP address to use when emitting traps, when supporting multiple addresses using the SA_addipaddr command.&#160; By default traps get sent out using the device’s primary IP address.&#160;&#160;</p>
<p class="WD_Normal3"><i>Example: SA_settrapownip 192.168.100.1</i></p>
<p class="WD_bulletbold"><i>SA_ reloadvar&#160;&#160; &#160;</i><i><span style=" font-weight:normal;">variable_file&#160;&#160;&#160; compiled_mib_file</span></i></p>
<p class="WD_Normal3">This command reloads the variable file specified in a running device. A new variable file can be reloaded, without stopping the entire map.&#160; If the variable file name and compiled MIB file name are not specified, the files currently associated with the device are used.</p>
<p class="WD_Normal3"><i>Example: SA_reloadvar new_varfile_name&#160; associated_compiled_mib_file_name</i></p>
<p class="WD_bulletbold"><i>SA_reloadmodfile&#160;&#160;&#160;</i> <i><span style=" font-weight:normal;">modelling_file</span></i></p>
<p class="WD_Normal3">This command reloads the modelling file associated with the device.&#160; The init_action section is executed at the time of reloading.&#160; Older timer actions are stopped and new ones started.&#160; If the modelling file name is not specified, the current modelling file name is used.</p>
<p class="WD_Normal3"><i>Example: SA_reloadmodfile&#160; new_modelling_file</i></p>
<p class="WD_bulletbold"><i>SA_reload_telnetmodfile&#160;&#160;&#160;</i> <i><span style=" font-weight:normal;">modelling_file</span></i></p>
<p class="WD_Normal3">This command reloads the telnet modelling file associated with the device.&#160; Current telnet sessions that are active will get terminated.&#160;</p>
<p class="WD_Normal3"><i>Example: SA_reload_telnetmodfile&#160; new_modelling_file</i></p>
<p class="WD_bulletbold"><i>SA_setpacketdroptimeout&#160; &lt;max_delay_in_secss&gt;</i></p>
<p class="WD_Normal3">Sets the maximum number of seconds a request could wait in the request queue after which it would get discarded without processing.&#160; By default the time is set to zero(0) which means that there is no check done.&#160; However if set to a non zero value, requests waiting longer than the specified seconds will be discarded prior to processing.&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setpacketdroptimeout 10</i></p>
<p class="WD_bulletbold"><i>SA_sendsnmp ipaddr port version oper community { {varOid1 varType1 varVal1} {..}}</i></p>
<p class="WD_Normal3">Sends a snmp request without waiting for a reply to the specified ipaddress.&#160; Only SNMPv1 or SNMPv2c is currently supported for versions and only “set” request is currently allowed.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_sendsnmp 192.168.100.40 161 SNMPv1 set private {{sysLocation.0 OctetString abc }}</i></p>
<p class="WD_bulletbold"><i>SA_sendsnmgetresponse ipaddr port version oper community { {varOid1 varType1 varVal1} {..}}</i></p>
<p class="WD_Normal3">Sends a snmp request and waits for a response and gives the variable binding list in the response back.&#160; Only SNMPv1 or SNMPv2c is currently supported for versions and&#160; supports get, getnext and set requests.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_sendsnmpgetresponse 192.168.100.40 161 SNMPv1 set private {{sysLocation.0 OctetString abc }}</i></p>
<p class="WD_bulletbold"><i>SA_resetdevice</i></p>
<p class="WD_Normal3">This causes the current device to essentially get stopped and started again. The associated device thread is terminated, and a new device thread is started.</p>
<p class="WD_Normal3"><i>Example: SA_resetdevice</i></p>
<p class="WD_bulletbold"><i>SA_partialreset1 &lt;tcl script to evaluate&gt;</i></p>
<p class="WD_Normal3">This causes the current device to do the reset in two parts.&#160; In the first part, the device is stopped, and it sends a tcl command to itself to evaluate which can in turn complete the reset process allowing a delay to be injected in between the stop and&#160; the start.</p>
<p class="WD_Normal3"><i>Example:</i> SA_partialreset1&#160; "SA_sleep 1000; SA_partialreset2 "</p>
<p class="WD_bulletbold"><i>SA_partialreset2 &lt;optional 0/1 for snmp reset&gt;</i></p>
<p class="WD_Normal3">This causes the execution of the second part of the reset process which is to bring the device back up again.&#160; The telnet server if enabled is restarted.&#160; Depending on the optional snmp reset flag, the snmp variable file is reloaded to start afresh.</p>
<p class="WD_Normal3"><i>Example:</i> SA_partialreset2 0</p>
<p class="WD_bulletbold"><i>SA_setintialtimeoffset &lt;offset_value&gt;</i></p>
<p class="WD_Normal3">This causes the current initial time associated with a device to be decremented by the specified value.&#160; Changing this value will affect all internally computed timestamps in traps and TimeTicks values..</p>
<p class="WD_Normal3"><i>Example: SA_setinitialtimeoffset 5000</i></p>
<p class="WD_bulletbold"><i>SA_numresponses</i></p>
<p class="WD_Normal3">This command allows you to override the default behavior of the simulated agent to generate one response per request.&#160; If for some specific test case, you wanted the agent to transmit multiple responses, you can do this by using this command.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setnumresponses 4</i></p>
<p class="WD_bulletbold"><i>SA_addipfromipaddr</i></p>
<p class="WD_Normal3">This command adds additional IP addresses for the same device based on the data in the ipaddr table in MIB2.&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_addipfromipaddr</i></p>
<p class="WD_bulletbold"><i>SA_ignoreipswhenadding</i></p>
<p class="WD_Normal3">This command tells SAPro to ignore particular addresses when adding addresses from the ipaddr table in MIB2.&#160; You can specify a comma separated list of ips.&#160; Wildcards like 127.0.0.x are also supported.&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_ignoreipswhenadding “127.0.0.x,192.168.1.6”</i></p>
<p class="WD_bulletbold"><i>SA_asyncudpopen &lt;port num&gt;</i></p>
<p class="WD_Normal3">This command opens up a UDP socket that is bound to the specified port. <i>Example:</i>&#160; <i>SA_asyncudpopen 2456</i></p>
<p class="WD_bulletbold"><i>SA_asyncudprecv &lt;callback_procedure_name&gt;</i></p>
<p class="WD_Normal3">This command associates the specified callback procedure name with the async socket.&#160; The callback procedure needs to be defined in the init_action section.&#160; It takes one argument which is the received packet.&#160; The received packet is given back as a hex string (0x…..).&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_asyncudprecv myUdpCallBackProc</i></p>
<p class="WD_bulletbold"><i>SA_asyncudpsend&#160; dest_ip_addr dest_udp_port buffer_contents_inhex</i></p>
<p class="WD_Normal3">Sends a udp packet to the specified destination ip address and port number using the opened async socket. The contents of the packet must be defined in hex, with the string starting with "0x".&#160; To send the packet containing 4 bytes 01020304, use 0x01020304.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_asyncudpsend 128.100.100.40 2010 0x01020304</i></p>
<p class="WD_bulletbold"><i>SA_getasyncudplastsrcip</i></p>
<p class="WD_Normal3">This command returns the source ip address of the last received packet.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_getasyncudplastsrcip</i></p>
<p class="WD_bulletbold"><i>SA_getasyncudplastsrcport</i></p>
<p class="WD_Normal3">This command returns the source port number of the last received packet.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_getasyncudplastsrcport</i></p>
<p class="WD_bulletbold"><i>SA_asyncudpclose</i></p>
<p class="WD_Normal3">This command closes the previously opened UDP socket.&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_asyncudpclose</i></p>
<p class="WD_bulletbold"><i>SA_snmptcpopen &lt;port num&gt;</i></p>
<p class="WD_Normal3">This command opens up a TCP socket that is bound to the specified port and listens for SNMP packets on it, in addition to the UDP port specified in the device properties.&#160; Currently only SNMP request/responses are being handled on this port.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_snmptcpopen 161</i></p>
<p class="WD_bulletbold"><i>SA_snmptcpclose</i></p>
<p class="WD_Normal3">This command closes the previously opened TCP socket that was used to listen to SNMP requests.&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_snmptcpclose</i></p>
<p class="WD_bulletbold"><i>SA_checkstopflag</i></p>
<p class="WD_Normal3">This command checks if the device has been told to stop by the GUI or via sapcnsl.&#160; This allows a constantly running tcl script to terminate.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>set stopflag [SA_checkstopflag]</i></p>
<p class="WD_bulletbold"><i>SA_changev3authkey username newpassphrase</i></p>
<p class="WD_Normal3">This command updates the authentication key associated with a SNMPv3 user..</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_changev3authkey admin abc</i></p>
<p class="WD_bulletbold"><i>SA_changev3privkey username newpassphrase</i></p>
<p class="WD_Normal3">This command updates the privacy key associated with a SNMPv3 user..</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_changev3privkey admin abc</i></p>
<p class="WD_bulletbold"><i>SA_clonev3user originaluser newuser</i></p>
<p class="WD_Normal3">This command adds a new user to the SNMPv3 user list by cloning the original user properties.&#160; The original user must exist prior to this call.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_clonev3user admin operator</i></p>
<p class="WD_bulletbold"><i>SA_getv3user username</i></p>
<p class="WD_Normal3">This command returns the username and the security level associated with the user as part of a list.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_getv3user operator</i></p>
<p class="WD_bulletbold"><i>SA_modifyv3userinfo originaluser newname seclevel authtype authpass privpass</i></p>
<p class="WD_Normal3">This command modifies an existing user properties.&#160; The original user must exist prior to this call.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_modifyv2userinfo noAuthUser seconduser AuthPriv MD5 authpassword privpassword</i></p>
<p class="WD_bulletbold"><i>SA_asynctcpservopen &lt;callback_procedure_name&gt; &lt;port num&gt;</i></p>
<p class="WD_Normal3">This command opens up a TCP socket on the specified and accepts one connection.&#160; Upon receiving data on the connected socket, it will call be callback procedure specified.&#160; The callback procedure needs to be defined in the init_action section.&#160; It takes one argument which is the received packet.&#160; The received packet is given back as a hex string (0x…..)</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_asynctcpservopen myTcpCallbackProc 2456</i></p>
<p class="WD_bulletbold"><i>SA_asynctcpservsend&#160; buffer_contents_inhex</i></p>
<p class="WD_Normal3">Sends the specified packet over the current connection. A client has to have connected on the server socket for this to work. The contents of the packet must be defined in hex, with the string starting with "0x".&#160; To send the packet containing 4 bytes 01020304, use 0x01020304.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_asynctcpservsend 128.100.100.40 2010 0x01020304</i></p>
<p class="WD_bulletbold"><i>SA_asynctcpservread &lt;nbytes&gt;</i></p>
<p class="WD_Normal3">Does an explicit read to read the specified number of bytes.&#160; They are returned as an octet string.&#160; This can be useful, since the message boundries are not preserved in TCP reads..</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>set nbuf [SA_asynctcpservread 10]</i></p>
<p class="WD_bulletbold"><i>SA_asynctcpservclose</i></p>
<p class="WD_Normal3">This command closes the previously opened TCP server socket.&#160; Please make&#160; sure that this socket is closed in the %stop_action section.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_asynctcpservclose</i></p>
<p class="WD_bulletbold"><i>SA_getasynctcpservlastsrcip</i></p>
<p class="WD_Normal3">This command returns the source ip of the last packet received on this socket.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_getasynctcpservlastsrcip</i></p>
<p class="WD_bulletbold"><i>SA_getasynctcpservlastsrcport</i></p>
<p class="WD_Normal3">This command returns the source port of the last packet received on this socket.</p>
<p class="WD_Normal3"><i>Example:</i> &#160;<i>SA_getasynctcpservlastsrcip</i></p>
<p class="WD_bulletbold"><i>SA_asynctcpclntopen &lt;callback_procedure_name&gt; &lt;server_ip&gt; &lt;server_port&gt;</i></p>
<p class="WD_Normal3">This command opens up a TCP socket and tries to connect to the specified server ip/port.&#160; Upon receiving data on the connected socket, it will call be callback procedure specified.&#160; The callback procedure needs to be defined in the init_action section.&#160; It takes one argument which is the received packet.&#160; The received packet is given back as a hex string (0x…..)</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_asynctcpservopen myTcpCallbackProc 2456</i></p>
<p class="WD_bulletbold"><i>SA_asynctcpclntsend&#160; buffer_contents_inhex</i></p>
<p class="WD_Normal3">Sends the specified packet over the currently established connection. The contents of the packet must be defined in hex, with the string starting with "0x".&#160; To send the packet containing 4 bytes 01020304, use 0x01020304.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_asynctcpclntsend 128.100.100.40 2010 0x01020304</i></p>
<p class="WD_bulletbold"><i>SA_asynctcpclntread &lt;nbytes&gt;</i></p>
<p class="WD_Normal3">Does an explicit read to read the specified number of bytes.&#160; They are returned as an octet string.&#160; This can be useful, since the message boundries are not preserved in TCP reads..</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>set nbuf [SA_asynctcpclntread 10]</i></p>
<p class="WD_bulletbold"><i>SA_asynctcpclntclose</i></p>
<p class="WD_Normal3">This command closes the previously opened TCP server socket.&#160; Please make&#160; sure that this socket is closed in the %stop_action section.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_asynctcpclntclose</i></p>
<p class="WD_bulletbold"><i>SA_getasynctcpclntlastsrcip</i></p>
<p class="WD_Normal3">This command returns the source ip of the last packet received on this socket.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_getasynctcpclntlastsrcip</i></p>
<p class="WD_bulletbold"><i>SA_getasynctcpclntlastsrcport</i></p>
<p class="WD_Normal3">This command returns the source port of the last packet received on this socket.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_getasynctcpclntlastsrcip</i></p>
<p class="WD_bulletbold"><i>SA_addipv6fromipaddr</i></p>
<p class="WD_Normal3">This command adds additional IPv6 addresses for the same device based on the data in the ipAddress table(RFC4293), cipAddress table(Cisco IP MIB), and ipv6AddrTable (RFC2465).&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_addipv6fromipaddr</i></p>
<p class="WD_bulletbold"><i>SA_ignoreipv6swhenadding</i></p>
<p class="WD_Normal3">This command tells SAPro to ignore particular ipv6 addresses when adding addresses from the tables mentioned above.&#160; You can specify a comma separated list of ips.&#160; Addresses can also be partial.&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_ignoreipv6swhenadding “fe80”</i></p>
<p class="WD_bulletbold"><i>SA_setnoretrydelay1/0</i></p>
<p class="WD_Normal3">This command tells SAPro to ignore delays for retries.&#160; If the last request_id is the same as the current one, and the previous one was delayed due to the use of SA_snmpdelay, then if this flag is set, the current response will not get delayed.&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setnoretrydelay 1</i></p>
<p class="WD_bulletbold"><i>SA_setv3twostepdiscoveryflag 1/0</i></p>
<p class="WD_Normal3">This command tells SAPro to use a two step SNMPv3 discovery process in which the simulated agent will return engineid only in the “unknownEngineId” report pdu and then return the bootcount/boottime with a subsequent “notInTimeWindow” report pdu.&#160; By default it uses a one step process where it returns engineid, bootcount, boottime in the first “unknownEngineId” report pdu itself.&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setv3twostepdiscoveryflag 1</i></p>
<p class="WD_bulletbold"><i>SA_getv3twostepdiscoveryflag</i></p>
<p class="WD_Normal3">This command tells SAPro to return the currently used v3discovery flag value.&#160; 0 will mean that it uses a 1step discovery process, while 1 would indicate that it uses a two step discoveyr process.&#160;</p>
<p class="WD_Normal3"><i>Example:</i> &#160;<i>SA_getv3twostepdiscoveryflag</i></p>
<p class="WD_bulletbold"><i>SA_tcpserver_forwarder_open localport forwader_ip forwarder_port</i></p>
<p class="WD_Normal3">This command opens up a TCP socket on the specified port and setups a connection to the forwarder server ip/port.&#160; Upon receiving a connection and data, it will simply forward the received packet to the forwarder server, and return the received response back to the connected client.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_tcpserver_forwarder_open 443 10.1.1.1 443</i></p>
<p class="WD_bulletbold"><i>SA_tcpserver_forwarder_close localport</i></p>
<p class="WD_Normal3">This command closes the TCP socket and thread that is processing requests on the port to be forwarded by a previous call to SA_tcpserver_forwarder_open.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_tcpserver_forwarder_close 443</i></p>
<p class="WD_bulletbold"><i>SA_enablemodfile</i></p>
<p class="WD_Normal3">This command enables the evaluation of the contents of the modeling file associated with the device.&#160; By default it is enabled.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_enablemodfile</i></p>
<p class="WD_bulletbold"><i>SA_disablemodfile</i></p>
<p class="WD_Normal3">This command disables the evaluation of the contents of the modeling file associated with the device.&#160; By default it is enabled.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_disablemodfile</i></p>
<p class="WD_bulletbold"><i>SA_udp_fwd_open localport forwader_ip forwarder_port</i></p>
<p class="WD_Normal3">This command opens up a UDP socket on the specified port and listens for incoming packets.&#160; Upon receiving a packet, it simply forwards the received packet to the forwarder server, and return the received response back to the original requestor.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_udp_fwd_open 161 10.1.1.1 161</i></p>
<p class="WD_bulletbold"><i>SA_udp_fwd_close</i></p>
<p class="WD_Normal3">This command closes the UDP socket that is processing requests on the port to be forwarded by a previous call to SA_udp_fwd_open.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_udp_fwd_close</i></p>
<p class="WD_bulletbold"><i>SA_setflagactionid &lt;id&gt;</i></p>
<p class="WD_Normal3">This command causes a message to be sent to the device to set the flag action id to the specified value and evaluate %flag_action if present in the modeling file.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setflagactionid 5</i></p>
<p class="WD_bulletbold"><i>SA_getflagactionid &lt;id&gt;</i></p>
<p class="WD_Normal3">This command retrieves the value of the flag action id set to allow different actions for different ids if need in the %flag_action section.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>set flagid [SA_getflagactionid]</i></p>
<p class="WD_bulletbold"><i>SA_setmaxallowedconn &lt;num&gt;</i></p>
<p class="WD_Normal3">This command allows you to set the max allowed connections by the telnet simulator for this device to a number between 1 and the current maximum.&#160; The current maximum is determined by the value of MAXTELNETSESSIONS in the confi.inp file, and if not specified, it is set to 5.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; SA_setmaxallowedconn 2</p>
<p class="WD_bulletbold"><i>SA_netconf_callhome_proxy_open localport home_ip home_port</i></p>
<p class="WD_Normal3">This command opens up two tcp connections, one to the local port, and another to the home manager ip/port.&#160; Then any packets received on one side are forwarded to the other, including ssh setup packets.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; SA_netconf_callhome_proxy_open 830 10.5.1.1 83001</p>
<p class="WD_bulletbold"><i>SA_netconf_callhome_proxy_close</i></p>
<p class="WD_Normal3">This command closes the netconf tcp proxy created earlier using the SA_netconf_callhome_proxy_open tcl command.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; SA_netconf_callhome_proxy_clsoe</p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="PDU_Processing_Commandsbc-148"></a><a name="PDU_Processing_Commands" id="PDU_Processing_Commands">PDU Processing Commands</a></p>
<p class="WD_bulletbold"><i>SA_getreqvars</i></p>
<p class="WD_Normal3">Get a list of variable bindings in the currently processed PDU. The results are returned as a list of triplets made up of object identifier, type and value for each of the variable bindings present in the currently processed PDU.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_getreqvars</i></p>
<p class="WD_bulletbold"><i>SA_getreqvarindex</i></p>
<p class="WD_Normal3">Returns the index (starting from 1) of the currently processed variable binding.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_getreqvarindex</i></p>
<p class="WD_bulletbold"><i>SA_getreqvb</i></p>
<p class="WD_Normal3">Get the currently processed variable binding information. The results are returned as a triplet made up of object identifier, type and value for the currently processed varbind.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getreqvb</i></p>
<p class="WD_bulletbold"><i>SA_getcuroid</i></p>
<p class="WD_Normal3">Gets the current object identifier for the varbind being processed.&#160; In the case of getnext pdu processing, this oid will be different then the one reported by SA_getreqvb since the agent would have already advanced it to the lexicographically next oid.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getcuroid</i></p>
<p class="WD_bulletbold"><i>SA_getreqpdutype</i></p>
<p class="WD_Normal3">Returns the request pdu type (No_PDU, Get, GetNext, Set, GetBulk).</p>
<p class="WD_Normal3"><i>Example:</i>&#160;&#160; <i>SA_getreqpdutype</i></p>
<p class="WD_bulletbold"><i>SA_getreqid</i></p>
<p class="WD_Normal3">Returns the request id in the request pdu.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getreqid</i></p>
<p class="WD_bulletbold"><i>SA_getreqcommunity</i></p>
<p class="WD_Normal3">This returns the SNMP community string in the&#160; request PDU that is being currently processed.</p>
<p class="WD_Normal3"><i>Example: SA_getreqcommunity</i></p>
<p class="WD_bulletbold"><i>SA_getreqsnmpversion</i></p>
<p class="WD_Normal3">This returns the SNMP version of the request PDU that is being currently processed.&#160;&#160; Values returned are SNMPv1, SNMPv2C or Unknown.</p>
<p class="WD_Normal3"><i>Example: SA_getreqsnmpversion</i></p>
<p class="WD_bulletbold"><i>SA_getreqmgrinfo</i></p>
<p class="WD_Normal3">This returns the manager IP address and the port of the requester making the current SNMP request.&#160; Values are returned in a list with the first value being the manager IP address and the second value the UDP port number. <i>&#160;Example: SA_getreqmgrinfo</i></p>
<p class="WD_bulletbold"><i>SA_setrespvblist { {varOid1 varType1 varVal1} {..}}</i></p>
<p class="WD_Normal3">This causes a response to be sent out with the specified variable binding list with an error status and index of zero.&#160; The current request processing is terminated after this call.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setrespvblist {{sysContact.0 OctetString newvalue}}</i></p>
<p class="WD_bulletbold"><i>SA_seterrorstatus&#160; snmp_error_status</i></p>
<p class="WD_Normal3">This causes the response PDU to be generated with the specified SNMP error status for the currently processed variable binding.&#160;&#160; Setting the error status to a special value of 9999 causes the PDU to be discarded and no response sent.</p>
<p class="WD_Normal3"><i>&#160;Example: SA_seterrorstatus 1</i></p>
<p class="WD_bulletbold"><i>SA_setcurstat</i> &lt;<i>newvalue</i>&gt;</p>
<p class="WD_Normal3">Sets the current status to the specified new value. A value of 1 indicates that the operation is OK, and a value of 0 indicates that the operation is not OK. This is used during set validation.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setcurstat 0</i></p>
<p class="WD_bulletbold"><i>SA_setcurvalue</i> &lt;<i>newvalue</i>&gt;</p>
<p class="WD_Normal3">Sets the current value to the specified value. This can be used to override the value returned during get/getnext operations.&#160;&#160; Setting it to special strings like <i>SA_NOSUCHOBJECT, SA_NOSUCHINSTANCE, SA_ENDOFMIBVIEW</i>, causes these error values to be returned for SNMPv2 packets.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setcurvalue&#160; pppp</i></p>
<p class="WD_bulletbold">&#160;<i>SA_setafterresponseid&#160; &lt;id&gt;</i></p>
<p class="WD_Normal3">Sets the value of the response_id_flag so that the SAPro can then interpret the %after_snmp_response related tcl scripts. The SAPro automatically resets it after this tcl script is interpreted, so that it is ready for processing the next SNMP request.</p>
<p class="WD_bulletbold"><i>SA_getafterresponseid</i></p>
<p class="WD_Normal3">Gets the value of the response_id_flag.&#160; A tcl script can then carry out different actions based on the value of this flag.</p>
<p class="WD_bulletbold"><i>SA_setcurtype</i></p>
<p class="WD_Normal3">This command allows you to override the datatype of the varbind in the response which would normally be the one specified for this instance in the variable file.&#160; So even if sysContat.0 is said to be an OctetString in the variable file, for a certain test case, if you want the agent to return an invalid datatype, you can do this by setting the type to say, Integer.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setcurtype Integer</i></p>
<p class="WD_bulletbold"><i>SA_setcuroid</i></p>
<p class="WD_Normal3">This command allows you to override the object identifier of the varbind in the response which would normally be the one specified for this instance in the variable file.&#160; So even if someone has done a SNMP GET on sysContat.0, rather than returning 1.3.6.1.2.1.1.4.0,&#160; for a certain test case, if you want the agent to return an invalid object identifier, you can do this by setting the current oid to 1.3.6.1.2.999.999.999.999.0&#160; Using this command in the check_set_action can also allow you to change the oid in the set response.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setcuroid&#160; 1.3.6.1.2.99.99.99.0</i></p>
<p class="WD_bulletbold"><i>SA_setskipcurvbflag</i></p>
<p class="WD_Normal3">This command allows you to override the default behavior of the simulated agent which is to include values for all the varbinds present in the request. If for some specific test case, you wanted the agent to only send back values for 4 varbinds, even though 5 varbinds were asked for, you can do this by using this command in the getvalue_action section.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setskipcurvbflag 1</i></p>
<p class="WD_bulletbold"><i>SA_setrequestid</i></p>
<p class="WD_Normal3">This command allows you to override the default behavior of the simulated agent which is to echo the request id of the incoming request.&#160; If for some specific test case, you wanted the agent to send back incorrect requestids, , you can do this by using this command.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setrequestid 5555</i></p>
<p class="WD_bulletbold"><i>SA_getthresholdinfo</i></p>
<p class="WD_Normal3">This command returns processing time information if the THRESH_RESPTIME setting is enabled in the config.inp file.&#160; It provides information per device about the min/max/average response times and queue lengths.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; SA_puts “Performance Data = [SA_getthresholdinfo]”</p>
<p class="WD_bulletbold"><i>SA_get_snmpinpkts</i></p>
<p class="WD_Normal3">This command returns the number of SNMP inpkts received by the simulated device.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; SA_get_snmpinpkts</p>
<p class="WD_bulletbold"><i>SA_set overflag &lt;0/1&gt;</i></p>
<p class="WD_Normal3">This command sets the OER encoding flag.&#160; By default, SNMP uses the BER encoding rules.&#160; Sometimes, in the NTCIP world, OER encoding is used.&#160;&#160; To enable encoding/decoding of PDU’s using OER instead of BER, you can set this flag in the %init_action section when simulating SNMP agents.&#160; By default this flag is set to 0.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; SA_setoerflag 1</p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><b><i>&#160;</i></b></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="TCL_SNMP_Debuggingbc-149"></a><a name="TCL_SNMP_Debugging" id="TCL_SNMP_Debugging">TCL/SNMP Debugging Commands</a></p>
<p class="WD_bulletbold"><i>SA_puts</i>&#160; &lt;<i>string</i>&gt;</p>
<p class="WD_Normal3">Outputs the string to the TCL debug file is the file is currently specified and the TCL debug flag is enabled.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_puts “got here in the TCL script”</i></p>
<p class="WD_bulletbold"><i>SA_setdebugmask &lt;maskvalue&gt;</i></p>
<p class="WD_Normal3">Sets the debug mask level.&#160; Used in conjunction with SA_debugputs.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_setdebugmask 0x03</i></p>
<p class="WD_bulletbold"><i>SA_debugputs</i> &#160;&lt;mask_bit&gt; &lt;<i>string</i>&gt;</p>
<p class="WD_Normal3">If the mask_bit when logically “and”ed with the debug mask is non zero, the string specified is put into the tcldbebugfile if present.&#160; This allows you to optionally turn on/off debug tracing information in your code.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_debugputs 0x01 “got here in the TCL script”</i></p>
<p class="WD_bulletbold"><i>SA_settcldebugflag</i> &lt;[0/1/2]&gt;</p>
<p class="WD_Normal3">Sets the TCL-related debugging on or off. TCL debug information is only written to the file when both the <i>tcldebugflag</i> is enabled and TCL debug file is set.&#160; When the flag is set to 2, only the output of the SA_puts and SA_debugputs are written to the file and all the internally generated trace messages are dropped.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_settcldebugflag 1</i></p>
<p class="WD_bulletbold"><i>SA_settcldebugfile</i> &lt;<i>filename</i>&gt;</p>
<p class="WD_Normal3">Sets the TCL-related debugging information to be written to the specified file. TCL debug information is only written to the file when both the <i>tcldebugflag</i> is enabled and the TCL debug file is set.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_settcldebugfile abcd.dbg</i></p>
<p class="WD_bulletbold"><i>SA_closetcldebugfile</i></p>
<p class="WD_Normal3">Closes Tcl debug fileif open.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_closetcldebugfile</i></p>
<p class="WD_bulletbold"><i>SA_setsnmpdebugflag</i> &lt;[0/1/2/3]&gt;</p>
<p class="WD_Normal3">sets the SNMP related debugging on or off.&#160; SNMP debug&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; information is only written to the file when both the&#160; snmpdebugflag is enabled and the SNMP debug file is set.&#160;&#160; SNMP debug information includes a PDU dump of the requests&#160; received and the responses generated.&#160; When the value is set to 0, debugging is turned off.&#160; When the value is set to 1, SNMP packets are dumped.&#160; When the value is set to 2, error messages while&#160; processing SNMP PDUs are dumped along with SNMP packets, and when the value is set to 3, only PDUs with error status set are dumped.&#160; When the value is set to 9, only timestamp info is dumped.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setsnmpdebugflag 1</i></p>
<p class="WD_bulletbold">SA_setsnmpdebugfile &lt;<i>filename</i>&gt;</p>
<p class="WD_Normal3">Sets the SNMP-related information to be written to the specified file. SNMP debug information is only written to the file when both the <i>snmpdebugflag</i> is enabled and SNMP debug file is set. SNMP debug information includes a PDU dump of the requests received and responses generated.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setsnmpdebugfile abcd.snm</i></p>
<p class="WD_bulletbold">SA_closesnmpdebugfile</p>
<p class="WD_Normal3">Closes the SNMP debug file if open.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_closesnmpdebugfile</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_setpackettraceflag &lt;[0/1]&gt;</p>
<p class="WD_Normal3">Sets the SNMP-related raw packet tracing on or off.&#160; By default it is off.&#160; When turned on, the sent and received packets are dumped out in a hex format.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_setpackettraceflag 1</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold"><i>SA_maplogputs</i>&#160; &lt;<i>string</i>&gt;</p>
<p class="WD_Normal3">Outputs the string to the map log file associated with this device.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_maplogputs “got here in the TCL script”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Diffie_Hellman_Commandsbc-150"></a><a name="Diffie_Hellman_Commands" id="Diffie_Hellman_Commands">Diffie-Hellman Commands</a></p>
<p class="WD_bulletbold"><i>SA_dhenablekickstart</i></p>
<p class="WD_Normal3">If this command is present in the %init_action section of the modeling file, the variable file associated with the device is scanned for entries in the dhKickStart table.&#160; For every entry in the dhKickStart table, a user is added to the list of users supported by the agent, and a new public key is computed and associated with the user.&#160; The manager can then get the keys from the table and use them to derive auth/priv keys and start communicating with the agent.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_dhenablekickstart</i></p>
<p class="WD_bulletbold"><i>SA_dhdisablekickstart</i></p>
<p class="WD_Normal3">Disables the addition of users from the dhKickStart Table to the list of users allowed to communicate with the agent.&#160; Essentially ignores any understanding of the dhKickStart table rows in the var file.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_dhdisablekickstart</i></p>
<p class="WD_bulletbold"><i>SA_dhgetnewpublickey</i></p>
<p class="WD_Normal3">This command is useful for supporting Diffie-Hellman key change.&#160; An example in the Frequently Asked Section details the use of this command to generate new public keys.&#160; This command returns a new public key.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>set newvalue [SA_dhgetnewpublickey]</i></p>
<p class="WD_bulletbold"><i>SA_dhsetuserauthkey</i></p>
<p class="WD_Normal3">Sets the SNMPv3 auth keys used by the user based on the new values set for usmDHUserAuthKeyChange and usmDHUserOwnAuthKeyChange. An example in the Frequently Asked Section details the use of this command.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_dhsetuserauthkey oid newvalue</i></p>
<p class="WD_bulletbold"><i>SA_dhsetuserprivkey</i></p>
<p class="WD_Normal3">Sets the SNMPv3 priv keys used by the user based on the new values set for the usmDHUserPrivKeyChange and usmDHUserOwnPrivhKeyChange. An example in the Frequently Asked Section details the use of this command.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_dhsetuserprivkey oid newvalue</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="DHCP_Commandsbc-151"></a><a name="DHCP_Commands" id="DHCP_Commands">DHCP Commands</a></p>
<p class="WD_bulletbold"><i>SA_dhcp_getservername</i></p>
<p class="WD_Normal3">This command returns the server name from the DHCPv4 offer that was got when a DHCP simulated device got initialized.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; set sname [<i>SA_dhcp_getservername]</i></p>
<p class="WD_bulletbold"><i>SA_dhcp_getfilename</i></p>
<p class="WD_Normal3">This command returns the boot file name from the DHCPv4 offer that was got when a DHCP simulated device got initialized.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; set fname [<i>SA_dhcp_getfilename]</i></p>
<p class="WD_bulletbold"><i>SA_dhcp_getoptions</i></p>
<p class="WD_Normal3">This command returns the options part from the DHCP message that was got when a DHCP simulated device got initialized.&#160; This is used for both DHCPv4 and DHCPv6. The options are returned as a hex string.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; set sname [<i>SA_dhcp_getoptions]</i></p>
<p class="WD_bulletbold"><i>SA_dhcp_getparsedoptions</i></p>
<p class="WD_Normal3">This command parses the options list and returns a tcl list made up of option number, length, and value. This is used for both DHCPv4 and DHCPv6.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; set olist [<i>SA_dhcp_getparsedoptions]</i></p>
<p class="WD_bulletbold"><i>SA_dhcp_parseoptions</i></p>
<p class="WD_Normal3">Given an options string (hex), this command parses the string and returns a Tcl list made up of option number, length, and value. This can be used in conjunction with SA_dhcp_getipaddr command, or SA_dhcpv6_getipaddr, to parse the options list returned. This is used for both DHCPv4 and DHCPv6.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; set olist [<i>SA_dhcp_parseoptions $hexoptionstr]</i></p>
<p class="WD_bulletbold"><i>SA_dhcp_gettftpserver</i></p>
<p class="WD_Normal3">This command returns the TFTP server specified in the options returned. This is used for both DHCPv4 and DHCPv6.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; set sname [<i>SA_dhcp_gettftpserver]</i></p>
<p class="WD_bulletbold"><i>SA_dhcp_gettodserver</i></p>
<p class="WD_Normal3">This command returns the TOD server specified in the options returned. This is used for both DHCPv4 and DHCPv6.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; set sname [<i>SA_dhcp_gettodserver]</i></p>
<p class="WD_bulletbold"><i>SA_dhcp_getstarttime</i></p>
<p class="WD_Normal3">This command returns the number of milliseconds it took to get a DHCP address. This is used for both DHCPv4 and DHCPv6.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; set stime [<i>SA_dhcp_getstarttime]</i></p>
<p class="WD_bulletbold"><i>SA_start_dhcprelay</i></p>
<p class="WD_Normal3">This command starts a DHCPv4 relay service on the specified IP address, and port and packets received on the port are broadcast on the local subnet.&#160; This command is only available with the CABLE MODULE option.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_start_dhcprelay 192.168.100.10&#160; 68 192.168.10.1</i></p>
<p class="WD_bulletbold"><i>SA_stop_dhcprelay</i></p>
<p class="WD_Normal3">This command stops the DHCPv4 relay service.&#160; This command is only available with the CABLE MODULE option.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_stop_dhcprelay</i></p>
<p class="WD_bulletbold"><i>SA_dhcp_getipaddr [mac_addr] &lt;gateway_addr&gt; &lt;additional_options&gt;</i></p>
<p class="WD_Normal3">This command sends a DHCPv4 request to get a new IP address in the modeling file.&#160; The macaddress is mandatory.&#160; Gateway address and additional options string are optional.&#160; The additional options string can be specified using hex strings.&#160;&#160; This command returns {newip xid serverip servername filename rebindingtime optionsstr } as a list. This command is only available with the CABLE MODULE option.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_dhcp_getipaddr 0x040d00010203</i></p>
<p class="WD_bulletbold"><i>SA_dhcp_getmydhcpinfo</i></p>
<p class="WD_Normal3">This command returns the macaddress, ipaddress, xid and server ip as four members of a list. This command is only available with the CABLE MODULE option.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_dhcp_getmydhcpinfo</i></p>
<p class="WD_bulletbold"><i>SA_dhcp_releaseipaddr mac_addr newip xid serverip</i></p>
<p class="WD_Normal3">This command releases the DHCPv4 address retrieved in a prior SA_dhcp_getipaddr call. This command is only available with the CABLE MODULE option.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_dhcp_releaseipaddr 0x040d00010203 192.168.100.2 1234 192.168.10.1</i></p>
<p class="WD_bulletbold"><i>SA_dhcp_rebindipaddr mac_addr newip xid serverip</i></p>
<p class="WD_Normal3">This command rebinds the DHCPv4 address retrieved in a prior SA_dhcp_getipaddr call. This command is only available with the CABLE MODULE option.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_dhcp_rebindipaddr 0x040d00010203 192.168.100.2 1234 192.168.10.1</i></p>
<p class="WD_bulletbold"><i>SA_dhcpv6_getipaddr mac_addr rapid_commit retries timeout debug_level receive_port send_port</i></p>
<p class="WD_Normal3">This command sends a DHCPv6 request to get a new IPv6 address in the modeling file. The MAC address is mandatory. The remaining parameters are optional. The command returns the new IPv6 address and a DHCP I.D. The DHCP I.D. is used in subsequent related DHCPv6 procedure calls. If <i>rapid_commit</i> is set to 1, then the two message exchange method is used to get an address. The default is 0, or no rapid commit is used. The number specified for <i>retries</i> determines how many attempts to get an address is made. The default is 3. The value for <i>timeout</i> is specified in number of seconds. The default is 3 seconds. There are three <i>debug_level</i>s supported: 0 is not trace, 1 is textual trace, and 2 provides a textual trace as well as a hex string dump of the message exchange. The default is 0, or no debug messages. The default <i>receive_port</i>, or client port, is 546. The default <i>send_port</i>, or server port, is 547. If this command is not successful, it returns an error message and throws an exception. This command is only available with the CABLE MODULE option and in the versions of SimpleAgentPro that supports IPv6.</p>
<p class="WD_Normal3"><i>Example:</i></p>
<p class="WD_Normal3"><i>If [catch {SA_dhcpv6_getipaddr 0x040d00010203 1 3 3 2} result] {</i></p>
<p class="WD_Normal3"><i>&#160;&#160;&#160; error processing…</i></p>
<p class="WD_Normal3"><i>} else {</i></p>
<p class="WD_Normal3"><i>&#160; &#160;&#160;set IPv6Addr [lindex $result 0]</i></p>
<p class="WD_Normal3"><i>&#160;&#160;&#160; set dhcpid [lindex $result 1]</i></p>
<p class="WD_Normal3"><i>}</i></p>
<p class="WD_bulletbold"><i>SA_dhcpv6_renewipaddr dhcpid</i></p>
<p class="WD_Normal3">This command sends a DHCPv6 request to renew an IPv6 address assigned by the SA_dhcpv6_getipaddr procedure. The DHCP I.D., which was returned on the getipaddr call is mandatory. This command returns a message indicating whether the renew was successful or not. Also, if it was not successful, it also throws an exception. This command is only available with the CABLE MODULE option.</p>
<p class="WD_Normal3"><i>Example:</i></p>
<p class="WD_Normal3"><i>catch {SA_dhcpv6_renewipaddr $dhcpid} status msg</i></p>
<p class="WD_bulletbold"><i>SA_dhcpv6_releaseipaddr dhcpid</i></p>
<p class="WD_Normal3">This command sends a DHCPv6 request to release IP address assigned by the SA_dhcpv6_getipaddr procedure. The DHCP I.D., which was returned on the getipaddr call is mandatory. This command returns a message indicating whether the renew was successful or not. Also, if it was not successful then this command also throws an exception. This command is only available with the CABLE MODULE option and in the versions of SimpleAgentPro that supports IPv6.</p>
<p class="WD_Normal3"><i>Example:</i></p>
<p class="WD_Normal3"><i>catch {SA_dhcpv6_releaseipaddr $dhcpid} status msg</i></p>
<p class="WD_bulletbold"><i>SA_dhcpv6_requestinfo {std1 std2 … stdN} {enterpriseid {vndr1 vndr2 … vndrN}} mac_addr</i></p>
<p class="WD_Normal3">This command sends a DHCPv6 request for information. The first parameter is a list of standard option numbers. The second parameter is a list containing the vendor enterprise I.D. and a list of vendor specific option numbers. The last parameter is the MAC address to use in the request. All of the parameters are mandatory. If there are no standard or vendor specific options to request, then specify an empty list. The command returns two lists. The first is a list of standard options returned by the server. Each option is a list containing the option number, length, and value. The second list is a list of vendor options with each option given as a list of option number, length, and value. If this command was not successful, then it returns an error message and throws an exception. This command is only available with the CABLE MODULE option and in the versions of SimpleAgentPro that supports IPv6.</p>
<p class="WD_Normal3"><i>Example:</i></p>
<p class="WD_Normal3"><i>catch {SA_dhcpv6_requestinfo {24 25}(4491 { 32 33}} 0x040d00010203} results</i></p>
<p class="WD_bulletbold"><i>SA_dhcpv6_getmanyipaddr number delay mac_address option_string rapid_commit retries timeout debug_level receive_port send_port</i></p>
<p class="WD_Normal3">This command sends multiple DHCPv6 requests in parallel to get list of new IP addresses in the modeling file. The <i>number</i> of addresses, <i>delay in milliseconds</i>, starting <i>mac_address</i> are mandatory. The remaining parameters are optional. The command returns a list of new IPv6 address and corresponding DHCP ID’s which are used in subsequent related DHCPv6 procedure calls. If <i>rapid_commit</i> is set to 1, then the two message exchanged method is used. The default is 0, or no rapid commit. The number specified for <i>retries</i> determines how many attempts to get an address is made. The default is 3. The value for <i>timeout</i> is specified in number of seconds. The default is 3 seconds. There are three <i>debug_level</i>s supported: 0 is not trace, 1 is textual trace, and 2 provides a textual trace as well as a hex string dump of the message exchange. The default is 0, or no debug messages. The default <i>receive_port</i>, or client port, is 546. The default <i>send_port</i>, or server port, is 547. If this command is not successful, it returns an error message and throws an exception. This command is only available with the CABLE MODULE option and in the versions of SimpleAgentPro that supports IPv6.</p>
<p class="WD_Normal3"><i>Example:</i></p>
<p class="WD_Normal3"><i>set result</i> [<i>SA_dhcpv6_gemanytipaddr20 100 0x040d00010203]</i></p>
<p class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Stopwatch_Relatedbc-152"></a><a name="Stopwatch_Related" id="Stopwatch_Related">Stopwatch Related Commands</a></p>
<p class="WD_bulletbold"><i>SA_startwatch [watch_id]</i></p>
<p class="WD_Normal3">This command starts the stopwatch associated with the id specified.&#160; SimpleAgentPro supports 3 stopwatches.&#160; If this command is not called, the stopwatch start time is initialized to the time the agent was started.</p>
<p class="WD_Normal3"><i>Example: SA_startwatch 1</i></p>
<p class="WD_bulletbold"><i>SA_stopwatch [watch_id]</i></p>
<p class="WD_Normal3">This command stops the stopwatch associated with the id specified.&#160; SimpleAgentPro supports 3 stopwatches.&#160; .</p>
<p class="WD_Normal3"><i>Example: SA_stopwatch 1</i></p>
<p class="WD_bulletbold"><i>SA_getwatch [watch_id]</i></p>
<p class="WD_Normal3">returns the number of milliseconds between the start and stop watch commands.&#160; If there is no start watch command issued, the time when the agent was started is used.&#160; If there is no stopwatch command issued, the current time is used.</p>
<p class="WD_Normal3"><i>Example: SA_getwatch 1</i></p>
<b><span style=" font-size:14.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif'; letter-spacing:-.5pt;"><font size="4" style="font-size:14pt;"><br clear="all" /></font></span></b>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="FTP_Server_Commandsbc-153"></a><a name="FTP_Server_Commands" id="FTP_Server_Commands">FTP Server Commands</a></p>
<p class="WD_bulletbold"><i>SA_startftpdaemon</i>&#160; &lt;<i>root_directory</i>&gt;</p>
<p class="WD_Normal3">Enables a FTP server to service requests for the simulated device.&#160; Optional argument allows you to specify the root directory.&#160; This command is only available on Solaris.&#160;&#160; Contact SimpleSoft for additional details on the FTP module support.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_startftpdaemon /tmp/dev1</i></p>
<p class="WD_bulletbold"><i>SA_setftpusers&#160; &lt;space separated user list in double quotes&gt;</i></p>
<p style=" text-indent:0in;" class="WD_bulletbold"><span style=" font-weight:normal;">Specifies the users to be allowed ftp access for this simulated device. These users should be present in the /etc/passwd file. This command is only available on Solaris. Please contact SimpleSoft for additional details on the FTP module support.</span></p>
<p style=" text-indent:0in;" class="WD_bulletbold"><i><span style=" font-weight:normal;">Example:SA_setftpusers “user1 user2 user3”</span></i></p>
<p class="WD_bulletbold"><i>SA_stopftpdaemon</i></p>
<p class="WD_Normal3">Disables support for FTP for the simulated device.&#160;&#160; This command is only available on Solaris.&#160; Contact SimpleSoft for additional details on the FTP module support.</p>
<p class="WD_Normal3"><i>Example: SA_stopftpdaemon</i></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 3.0pt 0in; margin-left:0in; margin-right:.2in;">
<p style="
margin-right:0in;
border:none;
padding:0in;
border-width:4px;" class="WD_note"><span style="padding: 0in; ">The FTP Server Tcl commands are retained for backwards compatibility with earlier versions.&#160; During the device definition, if you enable FTP capability and specify the root directory and user list, then you do not need to specifiy the “SA_startftpdaemon” and “SA_setftpusers” commands in the device modeling file.&#160; These commands will be automatically carried out for you.</span></p>
</div>
<b><span style=" font-size:24.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="6" style="font-size:24pt;"><br clear="all" /></font></span></b>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="FTP_Client_Commandsbc-154"></a><a name="FTP_Client_Commands" id="FTP_Client_Commands">FTP Client Commands</a></p>
<p class="WD_bulletbold"><i>SA_FTP_Open &lt;-h ftp_server_hostname</i>&gt; <i>&lt;-user user_name&gt; &lt;-passwd password&gt;</i></p>
<p style=" margin-left:85.5pt; text-indent:0in;" class="WD_bulletbold"><i>&lt;?-size blocksize?&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (default = 4096)</i></p>
<p style=" margin-left:85.5pt; text-indent:0in;" class="WD_bulletbold"><i>&lt;?-timeout timeout(in seconds)?&gt; (default = 120)</i></p>
<p style=" margin-left:85.5pt; text-indent:0in;" class="WD_bulletbold"><i>&lt;?-mode mode_active_or_passive?&gt; (default = active)</i></p>
<p style=" margin-left:85.5pt; text-indent:0in;" class="WD_bulletbold"><i>&lt;?-port PortNumber?&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (default = 21)</i></p>
<p class="WD_Normal3">opens a connection to the specified FTP server.&#160; If the optional arguments are not specified, the default values are used.&#160; Only one server connection can be open at a time.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_FTP_Open -h 192.168.100.40 –user john –passwd doe</i></p>
<p class="WD_bulletbold"><i>SA_FTP_Put &lt;-local local_file_name&gt; &lt;?-remote remote_file_name?&gt;</i></p>
<p class="WD_Normal3">puts the specified local file in the current working directory on the server.&#160; If the remote file name is not specified, the name of the local file is used..</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_FTP_Put –local myFile</i></p>
<p class="WD_bulletbold"><i>SA_FTP_Get &lt;-remote remote_file_name&gt; &lt;?-local local_file_name?&gt;</i></p>
<p class="WD_Normal3">gets the specified remote file in the current working directory on the server.&#160; If the remote file name is not specified, the name of the local file is used..</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_FTP_Get -remote myFile</i></p>
<p class="WD_bulletbold"><i>SA_FTP_Close</i></p>
<p class="WD_Normal3">closes the currently open ftp connection.&#160; Only one server connection can be open at a time.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_FTP_Close</i></p>
<p class="WD_bulletbold"><i>SA_FTP_Cd</i> &lt;?-dir directory_path?&gt;</p>
<p class="WD_Normal3">changes the current working directory on the server</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_FTP_Cd</i></p>
<p class="WD_bulletbold"><i>SA_FTP_Pwd</i></p>
<p class="WD_Normal3">prints the current working directory on the server.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_FTP_Pwd</i></p>
<p class="WD_bulletbold"><i>SA_FTP_Type&lt;?-type ascii_or_binary?&gt;</i></p>
<p class="WD_Normal3">Sets the file transfer type to either ascii or binary.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_FTP_Type –type ascii</i></p>
<p class="WD_bulletbold">SA_FTP_List &lt;?-dir directory?&gt;</p>
<p class="WD_Normal3">causes a list to be sent from the server to user site.&#160; A null argument implies the current directory listing.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_FTP_List</i></p>
<p class="WD_bulletbold">SA_FTP_Delete &lt;-file file&gt;</p>
<p class="WD_Normal3">causes the file to be deleted on the server..</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_FTP_Delete –file abc.tcl</i></p>
<p class="WD_bulletbold">SA_FTP_Rename &lt;-from from&gt; &lt;-to to&gt;</p>
<p class="WD_Normal3">causes the file specified in from argument to be renamed at the server site.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_FTP_Rename –from abc.tcl –to pqr.tc</i></p>
<p class="WD_bulletbold">SA_FTP_MkDir &lt;-dir directory name&gt;</p>
<p class="WD_Normal3">causes the specified directory to be created on the server site.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_FTP_MkDir –dir newdir</i></p>
<p class="WD_bulletbold">SA_FTP_RmDir &lt;-dir directory name&gt;</p>
<p class="WD_Normal3">causes the specified directory to be removed from the server site.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_FTP_RmDir –dir olddir</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="TFTP_Server_Commandsbc-155"></a><a name="TFTP_Server_Commands" id="TFTP_Server_Commands">TFTP Server Commands</a></p>
<p class="WD_bulletbold"><i>SA_start_tftp</i>&#160; &lt;<i>root_directory</i>&gt;&#160; &lt;tftp_port&gt;</p>
<p class="WD_Normal3">Enables a TFTP server to service requests for the simulated device.&#160; Optional argument allows you to specify the root directory and port if other than standard (69). Contact SimpleSoft for additional details on the TFTP module support.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_start_tftp /tmp/dev1</i></p>
<p class="WD_bulletbold"><i>SA_stop_tftp</i></p>
<p class="WD_Normal3">Disables support for TFTP for the simulated device.&#160; Contact SimpleSoft for additional details on the FTP module support.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; <i>SA_stop_tftp</i>.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The TFTP Server Tcl commands are retained for backwards compatibility with earlier versions.&#160; During the device definition, if you enable TFTP capability and specify the root directory, then you do not need to specifiy the “SA_start_tftp”command in the %init_action section of the device modeling file.&#160; These commands will be automatically carried out for you.</p>
</div>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="TFTP_Client_Commandsbc-156"></a><a name="TFTP_Client_Commands" id="TFTP_Client_Commands">TFTP Client Commands</a></p>
<p class="WD_bulletbold"><i>SA_tftpget &lt;-h tftp_server_hostname</i>&gt; <i>&lt;-remote remote_file_name &gt;</i></p>
<p style=" margin-left:.75in; text-indent:0in;" class="WD_bulletbold"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;?-local local_file_name?&gt;&#160; (default = remote_file_name)</i></p>
<p style=" margin-left:.75in; text-indent:0in;" class="WD_bulletbold"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;?-mode (netascii/octet)?&gt;&#160; (default = netascii)</i></p>
<p class="WD_bulletbold"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;?-retransmit retransmissionTime?&gt;&#160; (default = 5)</i></p>
<p class="WD_bulletbold"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;?-timeout timeout(Sec.)?&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (default = 25 secs)</i></p>
<p class="WD_bulletbold"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;?-userscript?&gt; &lt;tcl script&gt;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;(default = none)</i></p>
<p class="WD_bulletbold"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;?-userblknum?&gt; &lt;blocknum&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (default = 1)</i></p>
<p class="WD_Normal3">gets a file from the specified TFTP server.&#160; If the optional arguments are not specified, the default values are used.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_tftpget&#160; -h 192.168.100.40 –remote abc.tcl</i></p>
<p class="WD_bulletbold"><i>SA_tftpput &lt;-h tftp_server_hostname</i>&gt; <i>&lt;-local local_file_name &gt;</i></p>
<p style=" margin-left:.75in; text-indent:0in;" class="WD_bulletbold"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;?-remote remote_file_name?&gt;&#160; (default = local_file_name)</i></p>
<p style=" margin-left:.75in; text-indent:0in;" class="WD_bulletbold"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;?-mode (netascii/octet)?&gt;&#160; (default = netascii)</i></p>
<p class="WD_bulletbold"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;?-retransmit retransmissionTime?&gt;&#160; (default = 5)</i></p>
<p class="WD_bulletbold"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;?-timeout timeout(Sec.)?&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (default = 25 secs)</i></p>
<p class="WD_bulletbold"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;?-userscript?&gt; &lt;tcl script&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (default = none)</i></p>
<p class="WD_bulletbold"><i>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;?-userblknum?&gt; &lt;blocknum&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (default = 1)</i></p>
<p class="WD_Normal3">puts a file on the specified TFTP server.&#160; If the optional arguments are not specified, the default values are used.</p>
<p class="WD_Normal3"><i>Example: SA_tftpput&#160; -h 192.168.100.40 –local abc.tcl</i></p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The TFTP Client Tcl commands can support both IPv4 and IPv6 addresses.</p>
</div>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="TOD_Related_Commandsbc-157"></a><a name="TOD_Related_Commands" id="TOD_Related_Commands">TOD Related Commands</a></p>
<p class="WD_bulletbold"><i>SA_gettimefromTODServer [TODServer_IP] &lt;todport&gt; &lt;timeout_val_sec&gt;</i></p>
<p class="WD_Normal3">sends a TOD request to the specified TOD server.&#160; todport and timeout_val are optional arguments.&#160; If they are not specified, the todport is set to 37 and timeout is set to 1 sec.</p>
<p class="WD_Normal3"><i>Example: SA_gettimeFromTODServer 192.168.100.50</i></p>
<p class="WD_bulletbold">SA_getcurrentTODtime</p>
<p class="WD_Normal3">returns the number of seconds since&#160; 1970, if a previous call&#160; had been made to a TOD server to get the time.&#160; The time value will be incremented from the time it was retrieved.&#160; This command fails if a previous call to SA_gettimefromTODServer was not made.</p>
<p class="WD_Normal3"><i>Example: set todtime [SA_gettimeFromTODServer]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The TOD Tcl commands can support both IPv4 and IPv6 addresses.</p>
</div>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="NTP_Related_Commandsbc-158"></a><a name="NTP_Related_Commands" id="NTP_Related_Commands">NTP Related Commands</a></p>
<p class="WD_bulletbold"><i>SA_gettimefromNTPServer [NTPServer_IP] &lt;ntpport&gt; &lt;timeout_val_sec&gt;</i></p>
<p class="WD_Normal3">sends a NTP request to the specified NTP server.&#160; ntpport and timeout_val are optional arguments.&#160; If they are not specified, the ntpport is set to 123 and timeout is set to 1 sec.&#160; A list of four numbers is returned.</p>
<p class="WD_Normal3"><i>Example: SA_gettimeFromNTPServer 192.168.100.50</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Telnet_CLI_Relatedbc-159"></a><a name="Telnet_CLI_Related" id="Telnet_CLI_Related">Telnet/CLI&#160; Related Commands</a></p>
<p class="WD_PlainText">&#160;</p>
<p class="WD_bulletbold">SA_start_telnet&#160; &lt;telnet_cmd_file&gt; &lt;telnet_port&gt;</p>
<p class="WD_Normal3">enables a telnet server to service requests for the simulated device.&#160; The telnet_cmd_file file is mandatory.&#160; It tells the SimpleAgentPro how to respond to telnet commands typed in by the user.&#160; The telnet port is optional.&#160; If no port is specified the default port (23) is used.</p>
<p class="WD_Normal3">&#160;&#160;</p>
<p class="WD_Normal3">The telnet_cmd_file format is described in the following chapter on Telnet/CLI.</p>
<p class="WD_PlainText">&#160;</p>
<p class="WD_bulletbold">SA_stop_telnet</p>
<p class="WD_Normal3">disables support for Telnet for the simulated device.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The Telenet Server Tcl commands are retained for backwards compatibility with earlier versions.&#160; During the device definition, if you enable Telnet/CLI capability and specify the telnet modeling file and port number, then you do not need to specifiy the “SA_start_telnet” Tcl commands in the %init_action section of the device modeling file.&#160; These commands will be automatically carried out for you.</p>
</div>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">The telnet_cmd_file runs in a separate tcl interpretor that has both snmp and telnet command extensions available.&#160; In additon to some of the above described SNMP extensions commands, the following telnet specific tcl extensions are supported <b>only</b> in the telnet tcl interpretor.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_getcommand</p>
<p class="WD_Normal3">Returns the entire command that is currently being processed.&#160; The&#160;&#160;&#160;&#160;&#160;&#160;&#160; SimpleAgentPro also parses the input command buffer and makes it&#160;&#160;&#160;&#160;&#160;&#160;&#160; available in a global array called SAtcmd(n).</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_puts &lt;-nonewline&gt; &lt;-noflush&gt; [args]</p>
<p class="WD_Normal3">Prints out the line as defined in args on the telnet connection and sends it to the client.&#160; By default, the SA_telnet_puts will both add a newline and do a flush(send the buffer) unless the optional flags "-nonewline" and "-noflush" are used.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setcmdprompt&#160; string</p>
<p class="WD_Normal3">Sets the command prompt string used by the telnet server.&#160; By default it is set to the string "sapro &gt;".</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_getcmdprompt&#160; string</p>
<p class="WD_Normal3">Gets the current value of the command prompt string used by the telnet server.&#160;</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setbanner&#160; string</p>
<p class="WD_Normal3">Sets the banner string used by the telnet server to greet a new client&#160;&#160;&#160;&#160;&#160;&#160;&#160; connection.&#160; By default it is set to the string "Welcome to SAPro Telnet simulator&lt;cr&gt;&lt;lf&gt;".</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setloginprompt string</p>
<p class="WD_Normal3">Sets the login prompt string used by the telnet server. By default it is set to the string "login: "</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setpasswdprompt string</p>
<p class="WD_Normal3">Sets the password prompt string used by the telnet server. By default it is set to the string "Password: "</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setloginerror string</p>
<p class="WD_Normal3">Sets the login error message string used by the telnet server. By default it is set to the string "Login incorrect&lt;cr&gt;&lt;lf&gt;"</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setloginmaxretrieserror string</p>
<p class="WD_Normal3">Sets the login error message string displayed by the telnet server when&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; the max number of retries are exceeded in logging in.&#160; By default it is set to the string "Too many failed logon attempts&lt;cr&gt;&lt;lf&gt;</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setloginnumretries count</p>
<p class="WD_Normal3">Sets the login retry count.&#160; If the invalid logins exceed this count, the session is terminated.&#160; By default its value is set to 3.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setloginuser string</p>
<p class="WD_Normal3">Sets the login user name string that is to be expected by the telnet.&#160; This can include multiple names separated by a comma.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setloginpasswd string</p>
<p class="WD_Normal3">Sets the login passwd string that is to be expected by the telnet server. If multiple users need to be supported, this string can include multiple passwords separated by a comma.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setloginmode [0/1/2]</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to disable login(0), have user/password based login (1), or have only password based login (2).&#160; By default the login is disabled.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_closeconnection</p>
<p class="WD_Normal3">Closes the current client connection.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_debugflag&#160; [0/1/2/9]</p>
<p class="WD_Normal3">Turns telnet debugging off/on. 0 turns debugging off, 1 provides a Tcl command trace, and in addition to the Tcl trace, 2 also provides a packet level trace.&#160; 9 prints out only the commands received, so that they can be replayed using the tellearn utility.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_debugfile&#160; [filename]</p>
<p class="WD_Normal3">Creates a debug file that contains a trace of the commands executed and the output of the SA_telnet_debugputs command.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_debugputs [args]</p>
<p class="WD_Normal3">Dumps the arg string to the debug file if present.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setaddpasswdprompt string</p>
<p class="WD_Normal3">Sets the additional password prompt string used by the telnet server. By default it is set to the string "Enter Password: "</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setaddloginprompt string</p>
<p class="WD_Normal3">Sets the additional password prompt string used by the telnet server. By default it is set to the string "login: "</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setaddloginerror string</p>
<p class="WD_Normal3">Sets the additional login error message string displayed by the telnet server when the user incorrectly tries to login. By default it is set to the string "Login incorrect&lt;cr&gt;&lt;lf&gt;"</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setaddloginmaxretrieserror string</p>
<p class="WD_Normal3">Sets the additional login error message string used by the telnet server when the max number of retries are exceeded in logging in. By default it is set to the string "Too many failed logon attempts&lt;cr&gt;&lt;lf&gt;</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setaddloginnumretries count</p>
<p class="WD_Normal3">Sets the additional login retry count.&#160; If the invalid logins exceed this cound, based on the mode, the session is either terminated or the mode is set back to the basic mode.&#160; By default its value is set to 3.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setaddloginpasswd string</p>
<p class="WD_Normal3">Sets the additional login passwd string that is to be expected by the telnet server.&#160; If multiple passwords are to be supported, they can be specified by separating them with a comma.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_setaddloginmode [0/1/2/3]</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to disable addtional login(0), or have usename/password based additional login(1), or only password based additional login (2) with logoff if errors exceed the max retries allowed, or have only password based additional login with&#160; the session remaining in regular mode (3).&#160; By default the additional login is disabled.</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_telnet_getsnmpval { oid1 }</p>
<p class="WD_Normal3">A shorthand way to get the value of the snmp variable defined by oid1.</p>
<p class="WD_Normal3"><i>Example:set val1 [SA_telnet_getsnmpval { ifInOctects.1 }]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_setdelay [msecs]</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to sleep for the specified time before replying to telnet commands.</p>
<p class="WD_Normal3"><i>Example:SA_telnet_setdelay 500</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_getdelay</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the current delay value for processing telnet commands.</p>
<p class="WD_Normal3"><i>Example:&#160; set mytelnetdelay [SA_telnet_getdelay]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_seteoltype [LF]</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to accept just LF as a end of line character instead of the default [CRLF].&#160; For some telnet applications, based on how they are configured, it might be necessary to allow just LF to terminate commands.</p>
<p class="WD_Normal3"><i>Example:SA_telnet_seteoltype LF</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_setlocalecho [1/0]</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to enable/disable local echo.&#160; By default it is on, or set during telnet negotiation phase.&#160; After telnet negotiation, it can be overwritten by setting it to 0 (disable) or 1(enable) in the %init_acton section..</p>
<p class="WD_Normal3"><i>Example:SA_telnet_setlocalecho 0</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_skipinitmodes [1/0]</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to skip sending the initial sequence for session capabilities negotiation.&#160; By default it is sent.</p>
<p class="WD_Normal3"><i>Example:SA_telnet_skipinitmodes 0</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_addudpmsgsocket [portnum]</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to open up a UDP socket for that port.&#160; If multiple sessions are established, and the port specified is N, then the N+1 port will be opened by the second session, and N+2 port will be opened by the third session and so on.&#160; When a message is received on this port, it is sent to telnet tcl interpretor for evaluation.&#160; This allows tcl scripts to be evaluated on a connection oriented session such as telnet.</p>
<p class="WD_Normal3"><i>Example:SA_telnet_addudpmsgsocket 2456</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_getmodfile</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the full name of the currently used telnet modeling file.</p>
<p class="WD_Normal3"><i>Example:set mytfile [SA_telnet_getmodfile]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_set_passwdasterisk [0/1]</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to echo back “*” when the user types in the password information.&#160;</p>
<p class="WD_Normal3"><i>Example: SA_telnet_set_passwdasterisk 1</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_getloginuser</p>
<p class="WD_Normal3">Returns the current name of the login user.&#160;</p>
<p class="WD_Normal3"><i>Example: set cur_user [SA_telnet_getloginuser]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_addcmdaction</p>
<p class="WD_Normal3">This allows you to dynamically add telnet commands to the telnet interpretor.&#160; Since specifying the entire script might be cumbersome, a file with all the procedures could be sourced in the init_action section and the dynamic commands could refer to one of the procedures.&#160;</p>
<p class="WD_Normal3"><i>Example: SA_telnet_addcmdaction “show something” “SA_telnet_puts \”hello\””</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_addtftpclientcmds</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to also provide the tftp client tcl commands in the telnet Tcl interpretor.&#160;&#160; You need to only call this once in the %init_action section.&#160; The SA_tftpget and SA_tftpput commands will then be available for command processing.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_addtftpclientcmds</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_addFTPclientcmds</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to also provide the FTP client tcl commands in the telnet Tcl interpretor.&#160;&#160; You need to only call this once in the %init_action section.&#160; Commands like SA_FTP_Open/SA_FTP_Put/SA_FTP_Close etc. will then be available for command processing.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_addFTPclientcmds</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_setwaitforpreloginchar</p>
<p class="WD_Normal3">This allows you to have the telnet engine wait to receive any character/key after displaying the banner, but before displaying the username/password prompts.&#160; By default this behaviour is turned off.&#160; You can enable this in the %init_action section.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_setwaitforpreloginchar 1</i></p>
<p class="WD_bulletbold">SA_telnet_waitforchars</p>
<p class="WD_Normal3">This allows you to wait for characters while evaluating tcl code inside the script.&#160; It is useful for “—More—“ processing, where you can display the first part, then wait for a character to be entered and then display the next section.&#160;&#160;&#160; Use this command with caution as this is a synchronous call that will wait until it gets some i/o.&#160;</p>
<p class="WD_Normal3"><i>Example: set mychars [SA_telnet_waitforchars]</i></p>
<p class="WD_bulletbold">SA_telnet_setcmdcompflag [0/1]</p>
<p class="WD_Normal3">This allows you to have the telnet engine also process commands after receiving the ‘?’ character, instead of always waiting for the carriage return.&#160; By default it is turned off.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_setcmdcompflag 1</i></p>
<p class="WD_bulletbold">SA_telnet_cleardevstring</p>
<p class="WD_Normal3">This allows you to clear/free any memory associated with the device to save state across multiple sessions.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_cleardevstring</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_appenddevstring &lt;string&gt;</p>
<p class="WD_Normal3">This allows you to save state in the device context across telnet sessions, by appending strings to an area in memory.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_appenddevstring “set myState abcd;”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_getdevstring</p>
<p class="WD_Normal3">This allows you to retrieve the information saved in memory by prior telnet sessions.&#160; You can use this to save the state across telnet sessions.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; set priorStateInfo [SA_telnet_getdevstring]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_setprivcmdlist</p>
<p class="WD_Normal3">This allows you to specify a list of commands that are available in the priviledged mode.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_telnet_setprivcmdlist cmd1 cmd2 cmd3</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_setprivcmderror</p>
<p class="WD_Normal3">This allows you to specify the error message to be displayed in case a command that requires privilege mode is run when not in privilege mode.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_telnet_setprivcmderror “errormessage…”</i></p>
<p class="WD_bulletbold">SA_telnet_ignorectrlc</p>
<p class="WD_Normal3">This allows you to specify to ignore control c special character.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_telnet_ignorectrlc</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_outputcmdtofile &lt;file&gt; &lt;cmd&gt;</p>
<p class="WD_Normal3">This allows you to specify a file and a command and the simulator will evaluate the command and write the output to the specified file.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_telnet_outputcmdtofile /tmp/abc&#160; “show version”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_proxyfowarder &lt;realserver_ip&gt; &lt;realserver_port&gt; &lt;max_waitmsecs&gt;</p>
<p class="WD_Normal3">This allows you to setup the proxy forwarding feature where packets received are forwarded to the specified real server ip and the responses received from it are returned to the client.&#160; Enabling debugging allows the capture of the request/responses in a file to be used later for conversion to a modeling file. The default port is 23 and max wait milli seconds of 500</p>
<p class="WD_Normal3"><i>Example:&#160; SA_telnet_proxyfowarder 192.168.100.99 23 1000</i></p>
<p class="WD_bulletbold">SA_telnet_setmaxallowedconn &lt;num&gt;</p>
<p class="WD_Normal3">By default, the maximum number of simultaneous sessions accepted by the simulator is 5.&#160; You can override this limit by specifying a different maximum in the config.inp file, using the MAXTELNETSESSIONS=&lt;n&gt;.&#160; This number is used for all devices.&#160; If you want to have a lower number between 1 and the max sessions for a specific device, you can use this tcl command to set the device specific maximum connection value.&#160; Note, you can lower the number specified in the config.inp or 5, but not increase it using this method.&#160;&#160; You can use this tcl command in the init_action section of the telnet modeling file and the number will get set when the first session is established.&#160; You can also use SA_setmaxallowedconn tcl command to set the maximum simultaneous sessions in the device Tcl interpretor.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_telnet_setmaxallowedconn 2</i></p>
<p class="WD_bulletbold">SA_telnet_waitfornewline</p>
<p class="WD_Normal3">This allows you to wait for a carriage return while processing a command. Please note that the tcl interpretor and the device will hang until the carriage return is received.&#160; So this command should only be used to simplify the script writing when interacting with applications sending characters in an automated manner and not manually.&#160;</p>
<p class="WD_Normal3"><i>Example: set mystr [SA_telnet_waitfornewline]</i></p>
<p class="WD_bulletbold">SA_telnet_globalalias &lt;position_index&gt; &lt;full_word&gt; &lt;shortest_word&gt;</p>
<p class="WD_Normal3">This allows you to specify the dictionary of words that can be abbreviated at a particular position.&#160; So instead of having multiple command actions for “show version” and “sh ver”, you can use global aliases.</p>
<p class="WD_Normal3"><i>SA_telnet_globalalias 1 version ve</i></p>
<p class="WD_bulletbold">SA_telnet_gettimesincelastcmd</p>
<p class="WD_Normal3">Returns number of seconds elapsed since last command received by device.&#160; This is useful to determine if a session should be automatically closed due to inactivity.</p>
<p class="WD_Normal3"><i>Example: set lasttime [SA_telnet_gettimesincelastcmd]</i></p>
<p class="WD_bulletbold">SA_telnet_lockfile &lt;filename&gt;</p>
<p class="WD_Normal3">This command locks the file so that others cannot make changes to it.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_lockfile “/opt/sapro/bin/saprossh.ini”</i></p>
<p class="WD_bulletbold">SA_telnet_unlockfile</p>
<p class="WD_Normal3">This command unlocks the previously locked file.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_unlockfile</i></p>
<p class="WD_bulletbold">SA_telnet_setcontext &lt;context_name&gt;</p>
<p class="WD_Normal3">This command sets the current context to the context name.&#160; Subsequent commands received will get matched with %context_cmd_action instead of the normal %cmd_action sections where the entered command is prepended with&#160; the context name. This is useful for devices with multiple domains/contexts (like the Cisco Nexus 7000 series supporting virtual device contexts)where the switchto command can be used to switch contexts.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_setcontext EDNL2</i></p>
<p class="WD_bulletbold">SA_telnet_getcontext</p>
<p class="WD_Normal3">This command returns the current value of the context name set within the simulator.&#160; By default it starts with a null string. &#160;</p>
<p class="WD_Normal3"><i>Example: set curContext [SA_telnet_getcontext]</i></p>
<p class="WD_bulletbold">SA_telnet_clearcontext</p>
<p class="WD_Normal3">This command clears the current context. You can make this call when you “exit” from the switched context and return to the main context.&#160;</p>
<p class="WD_Normal3"><i>Example: SA_telnet_clearcontext</i></p>
<p class="WD_bulletbold">SA_telnet_getsshbasedir</p>
<p class="WD_Normal3">This command returns the ssh base directory property of the device as specified in the SSH tab.&#160;&#160;&#160;</p>
<p class="WD_Normal3"><i>Example: set curSshBaseDir [SA_telnet_getsshbasedir]</i></p>
<p class="WD_bulletbold"><i>SA_telnet_setmaxallowedconn &lt;num&gt;</i></p>
<p class="WD_Normal3">This command allows you to set the max allowed connections by the telnet simulator for this device to a number between 1 and the current maximum.&#160; The current maximum is determined by the value of MAXTELNETSESSIONS in the confi.inp file, and if not specified, it is set to 5.</p>
<p class="WD_Normal3"><i>Example:</i>&#160; SA_setmaxallowedconn 2</p>
<p class="WD_bulletbold"><i>SA_telnet_getpeerinfo</i></p>
<p class="WD_Normal3">This command returns the IP and port of the client that has connected with us. The string returned is of the format &lt;ip&gt;/&lt;port_num&gt;.&#160;</p>
<p class="WD_Normal3"><i>Example:</i>&#160; set peerInfo [SA_telnet_getpeerinfo]</p>
<p class="WD_bulletbold">SA_telnet_initvaluetype &lt;type&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to initialize a valuetype specified and return a handle to it.&#160; This variable persists across sessions. Currently radomup, clock, sequential, lastset, utilization, and valuelist valuetypes are supported.</p>
<p class="WD_Normal3"><i>Example: set rid [SA_telnet_initvaluetype randomup(5000, 100)]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_telnet_settagforvalue &lt;id&gt; &lt;tag&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to associate a textual tag with the preinitialized valuetype handle returned by the initvaluetype call.&#160; This allows the variable to be accessed in the main device context using a name.&#160;</p>
<p class="WD_Normal3"><i>Example: SA_telnet_settagforvalue $rid abc</i></p>
<p class="WD_bulletbold">SA_telnet_getvalue &lt;id&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the value for a previously initialized valuetype associated with the specified valuetype identifier. Currently radomup, clock, sequential, lastset,utilization, and valuelist valuetypes are supported.</p>
<p class="WD_Normal3"><i>Example: set rvalue [SA_telnet_getvalue $rid]</i></p>
<p class="WD_bulletbold">SA_telnet_getvaluewithtag &lt;tag&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the value for a previously initialized valuetype associated with the specified tag.&#160; The tag has to have been associated with a preintialized value beforehand.&#160; This tcl command is also available in the main device context.</p>
<p class="WD_Normal3"><i>Example: set rvalue [SA_telnet_getvaluewithtag abc]</i></p>
<p class="WD_bulletbold">SA_telnet_setvalue &lt;id&gt; &lt;newvalue&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to change the value for a previously initialized valuetype associated with the specified valuetype identifier. Value for only lastset valuetype can be changed.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_setvalue $sid newvalue</i></p>
<p class="WD_bulletbold">SA_telnet_setvaluewithtag &lt;tag&gt; &lt;newvalue&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to change the value for a previously initialized valuetype associated with the specified tag. Value for only lastset valuetype can be changed.&#160;&#160;&#160; This command is also available in the device tcl interpretor.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_setvaluewithtag abc newvalue</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:.75in;" class="WD_Normal3"><i>Version 19.0 also adds the following Netconf related Tcl commands to the telnet interpretor.</i></p>
<p class="WD_bulletbold">SA_telnet_netconf_opensession</p>
<p class="WD_Normal3">Enabled netconf processing within the telnet interpretor and sets up internal structures for use.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_netconf_opensession</i></p>
<p class="WD_bulletbold">SA_telnet_netconf_clsoesession</p>
<p class="WD_Normal3">Closes netconf processing within the telnet interpretor and frees up internal structures used for netconf processing.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_netconf_closesession</i></p>
<p class="WD_bulletbold">SA_telnet_netconf_setnshref &lt;string&gt;</p>
<p class="WD_Normal3">Sets the name space identifier to be used in the response.&#160; By default it is set to “urn:ietf:params:xml:ns:netconf:base:1.0”.</p>
<p class="WD_Normal3"><i>Example:SA_telnet_netconf_setnshref “</i>urn:ietf:params:xml:ns:netconf:base:1.0”</p>
<p class="WD_bulletbold">SA_telnet_netconf_getsessionid</p>
<p class="WD_Normal3">Gets the current session id associated with the session.</p>
<p class="WD_Normal3"><i>Example: set cursession [SA_telnet_netconf_getsessionid]</i></p>
<p class="WD_bulletbold">SA_telnet_netconf_getreqname</p>
<p class="WD_Normal3">Gets the current request name.</p>
<p class="WD_Normal3"><i>Example: set curRequest [SA_telnet_netconf_getreqname]</i></p>
<p class="WD_bulletbold">SA_telnet_netconf_getreqparam</p>
<p class="WD_Normal3">Gets the current request parameters.</p>
<p class="WD_Normal3"><i>Example: set curReqParams [SA_telnet_netconf_getreqparam]</i></p>
<p class="WD_bulletbold">SA_telnet_netconf_getcommand</p>
<p class="WD_Normal3">Gets the current client request command.</p>
<p class="WD_Normal3"><i>Example: set curRequest [SA_telnet_netconf_getcommand]</i></p>
<p class="WD_bulletbold">SA_telnet_netconf_cleardata</p>
<p class="WD_Normal3">Clears the response buffer data.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_netconf_cleardata</i></p>
<p class="WD_bulletbold">SA_telnet_netconf_appenddata &lt;string&gt;</p>
<p class="WD_Normal3">Appends the specified string to the response data.&#160; This is used to build the response buffer.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_netconf_appenddata “&lt;string&gt;hello world&lt;/string&gt;”</i></p>
<p class="WD_bulletbold">SA_telnet_netconf_sendhello</p>
<p class="WD_Normal3">Sends the buffer built so far as a hello packet.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_netconf_sendhello</i></p>
<p class="WD_bulletbold">SA_telnet_netconf_sendreply</p>
<p class="WD_Normal3">Sends the buffer built so far as a response packet.</p>
<p class="WD_Normal3"><i>Example: SA_telnet_netconf_sendreply</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in;" class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">Some of the commands from the Agent Parameter section are also available inside the telnet interpretor.</p>
<p class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="TL1_Related_Commandsbc-160"></a><a name="TL1_Related_Commands" id="TL1_Related_Commands">TL1 Related Commands</a></p>
<p class="WD_bulletbold">SA_start_tl1&#160; &lt;tl1_cmd_file&gt; &lt;tl1_port&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Enables a TL1 server to service requests for the simulated device.&#160; The tl1_cmd_file file is mandatory.&#160; It tells the SimpleAgentPro how to respond to telnet commands typed in by the user.&#160; The telnet port is also mandatory.&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The tl1_cmd_file format is similar to the telnet cmd file format and is described in the following section on TL1.</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_stop_tl1</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Disables support for TL1 for the simulated device.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><b><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></b></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The TL1 Server Tcl commands are retained for backwards compatibility with earlier versions.&#160; During the device definition, if you enable TL1 capability and specify the TL1 modeling file and port number, then you do not need to specifiy the “SA_start_tl1” Tcl commands in the %init_action section of the device modeling file.&#160; These commands will be automatically carried out for you.</p>
</div>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The tl1_cmd_file runs in a separate tcl interpretor that has both snmp and telnet command extensions available.&#160; In additon to some of the above described SNMP extensions commands, the following TL1 specific tcl extensions are supported.&#160; These extensions are only available in the TL1 tcl interpretor.</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><b><i><u><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">TL1 Input message Related Tcl Commands</font></span></u></i></b></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;The received TL1 input message is parsed into a data structure and Tcl commands described below allow you to examine its contents.&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">As per GR-831-CORE, the received input message is expected to be in the following format:</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;command_code&gt;:&lt;staging_parameter_blocks&gt;:&lt;message_payload_block(s)&gt;;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The &lt;command_code&gt; is further parsed into</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; &lt;verb&gt;[-&lt;modifier1&gt;[-&lt;modifier2&gt;]]</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The &lt;staging_parameter_blocks&gt; is further parsed into</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; &lt;tid&gt;:&lt;aid&gt;:&lt;correlation tag&gt;:[general block]:</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The &lt;staging_parameter_blocks&gt; is further parsed into</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; &lt;tid&gt;:&lt;aid&gt;:&lt;correlation tag&gt;:[general block]:</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The &lt;message_payload_blocks&gt; is further parsed into a list of</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; :&lt;data_block1&gt;:&lt;data_block2&gt;:...</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setendcmdstr&#160; &lt;string&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">By default, the simulator looks for ‘;’ to end the command and starts processing it.&#160; If you need it to wait for additional characters before starting to process the message, you can specify it with this command.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_TL1_setendcmdstr ";\n"</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getcmd_commandcode</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the command code from the received TL1 input message</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getcmd_verb</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the verb from the received TL1 input message</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getcmd_modifier1</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the first modifier from the received TL1 input input message</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getcmd_modifier2</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the second modifier from the received TL1 input message</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getcmd_stageparam</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the entire un-parsed staging parameter block from the received TL1 input message</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getcmd_tid</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the TID from the received TL1 input message</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getcmd_aid</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the AID from the received TL1 input message</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getcmd_ctag</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the CTAG from the received TL1 input message</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getcmd_gb</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the general block from the received TL1 input message</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getcmd_msgpayload</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the un-parsed Message Payload from the received TL1 input message.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<b><i><u><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"><br clear="all" /></font></span></u></i></b>
<p class="WD_PlainText"><b><i><u><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">TL1 Acknowledgment Message Related Tcl Commands</font></span></u></i></b></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The output acknowledgment message data structure is cleared when a input message is received and based on the contents of the incoming input message, the default values of the ack message are filled up.</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">As per GR-831-CORE, the acknowledgment message is expected to be in the following format:</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;ack_code&gt; &lt;ctag&gt;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; The default value of the ctag field is set from the incoming input message.</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setack_extrasstartchars &lt;string&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">By default, the simulator sends the message as described above.&#160; If you want it to send some extra characters before it sends the ack_code, then you can specify it with this command.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_TL1_setack_extrastartchars "\r\n"</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_sendackmsg</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Actually sends out the contents of the internal ack msg datastructure n the current connection.</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setack_code newcode</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the ack code in the internal ack msg datastructure.&#160; Possible alues are IP, PF, OK, A, NG, RL.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getack_code</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the ack code from the internal ack msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setack_ctag newctag</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the ack ctag in the internal ack msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getack_ctag</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the ack ctag from the internal ack msg datastructure.</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><b><i><u><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">TL1 Response Message Related Tcl Commands</font></span></u></i></b></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The output response message data structure is cleared when a input message is received and based on the contents of the incoming input message, the default values of the response message are filled up.</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">As per GR-831-CORE, the response message is expected to be in the following format:</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;header&gt; &lt;response_id&gt; &lt;text_block&gt; &lt;terminator&gt;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The header field is further broken up into</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;sid&gt; &lt;year&gt;-&lt;month&gt;-&lt;day&gt; &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The response_id is further broken up into</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;ctag&gt; &lt;completion_code&gt;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The text_block is further broken up into</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;line&gt; &lt;line&gt; ...</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The default value of the sid is set to TID from the incoming input message, and the current time is filled in the header.&#160; The default value of ctag is set to CTAG value from the incoming input message.</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_sendrespmsg</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Actually sends out the contents of the internal response msg datastructure on the current connection.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_sid newsid</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the source identifier in the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getresp_sid</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the source identifier from the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_year newyear</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the year in the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getresp_year</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the year from the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_month newmonth</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the month in the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getresp_month</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the month from the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_day newday</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the day in the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getresp_day</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the day from the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_hour newhour</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the hour in the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getresp_hour</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the hour from the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_min newmin</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the minutes in the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getresp_min</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the minutes from the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_sec newsec</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the seconds in the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getresp_sec</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the seconds from the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_curtime &lt;newyear&gt; &lt;newmonth&gt; &lt;newday&gt; &lt;newhour&gt; &lt;newmin&gt; &lt;newsec&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets all the time stamp fields in the header at once.&#160; If no arguments are specified, the current time is taken.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_ctag newctag</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the CTAG in the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getresp_ctag</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the CTAG from the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_compcode newcomcode</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the completion code in the internal response msg datastructure. Possible values are COMPLD, DENY, PRTL, DELAY, RTRV.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getresp_compcode</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the completion code from the internal response msg datastructure.</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_textblock&#160; newtextblock</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the entire text-block at once in the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getresp_textblock</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the entire text-block from the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_appendline&#160; lineinfo</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Appends one line at a time to the textblock in the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_appendlineraw&#160; lineinfo</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Appends one line at a time to the textblock in the internal response msg datastructure without carriage return/linefeed at the end.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setresp_terminator&#160; terminator_char</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the terminator character in the internal response msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getresp_terminator</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the terminator character from the internal response msg datastructure.</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><b><i><u><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Autonomous Message Related Tcl Commands</font></span></u></i></b></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">As per GR-831-CORE, the autnomous message is expected to be in the following format:</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;header&gt; &lt;auto_id&gt; &lt;text_block&gt; &lt;terminator&gt;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The header field is further broken up into</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;sid&gt; &lt;year&gt;-&lt;month&gt;-&lt;day&gt; &lt;hour&gt;:&lt;minute&gt;:&lt;second&gt;</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The auto_id is further broken up into</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;alarm_code&gt; &lt;atag&gt; &lt;verb&gt; [&lt;modifier&gt; &lt;modifier&gt;..]</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The text_block is further broken up into</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;line&gt; &lt;line&gt; ...</font></span></p>
<p class="WD_bulletbold">SA_TL1_sendautomsg</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Actually sends out the contents of the internal response msg datastructure on the current connection.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_default</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The default value of the sid is set to TID from the incoming input message, and the current time is filled in the header.&#160; The default value of ctag is set to CTAG value from the incoming input message.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_extraspacebetatagacode &lt;0/1&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">By default, the simulator puts one space character between &lt;alarm_code&gt; and &lt;atag&gt;.&#160; If you want the autonomous message to contain an extra space character, then you can use the above command before sending the autonomous message.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_TL1_setauto_extraspacebetacodeatag 1</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_sid newsid</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the source identifier in the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_sid</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the source identifier from the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_year newyear</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the year in the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_year</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the year from the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_month newmonth</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the month in the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_month</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the month from the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_day newday</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the day in the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_day</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the day from the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_hour newhour</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the hour in the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_hour</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the hour from the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_min newmin</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the minutes in the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_min</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the minutes from the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_sec newsec</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the seconds in the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_sec</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the seconds from the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_curtime &lt;newyear&gt; &lt;newmonth&gt; &lt;newday&gt; &lt;newhour&gt; &lt;newmin&gt; &lt;newsec&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets all the time stamp fields in the header at once.&#160; If no arguments are specified, the current time is taken.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_alarmcode newalarmcode</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the alarm code in the internal autonomous msg datastructure.&#160; Possible</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">values are "*C", "**", "*^", "A^".</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_alarmcode</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the alarm code from the internal autonomous msg datastructure.&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_atag newatag</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the ATAG in the internal autonomous msg datastructure.&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_atag</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the ATAG from the internal autonomous msg datastructure.&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_verb newverb</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the verb in the internal autonomous msg datastructure.&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_verb</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the verb from the internal autonomous msg datastructure.&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_modifiers newmodifier</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the modifiers in the internal autonomous msg datastructure.&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_modifiers</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the modifiers from the internal autonomous msg datastructure.&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_textblock newtextblock</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the entire text-block at once in the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_textblock</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the entire text-block from the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_appendline newlineinfo</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Appends one line at a time to the textblock in the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_terminator newterm_char</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the terminator character in the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getauto_terminator</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the terminator character from the internal autonomous msg datastructure.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_getautomsgbufnoterm</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Gets the entire autonomous message text without terminiator characters so that it can be saved into an array.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_setauto_atagformat &lt;format_string&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sets the formatting string for atag display.&#160; By default it is %d, but if you want it to be 4 number wide, padded with 0s, you can use %04d.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_TL1_setauto_atagformat %04d</font></span></i></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></i></p>
<p class="WD_bulletbold">SA_TL1_sendicmppkt &lt;destip&gt; &lt;optional_size&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sometimes it is required to periodically poll a manager with icmp messages.&#160; This commands simply sends a ICMP packet out to the specified destination address.&#160; This command is only supported on the Windows platform.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_TL1_sendicmppkt&#160; 192.168.100.99</font></span></i></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></i></p>
<p class="WD_bulletbold">SA_TL1_getcurtime_string</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Returns the current time string in the TL1 format of year-month-date hr:min:sec.&#160;&#160; This can be used to embed the value in a response.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_TL1_getcurtime_string</font></span></i></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></i></p>
<p class="WD_bulletbold">SA_TL1_getcmd_string</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Returns the entire command string of the user command that is currently being processed.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_TL1_getcmd_string</font></span></i></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_TL1_disablecmd_processing &lt;1 or 0&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command will disable all future command processing by the simulator.&#160; The telnet session if initialized will remain and not be closed.&#160; However all command processing will be skipped, until the command is run once again to turn processing on (in possibly the timer_action section, which is not disabled by this command).</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_TL1_disablcmd_processing 1</font></span></i></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></i></p>
<p class="WD_bulletbold">SA_TL1_skipcurrent_processing &lt;1 or 0&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command will skip the current command processing. This tcl command can be run in %before_cmd_action and it will cause subsequent processing of this command to be skipped.&#160; This flag will get automatically reset when the next command is received.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_TL1_skipcurrent_processing 1</font></span></i></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></i></p>
<p class="WD_bulletbold">SA_TL1_skipsending_fin &lt;1 or 0&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command will skip the sending of TCP FIN packets upon termination of the TCP session.&#160; By default SimpleAgentPro will send FIN packets.&#160; However for your testing, if you require it to skip that, you can set this to 1, and the socket will not get properly closed.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_TL1_skipsending_fin 1</font></span></i></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></i></p>
<p class="WD_bulletbold">SA_TL1_getcmd_datablocklist</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command returns the data block list.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_TL1_getcmd_datablocklist</font></span></i></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Netflow_Related_Commandsbc-161"></a><a name="Netflow_Related_Commands" id="Netflow_Related_Commands">Netflow Related Commands</a></p>
<p class="WD_bulletbold">SA_netflow_setdefaults&#160; [parameter] [value]</p>
<p class="WD_bulletbold">SA_flow_setdefaults&#160; [parameter] [value]</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command sets the values for various parameters that the Netflow simulator uses.&#160; See Chapter on Netflow for details.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_netflow_setdefaults src_mask 24</font></span></i></p>
<p class="WD_bulletbold">&#160;</p>
<p class="WD_bulletbold">SA_netflow_setcollectors [collector_ip&lt;/collector_port ,…&gt;]</p>
<p class="WD_bulletbold">SA_flow_setcollectors [collector_ip&lt;/collector_port ,…&gt;]</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command allows you to specify a comma separated list of collectors.&#160; Each collector IP address along with its port can be specified in a &lt;ip/port&gt; format.&#160;&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Example: SA_netflow_setcollectors 192.168.100.45/9961</font></span></i></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">SA_netflow_readinputfile [input file name]</p>
<p class="WD_bulletbold">SA_flow_readinputfile [input file name]</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command reads the input file specified to build its internal flow cache.&#160; The specified file contains both template definitions as well as flow definitions.&#160; See Chapter on Netflow for details on the format.</font></span></p>
<p class="WD_Normal3"><i>Example: SA_netflow_readinputfile “..//var//netflow_9.txt”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_netflow_send &lt;optional cache_id&gt;</p>
<p class="WD_bulletbold">SA_flow_send &lt;optional cache_id&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command sends one or more netflow packets as per the contents of the flow cache setup using the readinputfile command.&#160; If the input file contained multiple flow caches, then you can even specify a particular one. Otherwise, SAPro will cycle through the different caches on subsequent calls to SA_netflow_send, based on the value of the loop flag.&#160; By default the loop flag is set to 1.&#160; You can change it by using the SA_netflow_setloopflag tcl command.</font></span></p>
<p class="WD_Normal3"><i>Example: SA_netflow_send</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_netflow_resendtemplate &lt;optional cache_id&gt;</p>
<p class="WD_bulletbold">SA_flow_resendtemplate &lt;optional cache_id&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command tells SAPro to resend the templates, the next time it processes the SA_netflow_send command.&#160;&#160; Normally, it will only send templates the first time around.</font></span></p>
<p class="WD_Normal3"><i>Example: SA_netflow_resendtemplate</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_netflow_setdebugflag &lt;1/0&gt;</p>
<p class="WD_bulletbold">SA_flow_setdebugflag &lt;1/0&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command dumps out the netflow packets in hex in the associated tcl debug file.</font></span></p>
<p class="WD_Normal3"><i>Example: SA_netflow_setdebugflag 1</i></p>
<p class="WD_bulletbold">&#160;</p>
<p class="WD_bulletbold">SA_netflow_setloopflag &lt;1/0&gt;</p>
<p class="WD_bulletbold">SA_flow_setloopflag &lt;1/0&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command sets the value of the loop flag that is used by the SA_netflow_send command to determine whether to send the flows in the input data file only once, or to keep sending them.</font></span></p>
<p class="WD_Normal3"><i>Example: SA_netflow_setloopflag 1</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_netflow_setflowseqnum &lt;initial_num&gt;</p>
<p class="WD_bulletbold">SA_flow_setflowseqnum &lt;initial_num&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command sets the value of the initial flow sequence number that is used to create v5 packets.&#160; By default it is set to 0.</font></span></p>
<p class="WD_Normal3"><i>Example: SA_netflow_setflowseqnum 50</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in;" class="WD_Normal3"><i>All the SA_netflow_* commands are also available as SA_flow_* commands since support is now present for Netflow, IPFIX and sFlow using similar interfaces.</i></p>
<p style=" margin-left:0in;" class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="SOAP_and_XML_Relatedbc-162"></a><a name="SOAP_and_XML_Related" id="SOAP_and_XML_Related">SOAP and XML Related Commands</a></p>
<p class="WD_bulletbold">SA_soap_clear_http_hdroptions</p>
<p class="WD_bulletbold">SA_xml_clear_http_hdroptions</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the user specified http hdr option string.&#160; By default, it is set to “”.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_http_hdroptions</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_http_hdroptions</p>
<p class="WD_bulletbold">SA_xml_append_http_hdroptions</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the http header options when generating a http response.&#160; By default the user specified string is blank.&#160; This call can be made multiple times to append additional options.&#160; After each call, a backslash r backslash n is automatically appended.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_http_hdroptions “MySpecialTag:&#160; 57”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_setxmlinfo</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to set the xml info string appended at the beginning of the soap response to the specified string.&#160; By default, it is set to “&lt;?xml version =’1.0’ &gt;”.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_setxmlinfo”&lt;?xml version=’1.1’ &gt;”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_setenvtag</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to set the soap envelope tag to the specified string.&#160; By default, it is set to “SOAP-ENV:Envelope”.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_setenvtag “envelope”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_setheadertag</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to set the soap header tag to the specified string.&#160; By default, it is set to “SOAP-ENV:Header”.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_setenvtag “header”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_setbodytag</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to set the soap body tag to the specified string.&#160; By default, it is set to “SOAP-ENV:Body”.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_setenvtag “body”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_setfaulttag</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to set the soap fault tag to the specified string.&#160; By default, it is set to “SOAP-ENV:Fault”.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_setenvtag “fault”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_default_env_nsattrs</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the name space attributes associated with the envelope tag.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_default_env_nsattrs</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_default_env_nsattrs</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the name space attributes associated with the envelope tag.&#160; This call can be made multiple times to append additional strings.&#160; After each call, a backslash r backslash n is automatically appended.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_env_nsattrs "xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\""</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_env_nsattrs</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the additional name space attributes associated with the envelope tag.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_env_nsattrs</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_env_nsattrs</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the additional name space attributes associated with the envelope tag.&#160; This call can be made multiple times to append additional strings.&#160; After each call, a backslash r backslash n is automatically appended.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_env_nsattrs "xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\""</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_env_data</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the data portion associated with the envelope tag.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_env_data</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_env_data</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the data portion contained within the envelope tag.&#160; This call can be made multiple times to append additional strings.&#160; After each call, a backslash r backslash n is automatically appended.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_env_data "&lt;mytag&gt;abc&lt;/mytag&gt;"</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_hdr_nsattrs</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the name space attributes associated with the header tag.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_hdr_nsattrs</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_hdr_nsattrs</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the name space attributes associated with the header tag.&#160; This call can be made multiple times to append additional strings.&#160; After each call, a backslash r backslash n is automatically appended.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_hdr_nsattrs "xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\""</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_hdr_data</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the data portion associated with the header tag.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_hdr_data</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_hdr_data</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the data portion contained within the header tag.&#160; This call can be made multiple times to append additional strings.&#160; After each call, a backslash r backslash n is automatically appended.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_hdr_data "&lt;reqid&gt;123&lt;/reqid&gt;"</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_body_nsattrs</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the name space attributes associated with the body tag.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_body_nsattrs</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_body_nsattrs</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the name space attributes associated with the body tag.&#160; This call can be made multiple times to append additional strings.&#160; After each call, a backslash r backslash n is automatically appended.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_body_nsattrs "xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\""</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_body_data</p>
<p class="WD_bulletbold">SA_xml_clear_body_data</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the clear the data portion associated with the body tag.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_body_data</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_body_data &lt;string&gt;</p>
<p class="WD_bulletbold">SA_xml_append_body_data &lt;string&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the data portion contained within the body tag.&#160; This call can be made multiple times to append additional strings.&#160; After each call, a backslash r backslash n is automatically appended.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_body_data "&lt;reqid&gt;123&lt;/reqid&gt;"</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_fault_nsattrs</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the name space attributes associated with the fault tag.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_fault_nsattrs</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_fault_nsattrs</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the name space attributes associated with the fault tag.&#160; This call can be made multiple times to append additional strings.&#160; After each call, a backslash r backslash n is automatically appended.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_fault_nsattrs "xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\""</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_fault_data</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the the data portion associated with the fault tag.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_fault_data</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_fault_data</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the the data portion contained within the fault tag.&#160; This call can be made multiple times to append additional strings.&#160; After each call, a backslash r backslash n is automatically appended.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_fault_data "&lt;reqid&gt;123&lt;/reqid&gt;"</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_default_fault_data</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the the default data portion associated with the fault tag.&#160; By default it is set to “&lt;code&gt;&lt;value&gt;Sender&lt;/value&gt;&lt;/code&gt;&lt;reason&gt;Unknown Method&lt;/reason&gt;"</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_default_fault_data</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_default_fault_data</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the the data portion contained within the fault tag.&#160; In case of error, this string is returned. This call can be made multiple times to append additional strings.&#160; After each call, a backslash r backslash n is automatically appended.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_default_fault_data</i> “&lt;code&gt;&lt;value&gt;Sender&lt;/value&gt;&lt;/code&gt;&lt;reason&gt;Unknown Method&lt;/reason&gt;”</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_soap_getrequestinfo]</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return a list of lists containing the contents of incoming SOAP request.</p>
<p class="WD_Normal3"><i>Example: set soapReq [SA_soap_getrequestinfo]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_getrequesttagvalue</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the value of the specified tag if present in the incoming SOAP request.</p>
<p class="WD_Normal3"><i>Example: set rid [SA_soap_getrequesttagvalue requestid]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_getrequesttagattrs</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the value of the specified attribute if present in the incoming SOAP request.</p>
<p class="WD_Normal3"><i>Example: set rid [SA_soap_getrequesttagattrs abcd ]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_initvaluetype &lt;type&gt;</p>
<p class="WD_bulletbold">SA_xml_initvaluetype &lt;type&gt;</p>
<p class="WD_bulletbold">&#160;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to initialize a valuetype specified and return a handle to it.&#160; This variable persists across sessions. Currently radomup, clock, sequential, lastset, utilization and valuelist valuetypes are supported.</p>
<p class="WD_Normal3"><i>Example: set rid [SA_soap_initvaluetype randomup(5000, 100)]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_settagforvalue &lt;id&gt; &lt;tag&gt;</p>
<p class="WD_bulletbold">SA_xml_settagforvalue &lt;id&gt; &lt;tag&gt;</p>
<p class="WD_bulletbold">&#160;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to associate a textual tag with the preinitialized valuetype.&#160; This allows the variable to be accessed in the main device context using a name.&#160;</p>
<p class="WD_Normal3"><i>Example: SA_soap_settagforvalue $rid abc</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_getvalue &lt;id&gt;</p>
<p class="WD_bulletbold">SA_xml_getvalue &lt;id&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the value for a previously initialized valuetype associated with the specified valuetype identifier. Currently radomup, clock, sequential, lastset, utilization and valuelist valuetypes are supported.</p>
<p class="WD_Normal3"><i>Example: set rvalue [SA_soap_getvalue $rid]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_getvaluewithtag &lt;tag&gt;</p>
<p class="WD_bulletbold">SA_xml_getvaluewithtag &lt;tag&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the value for a previously initialized valuetype associated with the specified tag.&#160; The tag has to have been associated with a preintialized value beforehand.&#160; This tcl command is also available in the main device context.</p>
<p class="WD_Normal3"><i>Example: set rvalue [SA_soap_getvaluewithtag abc]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_setvalue &lt;id&gt; &lt;newvalue&gt;</p>
<p class="WD_bulletbold">SA_xml_setvalue &lt;id&gt; &lt;newvalue&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to change the value for a previously initialized valuetype associated with the specified valuetype identifier. Value for only lastset valuetype can be changed.</p>
<p class="WD_Normal3"><i>Example: SA_soap_setvalue $sid newvalue</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_setvaluewithtag &lt;tag&gt; &lt;newvalue&gt;</p>
<p class="WD_bulletbold">SA_xml_setvaluewithtag &lt;tag&gt; &lt;newvalue&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to change the value for a previously initialized valuetype associated with the specified tag. Value for only lastset valuetype can be changed.&#160;&#160;&#160; This command is also available in the device tcl interpretor.</p>
<p class="WD_Normal3"><i>Example: SA_soap_setvaluewithtag abc newvalue</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_getcurtime</p>
<p class="WD_bulletbold">SA_xml_getcurtime</p>
<p class="WD_bulletbold">&#160;</p>
<p class="WD_Normal3">Tells the UTC format current time.&#160;&#160; This command is also available in the device tcl interpretor.</p>
<p class="WD_Normal3"><i>Example: set cTime [SA_soap_getcurtime]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_getuuid</p>
<p class="WD_Normal3">Returns a uuid string that can be used in the response.</p>
<p class="WD_Normal3"><i>Example:&#160; set uuid [SA_soap_getuuid]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_setdelay [msecs]</p>
<p class="WD_bulletbold">SA_xml_setdelay [msecs]</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to sleep for the specified time before replying to soap requests.</p>
<p class="WD_Normal3"><i>Example:SA_soap_setdelay 500</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_getdelay</p>
<p class="WD_bulletbold">SA_xml_getdelay</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the current delay value for processing soap requests.</p>
<p class="WD_Normal3"><i>Example:&#160; set mysoapdelay [SA_soap_getdelay]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_setdropreqflag &lt;[0/1]&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to simply drop the request packet and&#160; NOT generate any response.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_setdropreqflag 1</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_closeconnection</p>
<p class="WD_bulletbold">SA_xml_closeconnection</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command closes the current tcp connection.&#160; Normally you do not need to call this.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;Example: SA_soap_closeconnection</font></span></i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_setkeepconnection &lt;[0/1/2/3]&gt;</p>
<p class="WD_bulletbold">SA_xml_setkeepconnection &lt;[0/1/2/3]&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Setting it to 1 keeps the connection even if the http header does not contain a KEEP_ALIVE tag</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Setting it to 2 will send a “Connection: Close” in the http header and then forcefully close the connection even if the request http header contained a keep-alive.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Setting it to 3 will skip adding a “Connection” option to the http header, and forcefully close the connection.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;Example: SA_soap_setkeepconnection 1</font></span></i></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold"><i>SA_soap_debugflag</i> &lt;[0/1]&gt;</p>
<p class="WD_bulletbold">SA_xml_debugflag &lt;[0/1]&gt;</p>
<p class="WD_Normal3">Sets the debugging flag on or off. Debug information is only written to the file when both the <i>debugflag</i> is enabled and the soap debug file is set.&#160;</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_soap_debugflag 1</i></p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold"><i>SA_soap_debugfile</i> &lt;<i>filename</i>&gt;</p>
<p class="WD_bulletbold"><i>SA_xml_debugfile</i> &lt;<i>filename</i>&gt;</p>
<p class="WD_Normal3">Sets the debugging information to be written to the specified file. Debug information is only written to the file when both the <i>debugflag</i> is enabled and the debug file is set.&#160; The file will be typically created in the sapro/debug directory.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_soap_debugfile abcd.dbg</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_debugputs [args]</p>
<p class="WD_bulletbold">SA_xml_debugputs [args]</p>
<p class="WD_Normal3">Dumps the arg string to the debug file if present.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_soap_debugputs “Got here”</i></p>
<p class="WD_bulletbold">&#160;</p>
<p class="WD_bulletbold">SA_soap_addudpmsgsocket [portnum]</p>
<p class="WD_bulletbold">SA_xml_addudpmsgsocket [portnum]</p>
<p class="WD_bulletbold">&#160;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to open up a UDP socket for that port.&#160; If multiple sessions are established, and the port specified is N, then the N+1 port will be opened by the second session, and N+2 port will be opened by the third session and so on.&#160; When a message is received on this port, it is sent to telnet tcl interpretor for evaluation.&#160; This allows tcl scripts to be evaluated on a connection oriented session such as soap.</p>
<p class="WD_Normal3"><i>Example:SA_soap_addudpmsgsocket 2456</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_getmodfile</p>
<p class="WD_bulletbold">SA_xml_getmodfile</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the full name of the currently used soap modeling file.</p>
<p class="WD_Normal3"><i>Example:set mysfile [SA_soap_getmodfile]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_http_pkt_opts</p>
<p class="WD_bulletbold">SA_xml_clear_http_pkt_opts</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the the http options associated with sending a data packet.&#160; This tcl command is also available in the device tcl context.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_http_pkt_opts</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_http_pkt_opts &lt;string&gt;</p>
<p class="WD_bulletbold">SA_xml_append_http_pkt_opts &lt;string&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the the http options portion associated with sending a data packet.&#160; Basic options will automatically be created and appended.&#160; After each call, a backslash r backslash n is automatically appended.&#160; This tcl command is also available in the device tcl context.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_http_pkt_opts "Connection: Close”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_http_pkt_body</p>
<p class="WD_bulletbold">SA_xml_clear_http_pkt_body</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the the body/data portion associated with sending a http data packet.&#160; This tcl command is also available in the device tcl context.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_http_pkt_body</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_http_pkt_body &lt;string&gt;</p>
<p class="WD_bulletbold">SA_xml_append_http_pkt_body &lt;string&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the the body/data portion contained within the http data packet built.&#160; This call can be made multiple times to append additional strings.&#160; After each call, a backslash r backslash n is automatically appended. This tcl command is also available in the device tcl context.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_http_pkt_body "&lt;notification&gt;"</i></p>
<p class="WD_bulletbold"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_send_http_pkt _closeconn &lt;url containing ip,port,post uri&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to send a http POST request using the previously created http pkt to the specified ip/port and use the uri specified inside the POST request and after sending the request simply close the connection without waiting for the response. This tcl command is also available in the device tcl context.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_send_http_pk_closeconn 10.9.9.1:80/abc</i></p>
<p class="WD_bulletbold">SA_soap_send_http_pkt _keepconn &lt;url containing ip,port,post uri&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to send a http POST request using the previously created http pkt to the specified ip/port and use the uri specified inside the POST request and after sending the request create a client connection and wait for the response and additional packets. This tcl command is also available in the device tcl context.&#160; This can be used in the CWMP simulation.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_send_http_pk_keepconn 10.9.9.1:80/abc</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_clear_plain_text</p>
<p class="WD_bulletbold">SA_xml_clear_plain_text</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the the plain text portion of the response.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_clear_plain_text</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_plain_text</p>
<p class="WD_bulletbold">SA_xml_append_plain_text</p>
<p class="WD_bulletbold">&#160;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the the plain text portion of the response.&#160; This call can be made multiple times to append additional strings.&#160; After each call, a backslash r backslash n is automatically appended.&#160;&#160; This call can be used for the get_action processing to create a simple http response packet.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_plain_text “hello world”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_append_filecontents_to_plain_text&#160; &lt;filename&gt;</p>
<p class="WD_bulletbold">SA_xml_append_filecontents_to_plain_text&#160; &lt;filename&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the contents of the specified file to the plain text portion of the response.&#160;&#160;&#160; This call can be used for the get_action processing to create a simple http response packet.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_append_filecontents_to_plain_text “/tmp/abc.html”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_gethttpuri</p>
<p class="WD_bulletbold">SA_xml_gethttpuri</p>
<p class="WD_Normal3">Gets the value of the uri in the incoming http header.</p>
<p class="WD_Normal3"><i>Example:&#160; set uri [SA_soap_gethttpuri]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_getrequest_hdr_option&#160; &lt;label&gt;</p>
<p class="WD_Normal3">Gets the value of the specified label if present in the incoming http header.</p>
<p class="WD_Normal3"><i>Example:&#160; set connection_type [SA_soap_getrequest_hdr_option “Connection”]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_setthttpreturncodemsg&#160; &lt;num &gt; &lt;msg&gt;</p>
<p class="WD_bulletbold">SA_xml_setthttpreturncodemsg&#160; &lt;num &gt; &lt;msg&gt;</p>
<p class="WD_Normal3">Sets the value of the http response header with the specified return code and message string.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_sethttpreturncodemsg 204 “No Content”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_setthttpresponsefirst line&#160; “string”</p>
<p class="WD_bulletbold">SA_xml_setthttpresponsefirst line&#160; “string”</p>
<p class="WD_Normal3">Sets the value of the first line of the http header with the specified return code and message string.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_sethttprespfirstline "POST /acs HTTP/1.1\r\n"</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_sethttpcontenttype&#160; “string”</p>
<p class="WD_bulletbold">SA_xml_sethttpcontenttype&#160; “string”</p>
<p class="WD_Normal3">Sets the value of the Content Type field in the http header.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_soap_sethttpcontenttype "application/json"</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_xml_request_forwarder &lt;serverip&gt; &lt;port&gt; &lt;timeout_secs&gt;</p>
<p class="WD_Normal3">Tells the simulator to forward any requests that it receives to the specified server/port and wait for the specified timeout secs for a response which is forwarded back to the requestor.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_request_forwarder 192.168.100.1 80 120</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_xml_resp_patch &lt;type&gt; &lt;url&gt; &lt;oldvalue&gt; &lt;newvalue&gt;</p>
<p class="WD_Normal3">Tells the simulator to patch the response for the specified type and url and replace the oldvalue with the newvalue before sending the response back.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_resp_patch GET /sdk 12345&#160; 67890</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_xml_getpostdata</p>
<p class="WD_Normal3">Gets the contents of an incoming&#160; POST.</p>
<p class="WD_Normal3"><i>Example:&#160; set pData [SA_xml_getpostdata]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_addtftpclientcmds</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to also provide the tftp client tcl commands in the soap Tcl interpretor.&#160;&#160; You need to only call this once in the %init_action section.&#160; The SA_tftpget and SA_tftpput commands will then be available for command processing.</p>
<p class="WD_Normal3"><i>Example: SA_soap_addtftpclientcmds</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_get_chunkedflag</p>
<p class="WD_Normal3">Gets the value of the chunked flag setting.</p>
<p class="WD_Normal3"><i>Example:set cflag [SA_soap_get_chunkedflag]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_soap_set_chunkedflag &lt;number&gt;</p>
<p class="WD_Normal3">Sets the value of the chunked flag setting.&#160; This will cause the simulator to use Chunked response instead of ContentLength with the specified chunk length.&#160; By default it is set to 0 and chunked encoding is not used.&#160; The default chunk size used in earlier versions was 32467, but from 20.0, you can specify the chunk size with this xml command.</p>
<p class="WD_Normal3"><i>Example: SA_soap_set_chunkedflag 2000</i></p>
<p class="WD_bulletbold">SA_xml_proxyfwd_ipmap &lt;1/0&gt;</p>
<p class="WD_Normal3">Sets the value of the ipmapping flag.&#160; By default it is set to 0.&#160; If set to 1, then the real server IP, if present in the response, is changed to the proxy IP, prior to forwarding back to the application.</p>
<p class="WD_bulletbold"><i>Example: SA_xml_proxyfwd_ipmap 1</i> SA_soap_set_chunkedflag &lt;1/0&gt;</p>
<p class="WD_Normal3">Sets the value of the chunked flag setting.&#160; This will cause the simulator to use Chunked response instead of ContentLength.&#160; By default it is set to 0.</p>
<p class="WD_Normal3"><i>Example: SA_soap_set_chunkedflag 1</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in;" class="WD_Normal3"><i>Some of the SA_soap_* commands are also available as SA_xml_* commands since support is now present for REST and non SOAP http content.</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="HTTP_Client_Relatedbc-163"></a><a name="HTTP_Client_Related" id="HTTP_Client_Related">HTTP Client Related Commands</a></p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_setserverip</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to connect to the specified server IP.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_setserverip 10.1.1.1</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_getserverip</p>
<p class="WD_Normal3">Gets the currently configured server IP that SimpleAgentPro will connect to.</p>
<p class="WD_Normal3"><i>Example:&#160; set sip [SA_xml_getserverip]</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_setserverport</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to connect to the specified port on the specified server IP.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_setserverport 443</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_getserverport</p>
<p class="WD_Normal3">Gets the currently configured port that SimpleAgentPro will connect to.</p>
<p class="WD_Normal3"><i>Example:&#160; set siport [SA_xml_getserverport]</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_sethttpsflag</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to use https(1) or http(0) depending on the value of the flag.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_sethttpsflag 1</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_gethttpsflag</p>
<p class="WD_Normal3">Gets the currently configured https flag that SimpleAgentPro will use.</p>
<p class="WD_Normal3"><i>Example:&#160; set httpsflag&#160; [SA_xml_gethttpsflag]</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_debugflag &lt;[0/1]&gt;</p>
<p class="WD_Normal3">Sets the debugging flag on or off. Debug information is only written to the file when both the <i>debugflag</i> is enabled and the soap debug file is set.&#160;</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_xml_debugflag 1</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold"><i>SA_xml_debugfile</i> &lt;<i>filename</i>&gt;</p>
<p class="WD_Normal3">Sets the debugging information to be written to the specified file. Debug information is only written to the file when both the <i>debugflag</i> is enabled and the debug file is set.&#160; The file will be typically created in the sapro/debug directory.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_xml_debugfile abcd.dbg</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_debugputs [args]</p>
<p class="WD_Normal3">Dumps the arg string to the debug file if present.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_xml_debugputs “Got here”</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_getmodfile</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the full name of the currently used xml modeling file.</p>
<p class="WD_Normal3"><i>Example:set mysfile [SA_xml_getmodfile]</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_sethttpreqmethod</p>
<p class="WD_Normal3">Tells the SimpleAgentPro the method to specify in the request.&#160; Supports POST, GET, OPTIONS, HEAD, PUT, DELETE, PATCH,TRACE, and CONNECT</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_sethttpreqmethod GET</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_sethttpreqversion</p>
<p class="WD_Normal3">Tells the SimpleAgentPro the version to use in the request.&#160; It uses 1 for verion 1.0, and 2 for version 1.1.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_sethttpreqversion 1</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_sethttprequri</p>
<p class="WD_Normal3">Tells the SimpleAgentPro the uri to specify in the request.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_sethttprequri “/index.html”</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_sethttpreqfirstline</p>
<p class="WD_Normal3">Tells the SimpleAgentPro the entire first line to use in the request instead of specifying individual fields.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_sethttpreqfirstline&#160; “GET /index.html HTTP/1.0”</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_clear_http_hdroptions</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the the http options associated with the request.</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_clear_http_hdroptions</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_append_http_hdroptions &lt;string&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the the http options portion associated with the request.&#160;&#160;&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_append_http_hdroptions "Connection: Close”</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_clear_http_pkt_body</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to clear the clear the body portion associated with the request.&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_clear_http_pkt_body</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_append_http_pkt_body &lt;string&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to append the specified string to the body portion of the request. This call can be made multiple times to append additional strings.&#160;&#160;</p>
<p class="WD_Normal3"><i>Example:&#160; SA_xml_append_body_data "&lt;reqid&gt;123&lt;/reqid&gt;"</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_sethttpbauthuser</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to use the specified user in the basic authentication scheme.</p>
<p class="WD_Normal3"><i>Example: SA_xml_sethttpbauthuser john</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_sethttpbauthpasswd</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to use the specified password in the basic authentication scheme.</p>
<p class="WD_Normal3"><i>Example: SA_xml_sethttpbauthpasswd doe</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_send_http_pkt</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to send the request packet built so far to the specified server.</p>
<p class="WD_Normal3"><i>Example: SA_xml_send_http_pkt</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_gethttpresp_version</p>
<p class="WD_Normal3">Gets the version number from the first line of the response received.</p>
<p class="WD_Normal3"><i>Example: set resp_ver [SA_xml_gethttpresp_version]</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_gethttpresp_status</p>
<p class="WD_Normal3">Gets the status id from the first line of the response received.</p>
<p class="WD_Normal3"><i>Example: set resp_status [SA_xml_gethttpresp_status]</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_gethttpresp_reason</p>
<p class="WD_Normal3">Gets the status reason from the first line of the response received.</p>
<p class="WD_Normal3"><i>Example: set resp_info [SA_xml_gethttpresp_reason]</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_gethttpresp_hdroptions</p>
<p class="WD_Normal3">Gets the tcl list of header options in the response received.</p>
<p class="WD_Normal3"><i>Example: set resp_options [SA_xml_gethttpresp_hdroptions]</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_gethttpresp_pkt_body</p>
<p class="WD_Normal3">Gets the pkt body in the response received as a hex string.</p>
<p class="WD_Normal3"><i>Example: set resp_data [SA_xml_gethttpresp_pkt_body]</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_convhex2str&#160; &lt;hexstring&gt;</p>
<p class="WD_Normal3">Converts the hex string returned by gethttpresp_pkt_body to a string..</p>
<p class="WD_Normal3"><i>Example: set resp_body [SA_xml_gethttpresp_pkt_body];</i></p>
<p class="WD_Normal3"><i>set resp_str [SA_xml_convhex2str $resp_body];</i></p>
<p style=" margin-bottom:12.0pt;" class="WD_bulletbold">SA_xml_getjsonsimpletagval&#160; &lt;jsonmesg&gt; &lt;tag&gt;</p>
<p class="WD_Normal3">Extracts the value for the tag specified from the json message.</p>
<p class="WD_Normal3"><i>Example: set igwid [SA_xml_getjsonsimpletagval $resp_str gateway];</i></p>
<p class="WD_bulletbold">SA_xml_initvaluetype &lt;type&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to initialize a valuetype specified and return a handle to it.&#160; This variable persists across sessions. Currently radomup, clock, sequential, and lastset valuetypes are supported.</p>
<p class="WD_Normal3"><i>Example: set rid [SA_xml_initvaluetype randomup(5000, 100)]</i></p>
<p class="WD_bulletbold">SA_xml_settagforvalue &lt;id&gt; &lt;tag&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to associate a textual tag with the preinitialized valuetype.&#160; This allows the variable to be accessed in the main device context using a name.&#160;</p>
<p class="WD_Normal3"><i>Example: SA_xml_settagforvalue $rid abc</i></p>
<p class="WD_bulletbold">SA_xml_getvalue &lt;id&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the value for a previously initialized valuetype associated with the specified valuetype identifier. Currently radomup, clock, sequential, and lastset valuetypes are supported.</p>
<p class="WD_Normal3"><i>Example: set rvalue [SA_xml_getvalue $rid]</i></p>
<p class="WD_bulletbold">SA_xml_getvaluewithtag &lt;tag&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the value for a previously initialized valuetype associated with the specified tag.&#160; The tag has to have been associated with a preintialized value beforehand. &#160;This tcl command is also available in the main device context.</p>
<p class="WD_Normal3"><i>Example: set rvalue [SA_xml_getvaluewithtag abc]</i></p>
<p class="WD_bulletbold">SA_xml_setvalue &lt;id&gt; &lt;newvalue&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to change the value for a previously initialized valuetype associated with the specified valuetype identifier. Value for only lastset valuetype can be changed.</p>
<p class="WD_Normal3"><i>Example: SA_xml_setvalue $sid newvalue</i></p>
<p class="WD_bulletbold">SA_xml_setvaluewithtag &lt;tag&gt; &lt;newvalue&gt;</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to change the value for a previously initialized valuetype associated with the specified tag. Value for only lastset valuetype can be changed.&#160;&#160;&#160; This command is also available in the device tcl interpretor.</p>
<p class="WD_Normal3"><i>Example: SA_xml_setvaluewithtag abc newvalue</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The Radius Tcl commands are only supported in SimpleAgentEnterprise on Linux.</p>
</div>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Radius_Related_Commandsbc-164"></a><a name="Radius_Related_Commands" id="Radius_Related_Commands">Radius Related Commands</a></p>
<p class="WD_bulletbold"><i>SA_radius_set_server &lt;ip&gt; &lt;port&gt; &lt;secret&gt;</i></p>
<p class="WD_Normal3">Sets the Radius server information to be used in subsequent radius tcl commands.</p>
<p class="WD_Normal3"><i>Example: SA_radius_set_server 192.168.100.52 1812 abc</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold"><i>SA_radius_create_packet &lt;packet_code_value&gt;</i></p>
<p class="WD_Normal3">Creates a packet structure to be used in subsequent radius tcl commands. The values for the packet_code_value come from RFC2865, where accessrequest is 1, accountingrequest is 4, access_challenge is 12, etc..</p>
<p class="WD_Normal3"><i>Example: SA_radius_create_packet 1</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold"><i>SA_radius_add_attr &lt;id&gt; &lt;value&gt;</i></p>
<p class="WD_Normal3">Adds the specified attribute to the previously created packet.&#160; The values for the attribute id come from RFC2865 where username is 1, userpassword is 2, etc..&#160; This tcl command can be called multiple times to add the required attributes to the packet, prior to sending the packet out…</p>
<p class="WD_Normal3"><i>Example: SA_radius_add_attr 1 “myusername”</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold"><i>SA_radius_send_packet</i></p>
<p class="WD_Normal3">Sends the packet created by prior create_packet, and add_attr commands to the server set in the prior set_server call.&#160; This call will return the packet received.</p>
<p class="WD_Normal3"><i>Example: SA_radius_send_packet</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="IPMI_Related_Commandsbc-165"></a><a name="IPMI_Related_Commands" id="IPMI_Related_Commands">IPMI Related Commands</a></p>
<p style=" margin-left:.5in;" class="WD_Normal3">The IPMI modeling file runs in a separate tcl interpretor that has the IPMI&#160; command extensions described below available within it.&#160; In addition some of the common device/snmp related Tcl commands for getting/setting the value of variables and sending traps and getting device information are also available within it.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_bulletbold">SA_ipmi_debugflag&#160; [0/1]</p>
<p class="WD_Normal3">Turns ipmi debugging off/on. 0 turns debugging off, 1 provides a Tcl command trace.</p>
<p class="WD_Normal3"><i>Example:SA_ipmi_debugflag 1</i></p>
<p class="WD_bulletbold">SA_ipmi_debugfile&#160; [filename]</p>
<p class="WD_Normal3">Creates a debug file that contains a trace of the commands executed and the output of the SA_ipmi_debugputs command.</p>
<p class="WD_Normal3"><i>Example:SA_ipmi_debugfile ipmi.dbg</i></p>
<p class="WD_bulletbold">SA_ipmi_debugputs [args]</p>
<p class="WD_Normal3">Dumps the arg string to the debug file if present.</p>
<p class="WD_Normal3"><i>Example:SA_ipmi_debugputs “Came here”</i></p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_bulletbold">SA_ipmi_setdelay [msecs]</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to sleep for the specified time before replying to IPMI&#160; commands.</p>
<p class="WD_Normal3"><i>Example:SA_ipmi_setdelay 500</i></p>
<p class="WD_bulletbold">SA_ipmi_getdelay</p>
<p class="WD_Normal3">Tells the SimpleAgentPro to return the current delay value for processing IPMI&#160; commands.</p>
<p class="WD_Normal3"><i>Example:&#160; set myipmidelay [SA_ipmi_getdelay]</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_getipguid&#160;&#160; 0x0102….</i></p>
<p class="WD_Normal3">Overwrites the first 4 bytes of the template guid specified as an argument with the IPv4 address of the IPMI simulated device.&#160; This helps make the guid of the devices unique even if multiple simulated devices share the same modeling file.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_getipguid 0x0102030405060708090a0b0c0d0e0f</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_getmodfile</i></p>
<p class="WD_Normal3">Returns the name of the associated modeling file.</p>
<p class="WD_Normal3"><i>Example: set mymodfile [SA_ipmi_getmodfile]</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_getreqversion</i></p>
<p class="WD_Normal3">Returns the version of the current request as either “1.5” or “2.0”.</p>
<p class="WD_Normal3"><i>Example: set curreqversion [SA_ipmi_getreqversion]</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_getreqcmd</i></p>
<p class="WD_Normal3">Returns the command in the current request in hex.</p>
<p class="WD_Normal3"><i>Example: set curreqcmd [SA_ipmi_getreqcmd]</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_getreqdata</i></p>
<p class="WD_Normal3">Returns the data field value in the current request in hex.</p>
<p class="WD_Normal3"><i>Example: set curreqdata [SA_ipmi_getreqdata]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_setrespcompcode</i></p>
<p class="WD_Normal3">Sets the response completion code to be used when generating the response.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_setrespcompcode 0x00</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_setrespnetfun</i></p>
<p class="WD_Normal3">Sets the response net function code to be used when generating the response.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_setrespnetfun 0x07</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_clearrespdata</i></p>
<p class="WD_Normal3">Clears the response data buffer that is used when generating the response.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_clearrespdata</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_appendrespdata</i></p>
<p class="WD_Normal3">Appends to the response data buffer that is used when generating the response.&#160; This is used to generate the response.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_appendrespdata 0x01020304</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_setresppkt</i></p>
<p class="WD_Normal3">Sets the entire response packet itself.&#160; This causes the simulator to return the packet as specified without building the response.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_setresppkt&#160; 0x01020304</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_setrecord &lt;record_id&gt; &lt;record_data&gt;</i></p>
<p class="WD_Normal3">Sets the record data for the specified record id.&#160; This is typically done in the %init_action section so that GetRecord requests can be handled based on the records present.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_setrecord&#160; 0x01&#160; 0x01020304</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_setsensorreading &lt;sensor_id&gt; &lt;sensor_data&gt;</i></p>
<p class="WD_Normal3">Sets the sensor data for the specified record id.&#160; This is typically done in the %init_action section so that sensor data requests can be handled based on the readings present.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_setsensorreading&#160; 0x01&#160; 0x01020304</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_setsensorthreshold &lt;sensor_threshold_id&gt; &lt;sensor_threshold_data&gt;</i></p>
<p class="WD_Normal3">Sets the sensor threshold data for the specified record id.&#160; This is typically done in the %init_action section so that sensor threshold&#160; data requests can be handled based on the data present.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_setsensorthreshold&#160; 0x01&#160; 0x01020304</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_setmaxsdrlen &lt;len&gt;</i></p>
<p class="WD_Normal3">Sets the max sdr read len allowed by the device.&#160; By default it is set to 22.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_setmaxsdrlen 22</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_setfruinfo &lt;fru_id&gt; &lt;fru_data&gt;</i></p>
<p class="WD_Normal3">Sets the field replacable unit data for the specified fru id.&#160; This is typically done in the %init_action section so that fru data requests can be handled based on the data present.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_setfruinfo&#160; 0x01&#160; 0x01020304</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_fwd_open&#160; &lt;port&gt; &lt;server_ip&gt; &lt;server_port&gt;</i></p>
<p class="WD_Normal3">Opens up the specified upd port and forwards whatever packets are received on this port to the specified server_ip and server_port.&#160; Whatever response it gets back from the server, it sends it back to the original requestor.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_fwd_open 623 192.168.100.9 623</i></p>
<p class="WD_bulletbold"><i>SA_ipmi_fwd_close</i></p>
<p class="WD_Normal3">Closes up a previously opened ipmi forwarding port.</p>
<p class="WD_Normal3"><i>Example: SA_ipmi_fwd_close</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Netconf_Related_Commandsbc-166"></a><a name="Netconf_Related_Commands" id="Netconf_Related_Commands">Netconf Related Commands</a></p>
<p style=" margin-left:.5in;" class="WD_Normal3">The Netconf modeling file runs in a separate tcl interpretor that has the Netconf command extensions described below available within it.&#160; In addition some of the common device related Tcl are also available within it.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_bulletbold">SA_netconf_debugflag&#160; [0/1/2]</p>
<p class="WD_Normal3">Turns netconf debugging off/on.&#160; 0 turns debugging off, 1 provides incoming and outgoing request/response information, and 2 provides packet traces.</p>
<p class="WD_Normal3"><i>Example:SA_netconf_debugflag 1</i></p>
<p class="WD_bulletbold">SA_netconf_debugfile&#160; [filename]</p>
<p class="WD_Normal3">Creates a debug file that contains debug information.</p>
<p class="WD_Normal3"><i>Example:SA_netconf_debugfile netconf.dbg</i></p>
<p class="WD_bulletbold">SA_netconf_debugputs [args]</p>
<p class="WD_Normal3">Dumps the arg string to the debug file if present.</p>
<p class="WD_Normal3"><i>Example:SAnetconf_debugputs “Came here”</i></p>
<p class="WD_bulletbold">SA_netconf_setdelay &lt;milliseconds&gt;</p>
<p class="WD_Normal3">Sets the delay to be injected in the response processing.&#160; By default it is set to 0.</p>
<p class="WD_Normal3"><i>Example:SA_netconf_setdelay 100</i></p>
<p class="WD_bulletbold">SA_netconf_getdelay</p>
<p class="WD_Normal3">Gets the delay to be injected in the response processing set by prior SA_netconf_setdelay calls.</p>
<p class="WD_Normal3">&#160;<i>Example:set curdelay [SA_netconf_getdelay]</i></p>
<p class="WD_bulletbold">SA_netconf_getmodfile</p>
<p class="WD_Normal3">Gets the name of the modeling file associated with this device.</p>
<p class="WD_Normal3"><i>Example: set myFile [SA_netconf_getmodfile]</i></p>
<p class="WD_bulletbold">SA_netconf_setnshref &lt;string&gt;</p>
<p class="WD_Normal3">Sets the name space identifier to be used in the response.&#160; By default it is set to “urn:ietf:params:xml:ns:netconf:base:1.0”.</p>
<p class="WD_Normal3"><i>Example:SA_netconf_setnshref “</i>urn:ietf:params:xml:ns:netconf:base:1.0”</p>
<p class="WD_bulletbold">SA_netconf_getsessionid</p>
<p class="WD_Normal3">Gets the current session id associated with the session.</p>
<p class="WD_Normal3"><i>Example: set cursession [SA_netconf_getsessionid]</i></p>
<p class="WD_bulletbold">SA_netconf_getreqname</p>
<p class="WD_Normal3">Gets the current request name.</p>
<p class="WD_Normal3"><i>Example: set curRequest [SA_netconf_getreqname]</i></p>
<p class="WD_bulletbold">SA_netconf_getreqparam</p>
<p class="WD_Normal3">Gets the current request parameters.</p>
<p class="WD_Normal3"><i>Example: set curReqParams [SA_netconf_getreqparam]</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_bulletbold">SA_netconf_cleardata</p>
<p class="WD_Normal3">Clears the response buffer data.</p>
<p class="WD_Normal3"><i>Example: SA_netconf_cleardata</i></p>
<p class="WD_bulletbold">SA_netconf_appenddata &lt;string&gt;</p>
<p class="WD_Normal3">Appends the specified string to the response data.&#160; This is used to build the response buffer.</p>
<p class="WD_Normal3"><i>Example: SA_netconf_appenddata “&lt;string&gt;hello world&lt;/string&gt;”</i></p>
<p class="WD_bulletbold">SA_netconf_sendhello</p>
<p class="WD_Normal3">Sends the buffer built so far as a hello packet.</p>
<p class="WD_Normal3"><i>Example: SA_netconf_sendhello</i></p>
<p class="WD_bulletbold">SA_netconf_sendreply</p>
<p class="WD_Normal3">Sends the buffer built so far as a response packet.</p>
<p class="WD_Normal3"><i>Example: SA_netconf_sendreply</i></p>
<p class="WD_bulletbold">SA_netconf_requestforwarder &lt;serverip&gt; &lt;serverport&gt; &lt;user&gt; &lt;passwd&gt; &lt;timeout_in_secs&gt;</p>
<p class="WD_Normal3">Sets up a proxy forwarder connection to the specified serverip/port using the given username and password.&#160; It then forwards requests to the specified server and waits atmost the specified timeout interval for a response which it forwards back to the original requestor. If debugging is turned on then the request/response packets are recorded.</p>
<p class="WD_Normal3"><i>Example: SA_netconf_requestforwarder 192.168.100.9 830 john doe 180</i></p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p style=" margin-left:0in;" class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3"><i>&#160;</i></p>
<p class="WD_Normal3">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Commands_Available_forbc-167"></a><a name="Commands_Available_for" id="Commands_Available_for">Commands Available for Use in Setup Files Only</a></p>
</div>
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">Additional TCL commands are available when the TCL script is evaluated within the map instead of the individual device, as is the case when evaluating certain types of setup files. These commands allow scripts to be written with a network viewpoint, rather than an individual device view point. They are:</span></p>
<p class="WD_Caption">&#160;</p>
<p class="WD_bulletbold"><i>SA_lockdevcontext</i> &lt;<i>device_name/ip_address</i>&gt;</p>
<p class="WD_Normal3">Obtains a lock on the specified device context, and then all subsequent TCL commands are evaluated within the locked device’s context. Always release the device context after you are done since SNMP pdu processing for that device is halted until the device context is locked.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_lockdevcontext 128.100.100.120</i></p>
<p class="WD_bulletbold"><i>SA_releasedevcontext</i></p>
<p class="WD_Normal3">Releases the currently locked device context. All further TCL commands can be viewed as being interpreted within the map TCL interpreter, instead of the device TCL interpreter. SNMP pdu processing for the previously locked device context is once again enabled.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_releasedevcontext</i></p>
<p class="WD_bulletbold"><i>SA_adddevicestomap</i> &lt;<i>map_name</i>&gt;</p>
<p class="WD_Normal3">Starts the devices in the specified map, once a map is running.&#160; This allows you to add new devices to the simulation, in the context of the same process.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_adddevicestomap ../map/map2.map</i></p>
<p class="WD_bulletbold"><i>SA_getdevicelist</i></p>
<p class="WD_Normal3">Returns the list of devices that make up the currently running map.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getdevicelist</i></p>
<p class="WD_bulletbold"><i>SA_getrunningdevicelist</i></p>
<p class="WD_Normal3">Returns the list of currently running devices that make up the currently map.</p>
<p class="WD_Normal3"><i>Example:</i> <i>SA_getrunningdevicelist</i></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">These TCL commands can only be used in the setup file, <i>not</i> the modeling file.</p>
</div>
<b><span style=" font-size:24.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="6" style="font-size:24pt;"><br clear="all" /></font></span></b>
<p style=" margin-left:3.5in; text-indent:0in;" class="WD_chaptitle"><a name="Chapter_12_Telnet_CLIbc-168"></a><a name="Chapter_12_Telnet_CLI" id="Chapter_12_Telnet_CLI">Chapter 12<br />
Telnet/CLI Support</a></p>
<p class="WD_Normal">You can now interact with the simulated devices via Telnet/CLI in addition to SNMP.&#160; Sometimes, some pieces of management information are only available via a device’s command line interface and not available via the SNMP interface.&#160;&#160; In cases like this, a management application might have to interact with the device in multiple ways to get all the management information inside the device.&#160; Also included is a simple Tcl script based interface to “learn” telnet responses to use during the simulation.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">With version 5.5 of SimpleAgentPro, a telnet device can be learnt directly from SimpleAgentPro.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Telnet_Modeling_Filebc-169"></a><a name="Telnet_Modeling_File" id="Telnet_Modeling_File">Telnet Modeling File</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can associate a “*.tel” file with a device in which you can configure the telnet session with the appopriate password, username, banner, command prompt, commands that it understands the appropriate responses to be given for these commands.&#160;&#160; The information in this file (which is similar to the modeling file) is specified via Tcl commands.&#160; The&#160; chapter on Tcl Commands has described the Telnet extensions available.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Like the modeling file, the telnet file also has many sections which allow you to define a tcl script and when the script is to be executed.&#160; All attributes of the telnet simulation can be controlled via tcl commands.&#160;&#160; The telnet modeling file has the following format:</p>
<p class="WD_Normal3">&#160;&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;%init_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted when the telnet session is started.&#160; It typically is the place where you can define the user name, password, command prompt, banner, etc…</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%stop_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted when the telnet session is closed.&#160; It typically is the place where you can do some cleanup if required.</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160; %before_cmd_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">The Tcl script will get interpreted prior to the cmd_action being interpreted.&#160;&#160; It might be useful when collating similar commands together into one procedure.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%cmd_action &lt;cmd_string&gt;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This construct is the heart of the telnet simulator.&#160; The Tcl script will get interpreted when the associated cmd_string is typed and the carriage return is pressed.&#160; The script can specify what the output of the command should be, by using SA_telnet_puts commands.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;%after_cmd_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">The Tcl script will get interpreted after the cmd_action is interpreted.&#160;&#160; It might be useful when collating similar commands together into one procedure.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%after_login_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">The Tcl script will get interpreted after the user has logged in.&#160; You can specify command prompt changes or set user specific variables in this script.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%after_addlogin_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">The Tcl script will get interpreted after the user has logged in using the additional login feature (like enable in Cisco IOS).&#160; You can specify command prompt changes or set user specific variables in this script.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%ctrlshiftsix_x_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The Tcl script will get interpreted when the user presses the special control-shift-six-x key sequence.&#160; You can specify command prompt changes or set user specific variables in this script. The input buffer is cleared.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%default_cmd_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The Tcl script will get interpreted if none of the specified commands match with the input string.</p>
<p style=" margin-left:0in;" class="WD_Normal3">%context_cmd_action &lt;context_name&gt; &lt;cmd_string&gt;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The Tcl script will get interpreted if the SA_telnet_setcontext is set.&#160; Until the context is unset, the entered command string, is compared by prepending it with the current context name and the corresponding context_cmd_action script is interpreted.&#160; This is useful for devices with multiple domains/contexts and you can switch from one domain to another and run similar commands but get different outputs based on the current context.</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">Version 19.0 adds support for Netconf command processing within the telnet interpretor.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%netconf_cmd_action &lt;command_type&gt;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The Tcl script will get interpreted upon receiving a netconf client request containing the associated command type (like get, get-config….).</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A sample c1538.tel in the &lt;install_dir&gt;/telnet directory is shown below.&#160; It simulates the telnet interaction for a Cisco hub.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # turn debugging on at the beginning.&#160; later on turn it</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # off for better performance</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_debugflag 1</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_debugfile tel.dbg</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # set the banner text</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setbanner&#160; "\r\n\r\n\Cisco console system\r\n\r\n&#160;&#160;&#160;&#160;&#160; CLI session with hub is open.\r\n&#160;&#160;&#160;&#160;&#160; To end the CLI session, enter \[Exit\].\r\n\</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">r\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # enable login</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setloginmode&#160; 1</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # set the allowed user</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setloginuser admin</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # set the valid password for the above user</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setloginpasswd abc</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # set valid password for enable mode</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setaddloginpasswd bigfish</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # this is an example of the telnet tcl code accessing the</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # snmp mib data.</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # now get the value of sysName and use it as the command prompt</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; set varbind [SA_getvar {sysName.0}]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; set vb1 [lindex $varbind 0]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; set val1 [lindex $vb1 2]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setcmdprompt&#160; "$val1 &gt;"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># processing of "show version" command</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action&#160; show version</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Cisco 1538M Enterprise Edition Software"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Version 1.00.00"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Copyright (c) Cisco Systems, Inc. 1993-1999"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "ROM: System Bootstrap, Version 1.01.00"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Host uptime is 0day(s) 1hour(s) 52minute(s) 34second(s)"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "MPC860N processor with 4096K bytes of memory"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Hardware board revision is 3"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Upgrade Status: No upgrade currently in progress"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Base Ethernet Address: 00-90-F2-B0-3B-0f"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Serial number: ACT034103VV"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># processing of "show interfaces" command with additional arguments</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># like $SAtcmd(3) being used in the output.&#160; $SAtcmd(0) would have</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># been "show", $SAtcmd(1) would have been set to "interfaces" etc...</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action&#160; show interfaces fastethernet</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Fastethernet $SAtcmd(3) is link-off"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Hardware is built in 10Base-Tx"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Description:"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Port Admin: Enabled"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Port Partition: not Auto Partitioned"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Port Operation: not operational"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Speed admin: Auto Negotiation"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Speed status: 10M"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Last Source MAC Address: 00-00-00-00-00-00"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts ""</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Counters"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "------------------------------------------------------------"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Bytes Received&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0&#160; Frames Received&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "CRC Errors&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0&#160; Allignment Errors&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Frames Too Long&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0&#160; Short Events&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Port Runts&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0&#160; Collisions&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Late Events&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0&#160; Date Rate Mismatches&#160;&#160;&#160;&#160;&#160;&#160; 0"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Auto Partitions&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;0&#160; Total Errors&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># processing of Exit to close connection</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action&#160; Exit</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_closeconnection</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action&#160; exit</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_closeconnection</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># processing additional login</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action&#160; enable</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setaddloginmode 2</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># doing action after the additional login is successful</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%after_addlogin_action</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # change the prompt to have a #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; set varbind [SA_getvar {sysName.0}]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; set vb1 [lindex $varbind 0]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; set val1 [lindex $vb1 2]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setcmdprompt&#160; "$val1 #"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># processing exit from enabled mode</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action&#160; disable</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # change the prompt back</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; set varbind [SA_getvar {sysName.0}]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; set vb1 [lindex $varbind 0]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; set val1 [lindex $vb1 2]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setcmdprompt&#160; "$val1 &gt;"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Starting with SimpleAgentPro 5.5, to have telnet support, you need to get a MODULEKEY from SIMPLESOFT for your machine, and add it to the config.inp file.</p>
</div>
<b><span style=" font-size:24.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="6" style="font-size:24pt;"><br clear="all" /></font></span></b>
<p class="WD_Normal">In version 11.5, support was added for wildcards in the cmd_string.&#160;&#160; This allows you to have one command action for various commands whose output only varies slightly, based on the arguments specified.&#160; The wild cards are specified as *** (3 asterisks in a row)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">So rather than having 5000 commands that look like this<br />
<br />
<span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;"># processing of "show interface Loopback0 | include Scramble | loopback"<br />
#<br />
%cmd_action show interface Loopback0&#160; | include Scramble | loopback<br />
&#160; SA_telnet_puts "show interface Loopback0&#160;| include Scramble | loopback "<br />
&#160; SA_telnet_puts "&#160; Encapsulation LOOPBACK, loopback not set"</font></span><span style=" font-size:9.0pt; line-height:115%; color:#333399;"><font size="1" color="#333399" style="font-size:9.000000pt;"><br />
<br /></font></span><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">.....<br />
<br />
# processing of "show interface Loopback5000|include Scramble|loopback"<br />
#<br />
%cmd_action show interface Loopback5000&#160;| include Scramble | loopback<br />
&#160; SA_telnet_puts "show interface Loopback5000 | include Scramble | loopback "<br />
&#160; SA_telnet_puts "&#160; Encapsulation LOOPBACK, loopback not set"</font></span><span style=" color:#333399;"><font color="#333399" ><br />
<br />
<br /></font></span><span style=" color:black;"><font color="black" >You can simply have one command</font></span></p>
<p class="WD_Normal"><span style=" color:black;"><font color="black" >&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;"># processing of "show interface LoopbackNNN|include Scramble|loopback"<br />
#<br />
%cmd_action show interface Loopback***&#160;| include Scramble | loopback<br />
&#160; SA_telnet_puts "show interface $SAtcmd(2) | include Scramble | loopback "<br />
&#160; SA_telnet_puts "&#160; Encapsulation LOOPBACK, loopback not set"</font></span><span style=" color:black;"><font color="black" ><br />
<br />
Cases where space based formatting is necessary can be accomplished by using the tcl format command as</font></span></p>
<p class="WD_scripts">set tagname [format "%-22s" $SAtcmd(3)]</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts"><br />
<br /></p>
<p class="WD_Normal">In version 19.5, support was added to support multiple explicit commands to take care of cases where the wildcards match too many variations.&#160;&#160; This allows you more finer control.&#160;&#160; Things that are part of an exact match can be put in quotes.&#160;</p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;"># processing of "sh ver”,”show ver”,”show version” all sharing the same response<br />
#<br />
%cmd_action “sh ver”,”show ver”,”show version”<br />
&#160; SA_telnet_puts "…”</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Learning_Telnet_CLI_frombc-170"></a><a name="Learning_Telnet_CLI_from" id="Learning_Telnet_CLI_from">Learning Telnet/CLI from Device</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;Telnet→Learn From Device..</span> <b>&#160;</b></i>submenu allows you to talk with a device by sending it telnet commands and records the device’s responses into a file in the format that is required by the SimpleAgentPro for subsequent simulation.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="521" height="546" src="pro_205_files/image119.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_58_Learning" id="Figure_58_Learning">Figure</a> 58:&#160; Learning Telnet responses from Device..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Output Telnet File</p>
<p class="WD_Normal">Specify the name of the output file that you want to contain the telnet configuration commands generated by the SimpleAgentPro.&#160; If the file exists, its contents will be overwritten.</p>
<p class="WD_MIBObject">Output Include File</p>
<p class="WD_Normal">Specify the name of a tcl file that contains additional information to customize the telnet learning process.&#160; Tcl variables like preloginflag, preloginpromtchar, preloginstring can be specified in this file to take care of cases where some input needs to be specified prior to getting the login prompt.</p>
<p class="WD_MIBObject">Timeout</p>
<p class="WD_Normal">Specify the timeout value for response to each command sent to the Teacher Telnet Server.</p>
<p class="WD_MIBObject">Teacher Telnet Server</p>
<p class="WD_Normal">Specify the Teacher Telnet server IP Address and the Port on which it is listening.</p>
<p class="WD_MIBObject">More Strings</p>
<p class="WD_Normal">Sometimes when the response is too large, the device breaks it up and puts a “—More—“ type of string at the end, expecting the user to press a key to continue to see the rest of the output.&#160; To learn the entire reponse, you can specify the string to look for, and when SAPro sees it, it will send a character over, causing the device to send the next pag.&#160; So specify the string “—More—“ if that matches the string retuned by the device.</p>
<p class="WD_MIBObject">User Prompt</p>
<p class="WD_Normal">If this option is on, specify the last character of the user prompt in the prompt character field and a valid user name to be used for login. The learner will wait until it receives the user prompt character and then respond with the specified user name. Turn off this option if the device does not prompt for the user.</p>
<p class="WD_MIBObject">Password Prompt</p>
<p class="WD_Normal">If this option is on, specify the last character of the password prompt in the prompt character field and a valid password to be used for login. The learner will wait until it receives the password prompt character and then respond with the specified password. Turn off this option if the device does not prompt for the password.</p>
<p class="WD_MIBObject">Add Login</p>
<p class="WD_Normal">If this option is on, specify the command for additional login that allows priviledged access. Also, specify the last character of the password prompt in the password prompt character field and a valid password to be used for additional login. If the specified additional login command is present in the list of commands specified in the “commands” field, the learner wait for the prompt character after sending that command and will then respond with the specified password. Turn off this option if the device does not prompt for additional login.</p>
<p class="WD_MIBObject">Command Prompt Characters</p>
<p class="WD_Normal">Specify the last character of the command prompt. The learner allows you to specify up to two such characters.</p>
<p class="WD_MIBObject">Commands</p>
<p class="WD_Normal">Specify the commands for which the response needs to be learnt from the Teacher Server. Specify one command per line.&#160; Version 19.0 adds support for a few special keywords: %CMDCOMP%, %RCMDCOMP%, %TCMDCOMP%, %ADDTOINIT%, and %ADDTOFILE%.&#160;&#160;&#160;</p>
<p class="WD_Normal">“show %CMDCOMP%”&#160; will send “show ?” to the device and extract the first columns of the options returned like “cdp, history, version” etc, and then automatically send “show cdp”, “show history” and “show version”.&#160; The list of words that it ignores is specified in a global tcl variable called <b>cmdstoignore</b>, and it is set to ignore WORD, LINE, exit and |.&#160;&#160; In case of ranges being returned, like &lt;1-50&gt;, the learner will send “show 1”, “show 2” and “show 3”, where the number of min+ values sent is determined by a global tcl variable called <b>rangecount</b>.</p>
<p class="WD_Normal">%RCMDCOMP% sends the commands recursively and stops when it gets &lt;cr&gt;.&#160; So “show %RCMDCOMP%” will first send “show ?” and then when it gets “cdp, history, version” it will then send “show cdp ?”, “show history ?”, “show version ?” to get additional options.&#160; If one of the options returned for “show history &gt;” was &lt;cr&gt;, then it will send the “show history” command and learn the response.</p>
<p class="WD_Normal">%TCMDCOMP% saves the&#160; list of options returned in a global tcl variable <b>cmdcomplist</b>.&#160; The values in it can be parsed and new commands inserted in the command list with the help of tcl variables <b>commandlist</b> and <b>curcmdindex</b> and a helper procedure called <b>insert_command</b>.&#160; So doing something like “show %TCMDCOMP%” followed by “%tclscript set commandlist [linsert $commandlist [expr $curcmdindex + 1] \"show [lindex $cmdcomplist 0]\"];” will get the 0<sup>th</sup>(1<sup>st</sup>) elemen of cmdcomplist and create a new command “show cdp” and add it to the commandlist after the current command.&#160; “%tclscript set newcmd \"show [lindex $cmdcomplist 2]\";insert_command $newcmd;” uses the insert_command helper procedure to insert the new command created which concatenates the 3<sup>rd</sup> element of the list to the”show” command. %TCMDCOMP% uses a global variable tcmdstoignore to determine which commands to skip.&#160; It returns WORD and LINE so that they can be replaced in the script and only skips exit and |.</p>
<p class="WD_Normal">%ADDTOINIT% adds the information following this command to the %init_action section.</p>
<p class="WD_Normal">%ADDTOFILE% adds the information following this command to the output telnet modeling file at the current time in the processing.</p>
<p class="WD_MIBObject">Status</p>
<p class="WD_Normal">The Status Window shows the status of the telnet learning process and the command that it is currently processing.</p>
<p class="WD_MIBObject">Start</p>
<p class="WD_Normal">Click the Start button to initiate the telnet learning process. The old contents of the output file will be lost, and a new output file will be created.</p>
<p class="WD_MIBObject">Stop</p>
<p class="WD_Normal">Click the Stop button to stop the telnet learning process.</p>
<p class="WD_MIBObject">Done</p>
<p class="WD_Normal">Click the Done button to exit from the <i>Learn Telnet from Device</i> screen and return to SimpleAgentPro screen. If the telnet learning is in progress, click <i>Done</i> to stop it</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Learning_Telnet_CLIbc-171"></a><a name="Learning_Telnet_CLI" id="Learning_Telnet_CLI">Learning Telnet/CLI using a Proxy</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Sometimes the list of telnet commands sent by the application to the real device are not known or easily determined.&#160; The <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;Telnet→Record and Create..</span> <b>&#160;</b></i>submenu allows you to create a proxy device that simply forwards requests that it gets to a real device and returns its responses while recording the request/response interaction.&#160; This recording can then be parsed to create a telnet modeling file.&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="404" height="625" src="pro_205_files/image121.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_59_Learning" id="Figure_59_Learning">Figure</a> 59:&#160; Learning Telnet responses in Proxy mode..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Proxy IP</p>
<p class="WD_Normal">Specify the IP address of the simulated device that will get created by SAPro.&#160; This is the IP address that your application will talk with as if it were a real device.</p>
<p class="WD_MIBObject">Real Server IP</p>
<p class="WD_Normal">Specify the IP address of the real device that the proxy will forward requests to and get responses from.&#160;&#160; This devices’s responses will get learnt and forwarded to your application.</p>
<p class="WD_MIBObject">Telnet Port</p>
<p class="WD_Normal">Specify the tcp port of the real device that the proxy will connect to.&#160; By default it is set to 23 which is the same as the Proxy IP port.</p>
<p class="WD_MIBObject">SSH&#160; Port</p>
<p class="WD_Normal">Support for SSH based learning has been added in version 19.5.&#160;&#160; Specify theSSH port of the real device that the proxy will connect to.&#160; By default it is set to 22 which is the same as the Proxy IP port.</p>
<p class="WD_MIBObject">SSH&#160; Username</p>
<p class="WD_Normal">Specify theSSH username to be used to connect with the real server IP/device over SSH.</p>
<p class="WD_MIBObject">SSH&#160; Password</p>
<p class="WD_Normal">Specify theSSH password to be used to connect with the real server IP/device over SSH.</p>
<p class="WD_MIBObject">Ouptut File Type</p>
<p class="WD_Normal">Specify the output file type.&#160; It is currently always set to “Telnet Modeling” file format.</p>
<p class="WD_MIBObject">Output File</p>
<p class="WD_Normal">Specify the name of the telnet modeling file to to be created based on the learnt request/response interaction.</p>
<p class="WD_MIBObject">Auto Stop</p>
<p class="WD_Normal">Specify the optional time after which to stop forwarding requests and collecting responses and then converting the recorded information into the modeling file.&#160; You can also click on “Stop” to stop the proxy mode.</p>
<p class="WD_MIBObject">Status</p>
<p class="WD_Normal">The Status Window shows the status of the telnet learning/forwarding process and the command that it is currently processing.</p>
<p class="WD_MIBObject">Start</p>
<p class="WD_Normal">Click the Start button to initiate the telnet learning/forwarding process. The old contents of the output file will be lost, and a new output file will be created.</p>
<p class="WD_MIBObject">Stop</p>
<p class="WD_Normal">Click the Stop button to stop the telnet learning process.</p>
<p class="WD_MIBObject">Done</p>
<p class="WD_Normal">Click the Done button to exit from the <i>Record and Create from Device</i> screen and return to SimpleAgentPro screen. If the telnet learning/forwarding is in progress, click <i>Done</i> to stop it</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Learning_Multiplebc-172"></a><a name="Learning_Multiple" id="Learning_Multiple">Learning Multiple Protocols using a Proxy</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Sometimes the Management application uses a variety of protocols to interrogate the device and gather information from it.&#160; It might start off with sending SNMP queries, and then based&#160; on the responses received, it might follow up with Telnet or Netconf or HTTP queries.&#160; Thus just a Telnet or Netconf or HTTP proxy forwarder might not be enough, but the proxy forwarder would need to support multiple protocol forwarding.</p>
<p class="WD_Normal">The <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;Multi Protocol→Record and Create..</span> <b>&#160;</b></i>submenu allows you to create a proxy device that forwards requests for many protocols to a real device and returns its responses while recording the request/response interaction for all the protocols.&#160; This recording can then be parsed to create the corresponding protocol specific modeling/data files used for simulation.&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="369" height="701" src="pro_205_files/image123.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_60_Learning_Multi" id="Figure_60_Learning_Multi">Figure</a> 60:&#160; Learning Multi Protocol responses in Proxy mode..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Proxy IP</p>
<p class="WD_Normal">Specify the IP address of the simulated device that will get created by SAPro.&#160; This is the IP address that your application will talk with as if it were a real device.</p>
<p class="WD_MIBObject">Real Server IP</p>
<p class="WD_Normal">Specify the IP address of the real device that the proxy will forward requests to and get responses from.&#160;&#160; This devices’s responses will get learnt and forwarded to your application.</p>
<p class="WD_MIBObject">Prefix Output File Name</p>
<p class="WD_Normal">Specify the prefix to be prepended to all the output data and modeling files created.</p>
<p class="WD_MIBObject">SNMP Port</p>
<p class="WD_Normal">Specify if SNMP requests are to be forwarded and the port to be used.&#160; By default it is set to 161.</p>
<p class="WD_MIBObject">Telnet Port</p>
<p class="WD_Normal">Specify if Telnet requests are to be forwarded and the port to be used.&#160; By default it is set to 23.</p>
<p class="WD_MIBObject">SSH&#160; Port</p>
<p class="WD_Normal">Specify if SSH requests are to be forwarder and the port to be used.&#160; BY default it is set to 22.</p>
<p class="WD_MIBObject">SSH&#160; Username</p>
<p class="WD_Normal">Specify theSSH username to be used to connect with the real server IP/device and the proxy if SSH is enabled.</p>
<p class="WD_MIBObject">SSH&#160; Password</p>
<p class="WD_Normal">Specify theSSH password to be used to connect with the real server IP/device and the proxy if SSH is enabled.</p>
<p class="WD_MIBObject">HTTP Port</p>
<p class="WD_Normal">Specify if HTTP requests are to be forwarded and the port to be used.&#160; By default it is set to 80.</p>
<p class="WD_MIBObject">HTTPs Port</p>
<p class="WD_Normal">Specify if HTTPs requests are to be forwarded and the port to be used.&#160; By default it is set to 443.&#160;</p>
<p class="WD_MIBObject">HTTP Ouptut File Type</p>
<p class="WD_Normal">Specify the http/https output file type.&#160; You can chose to create a modeling file or a playback file.</p>
<p class="WD_MIBObject">Netconf&#160; Port</p>
<p class="WD_Normal">Specify if Netconf requests are to be forwarder and the port to be used.&#160; BY default it is set to 830.</p>
<p class="WD_MIBObject">Netconf&#160; Username</p>
<p class="WD_Normal">Specify theNetconf username to be used to connect with the real server IP/device and the proxy if&#160; Netconf is enabled.</p>
<p class="WD_MIBObject">Netconf&#160; Password</p>
<p class="WD_Normal">Specify the Netconf&#160; password to be used to connect with the real server IP/device and the proxy if Netconf is enabled.</p>
<p class="WD_MIBObject">Status</p>
<p class="WD_Normal">The Status Window shows the status of the learning/forwarding process and the command that it is currently processing.</p>
<p class="WD_MIBObject">Start</p>
<p class="WD_Normal">Click the Start button to initiate the learning/forwarding process. The old contents of the output file will be lost, and a new output file will be created.</p>
<p class="WD_MIBObject">Stop</p>
<p class="WD_Normal">Click the Stop button to stop the telnet learning process.</p>
<p class="WD_MIBObject">Done</p>
<p class="WD_Normal">Click the Done button to exit from the <i>Record and Create from Device</i> screen and return to SimpleAgentPro screen. If the learning/forwarding is in progress, click <i>Done</i> to stop it.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p style=" margin-left:3.4in; text-indent:0in;" class="WD_chaptitle">Chapter 13<br />
<a name="Chapter_13_Http_Httpsbc-173"></a><a name="Chapter_13_Http_Https" id="Chapter_13_Http_Https">Http/Https Support</a></p>
<p class="WD_Normal">In addition to SNMP, you can interact with the simulated devices via Http and Https.&#160; Sometimes, some pieces of management information are only available via a device’s http and https interface and not available via the SNMP interface.&#160;&#160; In cases like this, a management application might have to interact with the device in multiple ways to get all the management information inside the device.&#160;</p>
<p class="WD_Normal">With version 8.0 of SimpleAgentPro, a http device can be learnt directly from SimpleAgentPro.</p>
<p class="WD_Normal">Starting with Version 14.0, an embedded HTTP and HTTPs(on linux) is part of the simulated device under the XML based management tab and can be used instead.&#160; Support for this mode is preserved purely for backward compatibility for existing customers using this mechanism.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Installing_The_Apachebc-174"></a><a name="Installing_The_Apache" id="Installing_The_Apache"></a>Installing The Apache Web Server</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In order to simulate http and https device, you need to first install the Apache Web Server. This Web Server is available in the public domain from the website <a href="http://www.apache.org/">www.apache.org</a>. If you need to simulate https devices, you need to make sure that you download (or build) a server that has SSL support. Pre-built versions are also available at <a href="http://www.devside.net/">http://www.devside.net</a>.&#160; SAPro requires an older version of Apache (2.0). Once you have installed the Web Server, and have tested that it is working, you need to follow the following additional steps for Apache to properly interface with SimpleAgentPro :</p>
<p class="WD_Heading2"><a name="Modify_Apache_“httpdbc-175"></a><a name="Modify_Apache_“httpd">Modify Apache “httpd.conf” file</a></p>
<p class="WD_Normal">Whenever you simulate devices that support the http/https protocol, SimplAgentPro adds/removes the information about that devices from the file “httpd.conf” located in the “http” directory under the SimpleAgentPro installation directory. It then restarts the</p>
<p class="WD_Normal">Apache Web Server which in turn reads this configuration file since it was specified as an include file in its own “httpd.conf” file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Thus, once you have installed the Apache Web Server, you need to modify the “httpd.conf” file which is located in the “conf” directory under the directory where you have installed Apache. At the end of this file, you need to include the SimpleAgentPro “httpd.conf” file. The statement should be as follows :</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span style=" font-family:'Times New Roman' ,'serif';">include “&lt;SimpleAgentPro Directory&gt;/http/httpd.conf”</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Heading2"><a name="Modify_“config_inp”_filebc-176"></a><a name="Modify_“config_inp”_file">Modify “config.inp” file</a></p>
<p class="WD_Normal">In order to restart the Apache Web Server, SimpleAgentPro need to know the path to the web server. This is specified in the config.inp file. Add a line as follows :</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span style=" font-family:'Times New Roman' ,'serif';">APACHEWEBSERVER=&lt;whole path to the apache web server&gt;</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The name you specify here is not only the directory where the server is located but also the name of the executable.</p>
<p class="WD_Heading2"><a name="Start_the_Web_Serverbc-177"></a><a name="Start_the_Web_Server" id="Start_the_Web_Server">Start the Web Server (Solaris Only)</a></p>
<p class="WD_Normal">On Solaris, if the Apache Web Server was never started before and then it is started with the “restart” option, it will not start with the SSL functionality. Thus if you wish to simulate https devices, you will need to have started the Apache Web Server in the SSL mode before starting any simulations inside of SimpleAgentPro.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">To enable http/https support, you need to get a MODULEKEY from SIMPLESOFT for your machine, and add it to the config.inp file.</p>
<p class="WD_note">For Windows, Apache must be installed as a service so that the device configurations will be automatically add to the HTTPd server. To do that invoke the following command in a Command Prompt window:</p>
<p class="WD_note"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; apache –k install</span></p>
</div>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Configuring_The_Tclbc-178"></a><a name="Configuring_The_Tcl" id="Configuring_The_Tcl">Configuring The Tcl HTTPd Server</a></p>
</div>
<p class="WD_Normal">In addition to the Apache HTTPd server, the Tcl HTTPd server is also supported. The server is included with the SimpleAgentPro installation and can be found in:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span style=" font-family:'Times New Roman' ,'serif';">&lt;SimpleAgenPro Directory&gt;/tcllib/tclhttpd</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To enable the use of the Tcl HTTPd in the SimpleAgentPro, include the following line in the application’s “config.inp” file found in the SimpleAgentPro’s bin directory:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">HTTPDTYPE=TCL</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">When this is done, for each device configured with HTTP/HTTPs, the SimpleAgentPro updates a file called, “sapro.rc,” to include each of these devices as a virtual host. Several other directories are also created:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:1.5in; text-indent:-1.5in;" class="WD_Normal">htdocs:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Default document root directory</p>
<p style=" margin-left:1.5in; text-indent:-1.5in;" class="WD_Normal">htdocs/cgi-bin:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Default CGI directory</p>
<p style=" margin-left:1.5in; text-indent:-1.5in;" class="WD_Normal">log:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Contains the Tcl HTTPd log files</p>
<p style=" margin-left:1.5in; text-indent:-1.5in;" class="WD_Normal">custom:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Includes all additional Tcl libraries and packages to customize the server’s capabilities.</p>
<p style=" margin-left:1.5in; text-indent:-1.5in;" class="WD_Normal">config:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Includes configuration files that point to the devices document root directory</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">As shipped, the server is configured to open a secure HTTPd socket on port 443, but to enable the server’s secure HTTP capabilities, you will have to install a Tcl TLS package (version 1.4 or greater Tcl SSL interface), which can easily be found on the Web. Copy the TLS package into the server’s library directory:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span style=" font-family:'Times New Roman' ,'serif';">&lt;SimpleAgentPro Directory&gt;/tcllib/tclhttpd/tcllib/tls</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">And update the <i>pkgIndex.tcl</i> file in the same directory to include the tls package. Copy the server’s certificates into:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span style=" font-family:'Times New Roman' ,'serif';">&lt;SimpleAgentPro Directory&gt;/tcllib/tclhttpd/cert</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The Tcl HTTPd must be started manually, once all the SimpleAgentPro maps have started. For your convenience, you can find a batch file in the SimpleAgentPro’s bin directory to start server. It is set up to configure the server to read the <i>sapro.rc</i> configuration file. The batch file is called, “starttclhttpd.” For more information on the Tcl HTTPd, point your Web browser to:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><i>http://www.tcl.tk/software/tclhttpd/</i></p>
<b><span style=" font-size:18.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="5" style="font-size:18pt;"><br clear="all" /></font></span></b>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Learning_Http_from_Devicebc-179"></a><a name="Learning_Http_from_Device" id="Learning_Http_from_Device">Learning Http from Device</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;Http→Learn From Device..</span> <b>&#160;</b></i>submenu allows you to talk with a web server by sending it http commands and recording the device’s responses into html and cgi files for subsequent simulation.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="362" height="347" src="pro_205_files/image125.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Caption"><a name="Figure_61_Learning_Http" id="Figure_61_Learning_Http">Figure</a> 61:&#160; Learning Http responses from Device..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Document Root</p>
<p class="WD_Normal">Specify the name of the directory where the learnt html files are to be stored.&#160; If the specified URLs to be learnt contain a path that has additional directories, new directories will be created under the Document Root directory.</p>
<p class="WD_MIBObject">Script Root</p>
<p class="WD_Normal">Specify the name of the directory where the learnt scripts files are to be stored.</p>
<p class="WD_MIBObject">Interpreter Type</p>
<p class="WD_Normal">Whenever, a response is received by invoking a script on the web server, SimpleAgentPro will generate a script that can replay that response when device simulation starts. This generated script is writin the “Interperter Type” format. Currently, SimpleAgentPro only supports the “Perl” format.</p>
<p class="WD_MIBObject">Interpreter Path</p>
<p class="WD_Normal">Specify here the path to the interpreter. This should also include the executable name.</p>
<p class="WD_MIBObject">URLs</p>
<p class="WD_Normal">This is where you specify the URLs that are to be learnt.</p>
<p class="WD_MIBObject">Status</p>
<p class="WD_Normal">The Status Window shows the status of the http learning process and the URL that it is currently processing.</p>
<p class="WD_MIBObject">Start</p>
<p class="WD_Normal">Click the Start button to initiate the http learning process.</p>
<p class="WD_MIBObject">Stop</p>
<p class="WD_Normal">Click the Stop button to stop the http learning process.</p>
<p class="WD_MIBObject">Done</p>
<p class="WD_Normal">Click the Done button to exit from the <i>Learn Http File from Device</i> screen and return to SimpleAgentPro screen. If the http learning is in progress, click <i>Done</i> to stop it</p>
<b><span style=" font-size:24.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="6" style="font-size:24pt;"><br clear="all" /></font></span></b>
<p style=" margin-left:4.1in; text-indent:0in;" class="WD_chaptitle">Chapter 14<br />
<a name="Chapter_14_SSH_Supportbc-180"></a><a name="Chapter_14_SSH_Support" id="Chapter_14_SSH_Support">SSH Support</a></p>
<p class="WD_Normal">You can now interact with the simulated devices via SSH in addition to SNMP, Telnet/CLI, HTTP and TL1.&#160; Often times, the older Telnet/CLI interface is made available via SSH to ensure better security and privacy.&#160;&#160; SimpleAgentPro now supports SSH and makes the Telnet/CLI interface described earlier, available to management applications via SSH.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The SimpleAgentPro saprosshd extends the popular openssh executable and hooks it up with the SimpleAgentPro’s CLI simulation.&#160; Existing SSH users and functionality is preserved and requests not made to the simulated devices are handled as before.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 3.0pt 0in; margin-left:0in; margin-right:.2in;">
<p style="
margin-right:0in;
border:none;
padding:0in;
border-width:4px;" class="WD_note"><span style="padding: 0in; ">Saprosshd is not generally available for export and can be obtained from SimpleSoft separately. It is not included in the installation.</span></p>
</div>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Installing_Openssh_Onbc-181"></a><a name="Installing_Openssh_On" id="Installing_Openssh_On">Installing Openssh On Linux</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You need to have openssh installed on your workstation prior to using the SSH support within SimpleAgentPro.&#160; Most Linux distributions come with openssh.&#160;&#160; So you do not need to install anything new.&#160; Simply stop the currently running sshd process and then start the saprosshd process instead.&#160; .</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To stop an already running opensshd process on your machine:</p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> ps –e | grep ssh</p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> kill –9 &lt;pid_of_sshd&gt;</p>
<p style=" margin-left:.75in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Starting_Sapro’s_sshd_onbc-182"></a><a name="Starting_Sapro’s_sshd_on">Starting Sapro’s sshd on Linux</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For using SAPro’s modified sshd program on Linux, make sure you are logged in as root and follow the steps below:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">First extract the modified sshd in the /tmp directory</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> cd /tmp</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> mv sshd_gz_wo_ext sshd.gz</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> gunzip sshd.gz</p>
<p style=" margin-left:.25in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">Now save the original sshd and copy the new one in its place.&#160; Make sure you have killed sshd before, and it is no longer running.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> cd /usr/sbin</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> cp sshd sshd.original</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> cp /tmp/sshd .</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Create a file in the /etc called ssh_sapro.&#160; Edit it and have one line in it that gives the full path to the saprossh.ini file located in your sapro/saent installation’s bin directory.&#160; For eg</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> vi /etc/ssh_sapro</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160; and add a line to the file which gives the path, like</p>
<p style=" margin-left:.5in;" class="WD_Normal">/opt/sapro/bin/saprossh.ini</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Copy the ssh* config files in the /etc directory to /usr/local/etc directory</p>
<p style=" margin-left:.25in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> cd /usr/local</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> mkdir etc</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> cd etc</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> cp /etc/ssh/* .</p>
<p style=" margin-left:.25in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">Now, you can start sshd as before</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> /usr/sbin/sshd</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">And the modified sshd will get started.&#160; When connections are made to the simulated devices, it will look up the saprossh.ini file specified in the /etc/ssh_sapro file and look for entries for the particular simulated device to find out the username/password, the port to connect internally with the telnet simulator and any ssh version string if present.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Starting with SimpleAgentPro 8.0, to have SSH support, you need to get a MODULEKEY from SIMPLESOFT for your machine, and add it to the config.inp file.&#160; If you need additional dynamic libraries, please contact SimpleSoft.</p>
</div>
<p class="WD_Chapter">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Installing_Openssh_On1bc-183"></a><a name="Installing_Openssh_On1" id="Installing_Openssh_On1">Installing Openssh On Windows</a></p>
</div>
<p class="WD_Normal">You need to install Cygwin in order to support SSH on Windows.&#160; The installation instructions are given below:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">1) First Install Cygwin on your machine</p>
<p style=" margin-left:.75in; text-indent:-.25in;" class="WD_Normal">a)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> Download installation setup.exe from www.cygwin.com</p>
<p style=" margin-left:.75in; text-indent:-.25in;" class="WD_Normal">b)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> There will be number of packages preselected. Make sure that under Libs, you have minires, zlib, openssl and under Under Admin, you have cygrunsrv</p>
<p class="WD_Normal">2) Now install the modified OpenSSH package</p>
<p style=" margin-left:.75in; text-indent:-.25in;" class="WD_Normal">a)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> copy the installation file (openssh-sapro.tar.bz2)&#160; into /tmp directory and open a cygwin shell window to untar the file.</p>
<p style=" margin-left:1.0in;" class="WD_Normal">&#160;&#160; &gt; cd /tmp</p>
<p style=" margin-left:1.0in;" class="WD_Normal">&#160;&#160; &gt; bzip2 -vd openssh-sapro.tar.bz2</p>
<p style=" margin-left:1.0in;" class="WD_Normal">&#160;&#160; &gt; cd /</p>
<p class="WD_Normal3">&#160;&#160; &gt; tar -xvf /tmp/openssh-sapro.tar</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_algorithm">&#160;</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal">3)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> Configure the ssh server</p>
<p style=" text-indent:.5in;" class="WD_Normal">&gt; cd /usr/bin</p>
<p style=" text-indent:.5in;" class="WD_Normal">&gt; ssh-host-config -y (and &lt;enter&gt; to the prompt for cygwin variable name)</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal">4)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> Edit /etc/ssh_sapro file and change the path to your installation of SAPro.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal">5)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> net start sshd</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_Normal">6)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> If you use the latest SAPro (with SSH support) when you define devices, you can specify thatthey will have SSH support.&#160; This causes the saprossh.ini file in the sapro/bin directory to be updated.&#160; This updated ini file is checked by sshd when accepting SSH sessions to the simulated devices.</p>
<p class="WD_algorithm">&#160;</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p style=" margin-left:4.2in; text-indent:0in;" class="WD_chaptitle">Chapter 15<br />
<a name="Chapter_15_TL1_Supportbc-184"></a><a name="Chapter_15_TL1_Support" id="Chapter_15_TL1_Support">TL1 Support</a></p>
<p class="WD_Normal">You can now interact with the simulated devices via TL1 in addition to SNMP. Sometimes, some pieces of management information are only available via a device's TL1 and are not available via the SNMP interface or CLI interface.&#160; Devices in the optical industry often have to work in both the telecom arena as well as the datacom arena and have to support both network management protocols in both areas.&#160; In cases like this, a management application might have to interact with the device in multiple ways to get all the management information inside the device.&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">With version 5.5 of the SimpleAgentPro, the simulated&#160; devices now add support for TL1.&#160; Currently TL1 is only supported over a Telnet based transport.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="TL1_Modeling_Filebc-185"></a><a name="TL1_Modeling_File" id="TL1_Modeling_File">TL1 Modeling File</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can associate a *.tl1 file with a device in which you can configure the TL1 session with the appropriate responses for incoming TL1 input messages.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The TL1 file is very similar to the Telnet modeling file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Like the SNMP modeling file, the TL1 file also has many sections which allow you to define a tcl script and when the script is to be executed.&#160; All attributes of the TL1 simulation can be controlled via tcl commands. The TL1 modeling file has the following format:</p>
<p class="WD_Normal">&#160;&#160;</p>
<p class="WD_Normal">%init_action</p>
<p class="WD_Normal">&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160; This Tcl script will get interpreted when the TL1 session is</p>
<p class="WD_Normal">&#160;&#160;&#160; started.&#160; In the case of TL1 over telnet, you can define the user</p>
<p class="WD_Normal">&#160;&#160;&#160; name, password, command prompt, banner, etc...</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">%stop_action</p>
<p class="WD_Normal">&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160; This Tcl script will get interpreted when the TL1 session is</p>
<p class="WD_Normal">&#160;&#160;&#160; closed.&#160; It typically is the place where you can do some cleanup</p>
<p class="WD_Normal">&#160;&#160;&#160; if required.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">%before_cmd_action</p>
<p class="WD_Normal">&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160; The Tcl script will get interpreted prior to the cmd_action being</p>
<p class="WD_Normal">&#160;&#160;&#160; interpreted.&#160;&#160; It might be useful when collating similar commands</p>
<p class="WD_Normal">&#160;&#160;&#160; together into one procedure.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">%cmd_action &lt;verb&gt;-&lt;modifiers&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160; This construct is the heart of the TL1 simulator.&#160; The Tcl script</p>
<p class="WD_Normal">&#160;&#160;&#160; will get interpreted when the associated command code &lt;verb&gt;-&lt;modifiers&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160; string is received in the incoming input message, terminated with a</p>
<p class="WD_Normal">&#160;&#160;&#160; semi-colon(;). The script can specify what the response for this input</p>
<p class="WD_Normal">&#160;&#160;&#160; message should be.&#160; As part of the response, you can send an acknowledgement</p>
<p class="WD_Normal">&#160;&#160;&#160; message, a response message, or an autonomous message.&#160; You can also send an</p>
<p class="WD_Normal">&#160;&#160;&#160; ack, set up a flag, and then in the timer_action section, send a</p>
<p class="WD_Normal">&#160;&#160;&#160; response message...</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">%after_cmd_action</p>
<p class="WD_Normal">&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160; The Tcl script will get interpreted after the cmd_action is interpreted.</p>
<p class="WD_Normal">&#160;&#160;&#160; It might be useful when collating similar commands together into one</p>
<p class="WD_Normal">&#160;&#160;&#160; procedure.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">%after_login_action</p>
<p class="WD_Normal">&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160; The Tcl script will get interpreted after the user has logged in.&#160; You</p>
<p class="WD_Normal">&#160;&#160;&#160; can specify command prompt changes or set user specific variables in this</p>
<p class="WD_Normal">&#160;&#160;&#160; script.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">%timer_action &lt;n_secs&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160; The Tcl script will get interpreted every n_seconds.&#160; You can use to do</p>
<p class="WD_Normal">&#160;&#160;&#160; delayed action, send autonomous messages, etc..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A sample c1538.tl1 in the &lt;install_dir&gt;/tl1 directory is shown below.&#160;</p>
<p class="WD_Normal">It simulates the TL1 interaction for a device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; # set the banner text</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setbanner&#160; ""</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; # disable login</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setloginmode&#160; 0</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;"># processing of an input message with command code set to "verb-mod1-mod2"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%cmd_action&#160; verb-mod1-mod2</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # example send ack</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # default ack already set up with code = IP and ctag = CTAG from input</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_TL1_sendackmsg</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # example sending response</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # default response structure already set up with CTAG, current timestamp</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_TL1_setresp_appendline "unquotedline1"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_TL1_setresp_appendline "unquotedline2"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_TL1_sendrespmsg</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # example sending autonomous message</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;# sets up default values</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_TL1_setauto_default</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_TL1_sendautomsg</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="TL1_File_Editorbc-186"></a><a name="TL1_File_Editor" id="TL1_File_Editor">TL1 File Editor</a></p>
</div>
<p class="WD_Normal">SimpleAgentPro includes a graphical TL1 file editor (DataFiles-&gt;TL1-&gt;TL1 File Editor submenu) that eases the work involved in defining the TL1 modelling file.&#160; &#160;Through easy steps of filling out a form for each type of packet, it creates a GUI abstraction over the file format described above by automatically filling up the associated Tcl commands.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Starting with SimpleAgentPro 5.5, to have TL1 support, you need to get a MODULEKEY from SIMPLESOFT for your machine, and add it to the config.inp file.</p>
</div>
<b><span style=" font-size:24.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="6" style="font-size:24pt;"><br clear="all" /></font></span></b>
<p style=" margin-left:3.7in; text-indent:0in;" class="WD_chaptitle">Chapter 16<br />
<a name="Chapter_16_Netflowbc-187"></a><a name="Chapter_16_Netflow" id="Chapter_16_Netflow">Netflow Support</a></p>
<p class="WD_Normal">Starting from Version 12.0, simulated devices can also be made to send netflow packets to a specified netflow collector.&#160; SimpleAgentPro supports Version 5, Version 7,and Version 9 Netflow packets.&#160; SimpleAgentPro Version 18.0 also adds support for Version 8, completing the support for JFlow as well as it uses Version 5, 8 and 9.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Simulated devices emit Netflow packets when they are made to evaluate Netflow specific Tcl commands.&#160; The contents of the flows to be sent can be specified in an ascii file.&#160;&#160; The format of the ascii file allows you to specify exact values for the fields, or have SimpleAgentPro come up with a random number within the specified range.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Netflow_Tcl_Commandsbc-188"></a><a name="Netflow_Tcl_Commands" id="Netflow_Tcl_Commands">Netflow Tcl Commands</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The following Tcl commands have been added for supporting Netflow.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in;" class="WD_bulletbold">SA_netflow_setdefaults&#160; [parameter] [value]</p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command sets the values for various parameters that the Netflow simulator uses.&#160; The various parameters that can be set are: source_id(0), tcp_flags(0), src_mask(24), dst_mask(24), router_sc(0.0.0.0), maxflows(30), and maxpktsize (1420).&#160; The values shown in brackets are the default values used by the Netflow simulator.&#160; You do not need to change them if the default values are appropriate for you.&#160;&#160; Normally these default values will be shared by the flows.&#160;&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">If needed, you can also override the default values for a specific flow, by using the optional arguments part of the flow specification.&#160; For instance to use the value of 1 for tcp_flags, and the value of 20 for src_mask and dst_mask for a specific flow only, you can specify the optional args as “6/1,9/20,13/20” to override the values of tcp_flags (6/1), src_mask(9/20), and dst_mask(13/20).</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_bulletbold">SA_netflow_setcollectors [collector_ip&lt;/collector_port ,…&gt;]</p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command allows you to specify a comma separated list of collectors.&#160; Each collector IP address along with its port can be specified in a &lt;ip/port&gt; format.&#160;&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_bulletbold">SA_netflow_readinputfile [input file name]</p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command reads the input file specified to build its internal flow cache.&#160; The specified file contains both template definitions as well as flow definitions.&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can have one or more caches defined in this file.&#160;&#160; Multiple caches can be defined by enclosing the cache information between the following two statements:</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">BEGINFLOWCACHE=&lt;n&gt;&#160; &lt;optional count&gt;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">…</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">If these statements are not present, the information provided is assumed to be in one cache, the contents of which, will be used to create netflow packets upon the evaluation of SA_netflow_send command</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Netflow cache is made up of&#160; Templates and Flows.</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Version 9 Templates are specified as follows:</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">T=templateid,field_id_1/length_1,field_id_2/length_2,…</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Version 5 and Version 7 flows are specified as follows:</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=version,srcip,dstip,srcport,dstport,iptype,qos,inif,outif,srcas,dstas,nexthop,duration,bytes,pkts,&lt;o&gt;</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Version 8 flows have 14 flavors depending on the aggragation type and are specified as follows:</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8 ,RAS,flows,pkts,bytes,first,last,srcas,dstas,inif,outif</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,RPP,flows,pkts,bytes,first,last,iptype,srcport,destport</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,RDP,flows,pkts,bytes,first,last,dstpf,dstmask,dstas,outif</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,RSP,flows,pkts,bytes,first,last,srcpf,srcmask,srcas,inif</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,RPF,flows,pkts,bytes,first,last,srcpf,dstpf,dstmask,srcmask,srcas,dstas,inif,outif</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,TAS,flows,pkts,bytes,first,last,srcas,dstas,inif,outif,tos</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,TPP,flows,pkts,bytes,first,last,iptype,tos,srcport,dstport,inif,outif</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,PPP,flows,pkts,bytes,first,last,srcpf,dstpf,dstmask,srcmask,tos,iptype,srcport,dstport,inif,outif</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,TSP,flows,pkts,bytes,first,last,srcpf,srcmask,tos,srcas,inif</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,TDP,flows,pkts,bytes,first,last,dstpf,dstmask,tos,dstas,outif</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,TPF,flows,pkts,bytes,first,last,srcpf,dstpf,dstmask,srcmask,tos,srcas,dstas,inif,outif</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,DO,dstip,pkts,bytes,first,last,outif,tos,mark_tos,epkts,router_sc</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,SD,dstip,srcip,pkts,bytes,first,last,outif,inif,tos,mark_tos,epkts,router_sc</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=8,FF,dstip,srcip,dstport,srcport,pkts,bytes,first,last,outif,inif,tos,iptype,mark_tos,epkts,router_sc</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Version 9 flows can have an additional optional field and start with template id.</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">F=tid,srcip,dstip,srcport,dstport,iptype,qos,inif,outif,srcas,dstas,nexthop,duration,bytes,pkts,&lt;o&gt;</font></span></i></p>
<p class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The individual members are:</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">version: &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 5, or 7</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">tid:&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; associated template id (for ver 9 flows)</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">srcip:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; source ip of the flow</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">dstip:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; destination ip of the flow</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">srcport:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; source port</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">dstport:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; destination port</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">iptype:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; type of IP packet</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">qos:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; value of qos</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">inif:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ifIndex of input interface</font></span></p>
<p style=" text-indent:.5in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">outif:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ifIndex of output interface</font></span></p>
<p style=" text-indent:.5in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">srcas:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; autonomous system number of source</font></span></p>
<p style=" text-indent:.5in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">dstas:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; autonomous system number of destination</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">nexthop:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IP address of the nexthop router</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">duration:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; duration of flow (in seconds)</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">bytes:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; total number of bytes in the flow</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">pkts:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; total number of packets in the flow</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;o&gt;:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; optional data includes &lt;field_id/value, field_id/value,….&gt;</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The values for these fields can be specified as follows:</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">IP Address Value: &#160;&#160;&#160;&#160; fixed addess : &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; eg: 192.168.100.45</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; random address:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; eg: 192.168.x.x</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; range address:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; eg: 192.168.[10-25].1</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Integer Value:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed value:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; eg: 5349</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; random value:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; eg: 1240/5100 (min/max)</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Hex String Value&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed string:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; eg: 0x010203040506</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; random value:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; eg: 0x0102xx04xx06</font></span></p>
<p style=" margin-left:.25in; text-indent:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The field_id values are defined in the netflow specs available from the Cisco website.&#160; Only a few of them are given below for easy reference.</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; <b>Field Type&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Field_id</b></font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; In_bytes&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 1</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; In_pkts&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 2</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; Flows&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 3</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; Protocol&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 4</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; Src_tos&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 5</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; Tcp_flags&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 6</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; L4_src_port&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 7</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; IPv4_src_addr&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 8</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; Src_mask&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 9</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; Input_snmp&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 10</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; L4_dst_port&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 11</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; IPv4_dst_addr&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 12</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; Dst_mask&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 13</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; Output_snmp&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 14</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; IPv4_next_hop&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 15</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:.75in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_bulletbold">SA_netflow_send&#160; &lt;optional cache id&gt;</p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This tcl command cause the SimpleAgentPro to send netflow packets from the internal flow cache defined in the input file, to the specified collectors .&#160; If the input file contained multiple flow caches, then you can even specify a particular one. Otherwise, SAPro will cycle through the different caches on subsequent calls to SA_netflow_send.&#160; In case of Version 9, it only sends the template definitions once.</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_bulletbold">SA_netflow_resendtemplate &lt;optional cache_id&gt;</p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command tells SAPro to resend the version 9 template definitions, the next time it processes the SA_netflow_send command.&#160;&#160; Normally, it will only send templates the first time around..</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_bulletbold">SA_netflow_setdebugflag [1/0]</p>
<p style=" margin-left:.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This command dumps out the netflow packets in hex in the associated tcl debug file.</font></span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Netflow_usage_examplesbc-189"></a><a name="Netflow_usage_examples" id="Netflow_usage_examples">Netflow usage examples</a></p>
</div>
<p class="WD_Normal">Using the above mentioned Tcl commands, a device can be made to generate the specified Netflow packets.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The example below shows a basic netflow.tcl modeling file that can be associated with a device, and three sample data files for the different versions of Netflow.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the modeling file shown below, when the agent is first started, the Netflow component is initialized, and then every so often, a netflow packet is sent out.&#160; If the datafile used a random syntax for the values, then the values inside the netflow packets will vary.&#160; If they used a fixed syntax, then the netflow packet generated will be the same as that specified.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&lt;example netflow.tcl&gt;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">%init_action</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; set myIP [SA_getmyip]</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; SA_settcldebugflag 1</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; SA_settcldebugfile $myIP.tcl.dbg</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; # read the netflow config file</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; SA_netflow_readinputfile "..\\var\\netflow_5.txt"</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; # set the netflow collectors</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; SA_netflow_setcollectors&#160; 192.168.100.99/9961</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; # set the defaults</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; SA_netflow_setdefaults source_id 0</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; SA_netflow_setdefaults tcp_flags 1</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; SA_netflow_setdefaults src_mask 24</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; SA_netflow_setdefaults dst_mask 23</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; SA_netflow_setdefaults router_sc 192.168.100.2</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; SA_netflow_setdefaults maxflows 20</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; SA_netflow_setdefaults maxpktsize 2000</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">%timer_action 10</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; # send the netflow packets</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; SA_netflow_send</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p class="WD_Normal">&lt;example netflow_5.txt&gt;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,192.168.100.x, 200.10.x.1, 100, 200, 1, 1, 1, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p class="WD_Normal">&lt;example netflow_5_multiple.txt&gt;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<p style=" margin-left:.5in;" class="WD_script">BEGINFLOWCACHE=1</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,192.168.100.x, 200.10.x.1, 100, 200, 1, 1, 1, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">ENDFLOWCACHE</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<p style=" margin-left:.5in;" class="WD_script">BEGINFLOWCACHE=2</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,10.168.101.x, 210.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,10.168.101.x, 210.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=5,10.168.101.x, 210.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">ENDFLOWCACHE</p>
<p style=" text-indent:.5in;" class="WD_script">#</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&lt;example netflow_7.txt&gt;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<p style=" margin-left:.5in;" class="WD_script">F=7,192.168.100.x, 200.10.x.1, 100, 200, 1, 1, 1, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=7,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=7,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=7,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=7,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=7,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=7,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p class="WD_Normal">&lt;example netflow_8.txt&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;"># RAS,flows,pkts,bytes,first,last,srcas,dstas,inif,outif</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RAS, 123, 456, 7890, 0, 500, 1, 2, 3, 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RAS, 123, 456, 7890, 0, 500, 1, 2, 3, 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RAS, 123, 456, 7890, 0, 500, 1, 2, 3, 3</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RAS, 123, 456, 7890, 0, 500, 1, 2, 3, 4</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RAS, 123, 456, 7890, 0, 500, 1, 2, 3, 5</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;"># RPP,flows,pkts,bytes,first,last,iptype,srcport,destport</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RPP, 123, 456, 7890, 0, 500, 6, 161, 161</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RPP, 123, 456, 7890, 0, 500, 6, 161, 162</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RPP, 123, 456, 7890, 0, 500, 6, 161, 163</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RPP, 123, 456, 7890, 0, 500, 6, 161, 164</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RPP, 123, 456, 7890, 0, 500, 6, 161, 165</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;"># RDP,flows,pkts,bytes,first,last,dstpf,dstmask,dstas,outif</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=3</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RDP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 2, 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RDP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 2, 3</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RDP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 2, 4</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RDP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 2, 5</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RDP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 2, 6</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;"># RSP,flows,pkts,bytes,first,last,srcpf,srcmask,srcas,inif</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=4</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RSP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 2, 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RSP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 2, 3</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RSP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 2, 4</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RSP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 2, 5</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RSP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 2, 6</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;"># RPF,flows,pkts,bytes,first,last,srcpf,dstpf,dstmask,srcmask,srcas,dstas,inif,outif</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=5</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RPF, 123, 456, 7890, 0, 500, 128.100.110.0, 196.168.10.0, 24, 24, 2, 3, 1, 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RPF, 123, 456, 7890, 0, 500, 128.100.110.0, 196.168.10.0, 24, 24, 2, 3, 1, 3</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RPF, 123, 456, 7890, 0, 500, 128.100.110.0, 196.168.10.0, 24, 24, 2, 3, 1, 4</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RPF, 123, 456, 7890, 0, 500, 128.100.110.0, 196.168.10.0, 24, 24, 2, 3, 1, 5</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, RPF, 123, 456, 7890, 0, 500, 128.100.110.0, 196.168.10.0, 24, 24, 2, 3, 1, 6</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#TAS,flows,pkts,bytes,first,last,srcas,dstas,inif,outif,tos</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=6</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TAS, 123, 456, 7890, 0, 500, 2, 3, 1, 2, 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TAS, 123, 456, 7890, 0, 500, 2, 3, 1, 3, 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TAS, 123, 456, 7890, 0, 500, 2, 3, 1, 4, 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TAS, 123, 456, 7890, 0, 500, 2, 3, 1, 5, 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TAS, 123, 456, 7890, 0, 500, 2, 3, 1, 6, 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#TPP,flows,pkts,bytes,first,last,iptype,tos,srcport,dstport,inif,outif</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=7</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TPP, 123, 456, 7890, 0, 500, 2, 1, 161, 162, 1, 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TPP, 123, 456, 7890, 0, 500, 2, 1, 161, 163, 1, 3</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TPP, 123, 456, 7890, 0, 500, 2, 1, 161, 164, 1, 4</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TPP, 123, 456, 7890, 0, 500, 2, 1, 161, 165, 1, 5</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TPP, 123, 456, 7890, 0, 500, 2, 1, 611, 166, 1, 6</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#PPP,flows,pkts,bytes,first,last,srcpf,dstpf,dstmask,srcmask,tos,iptype,srcport,dstport,inif,outif</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=8</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, PPP, 123, 456, 7890, 0, 500, 128.100.110.0, 192.168.10.0, 24, 24, 1, 6, 161, 162, 1, 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, PPP, 123, 456, 7890, 0, 500, 128.100.110.0, 192.168.10.0, 24, 24, 1, 6, 161, 162, 1, 3</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, PPP, 123, 456, 7890, 0, 500, 128.100.110.0, 192.168.10.0, 24, 24, 1, 6, 161, 162, 1, 4</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, PPP, 123, 456, 7890, 0, 500, 128.100.110.0, 192.168.10.0, 24, 24, 1, 6, 161, 162, 1, 5</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, PPP, 123, 456, 7890, 0, 500, 128.100.110.0, 192.168.10.0, 24, 24, 1, 6, 161, 162, 1, 6</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#TSP,flows,pkts,bytes,first,last,srcpf,srcmask,tos,srcas,inif</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=9</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TSP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 1, 6, 161</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TSP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 1, 6, 162</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TSP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 1, 6, 163</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TSP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 1, 6, 164</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TSP, 123, 456, 7890, 0, 500, 128.100.110.0, 24, 1, 6, 165</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#TDP,flows,pkts,bytes,first,last,dstpf,dstmask,tos,dstas,outif</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=10</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TDP, 123, 456, 7890, 0, 500, 192.168.100.0, 24, 1, 6, 161</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TDP, 123, 456, 7890, 0, 500, 192.168.100.0, 24, 1, 6, 162</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TDP, 123, 456, 7890, 0, 500, 192.168.100.0, 24, 1, 6, 163</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TDP, 123, 456, 7890, 0, 500, 192.168.100.0, 24, 1, 6, 164</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TDP, 123, 456, 7890, 0, 500, 192.168.100.0, 24, 1, 6, 165</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#TPF,flows,pkts,bytes,first,last,srcpf,dstpf,dstmask,srcmask,tos,srcas,dstas,inif,outif</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=11</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TPF, 123, 456, 7890, 0, 500, 128.100.110.0, 192.168.10.0, 24, 24, 1, 6, 7, 161, 162</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TPF, 123, 456, 7890, 0, 500, 128.100.110.0, 192.168.10.0, 24, 24, 1, 6, 7, 161, 163</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TPF, 123, 456, 7890, 0, 500, 128.100.110.0, 192.168.10.0, 24, 24, 1, 6, 7, 161, 164</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TPF, 123, 456, 7890, 0, 500, 128.100.110.0, 192.168.10.0, 24, 24, 1, 6, 7, 161, 165</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, TPF, 123, 456, 7890, 0, 500, 128.100.110.0, 192.168.10.0, 24, 24, 1, 6, 7, 161, 166</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#DO,dstip,pkts,bytes,first,last,outif,tos,mark_tos,epkts,router_sc</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=12</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, DO, 128.100.110.1, 456, 7890, 0, 500, 2, 3, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, DO, 128.100.110.1, 456, 7890, 0, 500, 3, 3, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, DO, 128.100.110.1, 456, 7890, 0, 500, 4, 3, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, DO, 128.100.110.1, 456, 7890, 0, 500, 5, 3, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, DO, 128.100.110.1, 456, 7890, 0, 500, 6, 3, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#SD,dstip,srcip,pkts,bytes,first,last,outif,inif,tos,mark_tos,epkts,router_sc</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=13</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, SD, 192.168.10.1, 128.100.110.1, 456, 7890, 0, 500, 2, 1, 3, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, SD, 192.168.10.1, 128.100.110.1, 456, 7890, 0, 500, 3, 1, 3, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, SD, 192.168.10.1, 128.100.110.1, 456, 7890, 0, 500, 4, 1, 3, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, SD, 192.168.10.1, 128.100.110.1, 456, 7890, 0, 500, 5, 1, 3, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, SD, 192.168.10.1, 128.100.110.1, 456, 7890, 0, 500, 6, 1, 3, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#FF,dstip,srcip,dstport,srcport,pkts,bytes,first,last,outif,inif,tos,iptype,mark_tos,epkts,router_sc</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">BEGINFLOWCACHE=14</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, FF, 192.168.10.1, 128.100.110.1, 161, 162, 456, 7890, 0, 500, 2, 1, 3, 6, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, FF, 192.168.10.1, 128.100.110.1, 161, 163, 456, 7890, 0, 500, 2, 1, 3, 6, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, FF, 192.168.10.1, 128.100.110.1, 161, 164, 456, 7890, 0, 500, 2, 1, 3, 6, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, FF, 192.168.10.1, 128.100.110.1, 161, 165, 456, 7890, 0, 500, 2, 1, 3, 6, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">F=8, FF, 192.168.10.1, 128.100.110.1, 161, 166, 456, 7890, 0, 500, 2, 1, 3, 6, 4, 345, 128.100.110.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ENDFLOWCACHE</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">&lt;example netflow_9.txt&gt;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<p style=" margin-left:.5in;" class="WD_script">T=260,21/4,22/4,1/4,2/4,10/2,14/2,8/4,12/4,4/1,5/1,7/2,11/2,15/4,13/1,9/1,6/1</p>
<p style=" margin-left:.5in;" class="WD_script">T=261,21/4,22/4,1/4,2/4,10/2,14/2,8/4,12/4,4/1,5/1,7/2,11/2,15/4,13/1,9/1,6/1</p>
<p style=" margin-left:.5in;" class="WD_script">T=262,21/4,22/4,1/4,2/4,10/2,14/2,8/4,12/4,4/1,5/1,7/2,11/2,15/4,13/1,9/1,6/1,58/2</p>
<p style=" margin-left:.5in;" class="WD_script">F=260,192.168.100.x, 200.10.x.1, 100, 200, 1, 1, 1, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=260,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=261,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000</p>
<p style=" margin-left:.5in;" class="WD_script">F=262,192.168.101.x, 200.11.x.1, 100, 200, 1, 1, 2, 3, 2, 3, 192.168.10.1, 5000, 5000/10000, 100/1000, 58/5</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&lt;example netflow_9.txt&gt;</p>
<p class="WD_algorithm">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">T=260,16/2,17/2,27/16,28/16,29/1,30/1,31/3,32/2,58/2,59/2,56/6,57/6,62/16,63/16,64/4</p>
<p style=" margin-left:.5in;" class="WD_script">F=260,0.0.0.0, 0.0.0.0, 0, 0, 0, 0, 0, 0, 1, 2, 0.0.0.0, 0, 0, 0, 27/0x000102030405060708090a0b0c0d0e0f, 28/0x010102030405060708090a0b0c0d0e0f, 29/10, 30/11, 31/0x010203, 32/12, 58/1, 59/2, 56/0x010203040506, 57/0x020203040506, 62/0x020102030405060708090a0b0c0d0e0f, 63/0x030102030405060708090a0b0c0d0e0f, 64/0x01020304</p>
<p style=" margin-left:.5in;" class="WD_script">F=260,0.0.0.0, 0.0.0.0, 0, 0, 0, 0, 0, 0, 1, 2, 0.0.0.0, 0, 0, 0, 27/0x000102030405060708090a0b0c0d0exx, 28/0x010102030405060708090a0b0c0dxx0f, 29/10, 30/11, 31/0x010203, 32/12, 58/1, 59/2, 56/0x010203040506, 57/0x020203040506, 62/0x020102030405060708090a0b0c0d0e0f, 63/0x030102030405060708090a0b0c0d0e0f, 64/0x01020304</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Creating_Netflow_Databc-190"></a><a name="Creating_Netflow_Data" id="Creating_Netflow_Data">Creating Netflow Data file</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <b><i>DataFiles-&gt;Flow→Convert Data File</i></b><i><span style=" font-family:'Arial' ,'sans-serif';">..</span> <b>&#160;</b></i>submenu allows you to create the Netflow data file, using captured netflow packets in either pcap or text format.&#160; The text format files are created by the supktcap utility that listens for packets on a specific udp port and dumps out the received packet in hex format to a file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="335" height="259" src="pro_205_files/image127.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_62_Create_Netflow" id="Figure_62_Create_Netflow">Figure</a> 62:&#160; Create Netflow Data file from captured traffic</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Input Data File:</p>
<p class="WD_Normal">Specify the name of the captured data file that you want to extract packet information from.</p>
<p class="WD_MIBObject">Output File:</p>
<p class="WD_Normal">Specify the name of the output netflow data.</p>
<p class="WD_MIBObject">File Format:</p>
<p class="WD_Normal">Specify the type of input file format.&#160; You can have WireShark (pcap) files or Supktcap (ssoft) files.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Using_the_GUI_to_send2bc-191"></a><a name="Using_the_GUI_to_send2" id="Using_the_GUI_to_send2">Using the GUI to send Netflow Packets at&#160; Device Level</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentPro includes a simple GUI to allow you to specify netflow packets and then make the selected device send it.&#160; Chose <b><i>Device→Generate Netflow</i></b><i><span style=" font-family:'Arial' ,'sans-serif';">..</span></i> after selecting (highlighting) the running device in the map that you want to send the netflow packets from.&#160; You will see the following Window.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="274" height="423" src="pro_205_files/image129.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_63_Generating" id="Figure_63_Generating">Figure</a> 63:&#160; Generating Netflows..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Collector IP Address:</p>
<p class="WD_Normal">Specify the IP address of the collector that you want to send the netflow packets to</p>
<p class="WD_MIBObject">Collector Port:</p>
<p class="WD_Normal">Specify the port number that you want the application to send netflow packets to.&#160; By default it is set to port 9991.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Netflow data file:</p>
<p class="WD_Normal">The Netflow data file contains the netflow packet information.&#160; This file is typically created by “Netflow-&gt;Convert Data file” from captured netflow packets or by hand.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Netflow Frequency:</p>
<p class="WD_Normal">You can also specify how many times you want to send the selected netflow packets and how often.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>Repeat Count</b>:&#160; You can also specify how many times you would like these netflow packets to be sent.&#160; By selecting Repeat, you can specify the repeat interval in seconds and also the repeat count.&#160;&#160; So Time Interval of “2” and Repeat Count of “forever” will cause the selected netflow packets to be sent out every 2 seconds until this dialog is closed.&#160;&#160; A repeat count of “4” will cause it to send the selected trap every 5 seconds for four times, and after 20 seconds (5 * 4) it will stop sending traps.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_Normal">Once the values are specified, click on the “Start” button below.&#160; The Status box will be updated to indicate if the netflow packet(s) was sent out or not.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Netflow_File_Editorbc-192"></a><a name="Netflow_File_Editor" id="Netflow_File_Editor">Netflow File Editor</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">SimpleAgentPro 15.0 includes a Netflow file editor that allows you to create your own flows, or edit existing ones.&#160; It supports Ver 5, Version 7 and Version 9 Netflow packets.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can start it by selecting <b><i>DataFiles-&gt;Flow→Flow File Editor</i></b>.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will first see the following screen.&#160;&#160; You can specify the name of the file you want to edit or create.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="506" height="282" src="pro_205_files/image131.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Normal"><a name="Figure_64_Netflow_File" id="Figure_64_Netflow_File">Figure</a> 64:&#160; Netflow File Editor.</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">If editing an existing file, the contents of the file will be parsed and filled out in the table as shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="503" height="275" src="pro_205_files/image133.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Normal"><a name="Figure_65_Editing_an" id="Figure_65_Editing_an">Figure</a> 65:&#160; Editing an existing file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Each Cache is displayed, along with the packets that it is made up of.&#160; You can select any flow within the cache to edit its properties, or even add a new flow to a new cache.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">When you click on Add, you will see the following screen.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="343" height="182" src="pro_205_files/image135.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Normal"><a name="Figure_66_Adding_a_new" id="Figure_66_Adding_a_new">Figure</a> 66:&#160; Adding a new flow.</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can specify the Cache Identifier, and specify the version of the flow you are adding.&#160; You cannot mix the versions in a cache.&#160; All flows within a cache have to be of the same version.&#160;&#160; In the case of Version 9, you can specify if you are adding a template or a data flow.&#160; Templates need to be added prior to adding a Data flow for them.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The following sections display the various forms used to specify values for the different versions.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Version_5bc-193"></a><a name="Version_5" id="Version_5">Version 5</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">When adding a Version 5 flow to a specified cache, you can specify the values in the flow packet by filling out the form shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="360" height="544" src="pro_205_files/image137.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Normal"><a name="Figure_67_Specifying" id="Figure_67_Specifying">Figure</a> 67:&#160; Specifying Version 5 flow for IP address</p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The various fields in a Version 5 flow packet are displayed.&#160; If specifying IP address type values, you can enter the information in the 3 formats shown (192.68.100.45, or 192.168.x.x where the SimpleAgentPro will replace the x.x with random numbers each time it emits a flow, or limit the randomness to a range by specifying 192.168.[10-25].1)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The editor helps you by telling you the accepted format for the field you are on.&#160; So if you are on a numeric field, it shows the following screen.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="360" height="544" src="pro_205_files/image139.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Normal"><a name="Figure_68_Specifying" id="Figure_68_Specifying">Figure</a> 68:&#160; Specifying Numeric fields in Version 5 flows</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If specifying Numeric values, you can enter information in the 2 formats shown (1234 or 123/679 where SimpleAgentPro will generate a random number between the min and max specified)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">When you click on the Apply button, the specified flow is added to the associated Cache.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Version_7" id="Version_7">Version 7</a></p>
</div>
<p class="WD_Normal">When adding a Version 7 flow to a specified cache, you can specify the values in the flow packet by filling out the form shown below.</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="360" height="544" src="pro_205_files/image141.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Normal"><a name="Figure_69_Specifying" id="Figure_69_Specifying">Figure</a> 69:&#160; Specifying Version 7 flows</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The various fields in a Version 7 flow packet are displayed.&#160; As in Version 5, if specifying IP address type values, you can enter the information in the 3 formats shown (192.68.100.45, or 192.168.x.x where the SimpleAgentPro will replace the x.x with random numbers each time it emits a flow, or limit the randomness to a range by specifying 192.168.[10-25].1)&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">When you click on the Apply button, the specified flow is added to the associated Cache.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Version_8" id="Version_8">Version 8</a></p>
</div>
<p class="WD_Normal">When adding a Version 8 flow to a specified cache, you can specify the values in the flow packet by filling out similar forms for the 14 different aggregation types.</p>
<p class="WD_Normal">You can first choose the aggregation type as shown below.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="343" height="346" src="pro_205_files/image143.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_70_Choosing" id="Figure_70_Choosing">Figure</a> 70:&#160; Choosing Version 8 Aggregation type.</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">And then specify the values for the various fields.&#160; Some fields are enabled/disabled depending on the aggregation type selected.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="359" height="681" src="pro_205_files/image145.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_71_Specifying" id="Figure_71_Specifying">Figure</a> 71:&#160; Specifying Version 8 flow.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Version_9" id="Version_9">Version 9</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the case of Verion 9, you have to define Templates and Flows.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can specify the Template Id and then click on the Add button to specify the fields that make up the template.&#160; When adding the fields, you can specify the Field Type and its corresponding value length as shown below.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="575" height="186" src="pro_205_files/image147.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_72_Adding_fields" id="Figure_72_Adding_fields">Figure</a> 72:&#160; Adding fields to a Version 9 template.</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">When you click on Done, the specified field(s) will get added to the template and show up in the table as shown below.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="406" height="219" src="pro_205_files/image149.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_73_New_field" id="Figure_73_New_field">Figure</a> 73:&#160; New field added to a Version 9 template.</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">Similarly, once the Template is defined, you can specify Flows for that template as shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="575" height="226" src="pro_205_files/image151.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_74_Specifying" id="Figure_74_Specifying">Figure</a> 74:&#160; Specifying flow values in Version 9</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once you are done, you can click on Save to save the information in to the file.</p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></i></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">You cannot mix Netflow Versions in a Cache.&#160;</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="IPFIX_supportbc-194"></a><a name="IPFIX_support" id="IPFIX_support">IPFIX support</a></p>
</div>
<p class="WD_Normal">Version 12.5 also adds support for IPFIX on an experimental basis.&#160; All the netflow tcl commands remain the same.&#160; The data file format has been enhanced to also include support for IPFIX packets.&#160; The SA_netflow_send will also send IPFIX packets.&#160; An additional SA_flow_send command has also been added to remove confusion,</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">IPFIX cache can be made up of&#160; Templates, Optional Templates and Data Flows:</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">IT=temp_id, field_id_1/length_1&lt;/optional enterprise id&gt;, field_id_2/length_2&lt;…</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">IO=temp_id,num_scopes,field_id_1/length_1&lt;/optional enterpriseid_1&gt;, field_id_2..</font></span></i></p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">IF=temp_id,data1, data2, data3,…</font></span></i></p>
<p class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></i></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The number of data elements need to match the number of fields in the associated template.&#160; Three types of data are currently supported: numbers, hexstr(0x…), and IPAddresses (n.n.n.n).&#160; All the flows in a cache are sent in one packet.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<p style=" margin-left:.5in;" class="WD_script">BEGINFLOWCACHE=1</p>
<p style=" margin-left:.5in;" class="WD_script">IT=256, 8/4, 12/4, 15/4, 2/4, 1/4</p>
<p style=" margin-left:.5in;" class="WD_script">IO=260, 1, 123/4/786, 41/2, 42/2</p>
<p style=" margin-left:.5in;" class="WD_script">IF=256, 192.0.2.12, 192.0.2.254, 192.0.2.1,5009,5 344385</p>
<p style=" margin-left:.5in;" class="WD_script">IF=256, 192.0.2.27, 192.0.2.23, 192.0.2.2, 748, 388934</p>
<p style=" margin-left:.5in;" class="WD_script">IF=256, 192.0.2.56, 192.0.2.65, 192.0.2.3, 5, 6534</p>
<p style=" margin-left:.5in;" class="WD_script">IF=260, 1, 345, 10201</p>
<p style=" margin-left:.5in;" class="WD_script">IF=260, 2, 690, 20402</p>
<p style=" margin-left:.5in;" class="WD_script">ENDFLOWCACHE</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<p style=" margin-left:.25in;" class="WD_PlainText"><i><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></i></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="sFlow_supportbc-195"></a><a name="sFlow_support" id="sFlow_support">sFlow support</a></p>
</div>
<p class="WD_Normal">Version 14.5 also adds support for sFlow on an experimental basis.&#160; All the netflow tcl commands remain the same.&#160; The data file format has been enhanced to also include support for sFlow packets.&#160; The SA_netflow_send will also send sFlow packets.&#160; An additional SA_flow_send command has also been added to remove confusion,</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Captured sFlow packets (pcap) can be automatically converted to a text data format as shown below.&#160; These packets can then be replayed back.&#160; Fields within the sFlow packet can be wild carded like other flow packets</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<p style=" margin-left:.5in;" class="WD_script">SF=5, 1, agentipv4, 0, 1, 18583125, 7, { 0 2, 108, 1, 0 1, 1, { 0 1, 88, 1, 6, 0 100000000, 1, 3, 0 100, 10, 10, 10, 10, 0, 10, 0 100, 10, 10, 10, 10, 0, 0, PAD=0, },&#160; }, { 0 2, 164, 1, 0 1, 1, { 0 2, 144, 1, 6, 0, 100000000, 1, 3, 0, 200, 20, 20, 20, 20, 0, PAD=92, },&#160; }, { 0 2, 180, 1, 0 1, 1, { 0 3, 160, 1, 6, 0, 100000000, 1, 3, 0, 300, 30, 30, 30, 30, 0, 30, 0, 300, 30, 30, PAD=88, },&#160; }, { 0 2, 108, 1, 0 1, 1, { 0 4, 88, 1, 6 0, 100000000, 1 3, 0, 400, 40, 40, 40, 40 0, 40, 0 400, 40 40, 40 40, PAD=8, },&#160; }, { 0 2, 204, 1, 0 1, 1, { 0 5, 184, 1, 6 0, 100000000, 1, 3, 0, PAD=156, },&#160; }, { 0 2, 108, 1, 0 1, 1, { 0 6, 88, 0x00000001000000060000000005f5e100000000010000000300000000000002580000003c0000003c0000003c0000003c000000000000003c00000000000002580000003c0000003c0000003c0000003c0000000000000000,&#160; },&#160; }, { 0 2, 52, 1, 0 1, 1, { 0 7, 32, 0x000100000000000000000000000000640000000a0000000a0000000a00000003,&#160; },&#160; }</p>
<p style=" margin-left:.5in;" class="WD_script">#</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p style=" margin-left:2.8in; text-indent:0in;" class="WD_chaptitle">Chapter 17<br />
<a name="Chapter_17_XML_SOAPbc-196"></a><a name="Chapter_17_XML_SOAP" id="Chapter_17_XML_SOAP">XML/SOAP&#160; Support</a></p>
<p class="WD_Normal">You can now interact with the simulated devices via XML and SOAP based webservice interface.&#160; Sometimes, some pieces of management information are only available via a device’s web services interface and not available via the SNMP interface.&#160;&#160; In cases like this, a management application might have to interact with the device in multiple ways to get all the management information inside the device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Like other protocol simulations in SimpleAgentPro, the generated responses from the simulated SOAP server are determined by the contents of the associated SOAP and XML modeling file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">With version 15.0 of SimpleAgentPro, support for SOAP based webservices is added on an experimental basis. SOAP support required a module key, and was an optional, separately priced module.&#160; Version 17.5 also adds support for XML for REST based APIs.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Soap_Modeling_Filebc-197"></a><a name="Soap_Modeling_File" id="Soap_Modeling_File">Soap Modeling File</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can associate a “*.smf” file with a device in which you can configure the SOAP responses to be given for incoming SOAP requests.&#160; The information in this file (which is similar to the modeling file) is specified via Tcl commands.&#160; The&#160; chapter on Tcl Commands has described the Soap extensions available.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Like the modeling file, the SOAP modeling file also has many sections which allow you to define a tcl script and when the script is to be executed.&#160; All attributes of the SOAP simulation can be controlled via tcl commands.&#160;&#160; The SOAP modeling file has the following format:</p>
<p class="WD_Normal3">&#160;&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;%soap_init_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted when the SOAP session is started.&#160; It typically is the place where you can will define the initial value for variables, etc…</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%soap_stop_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted when the SOAP session is closed.&#160; It typically is the place where you can do some cleanup if required.</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160; %before_soapreq_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">The Tcl script will get interpreted prior to the req_action being interpreted.&#160;&#160; It might be useful when collating similar commands together into one procedure.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%soap_req_action &lt;uri or *&gt; &lt;request_string&gt;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This construct is the heart of the SOAP simulator.&#160; The Tcl script will get interpreted when the incoming SOAP request contains the associated request/method name, as part of its body.&#160; The script builds the various parts of the SOAP response by using Tcl commands that set the envelope, header, and body sections.&#160; If the value of * is specified for the uri, then check is only made on the request/method name.</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;%after_soapreq_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">The Tcl script will get interpreted after the req_action is interpreted.&#160;&#160; It might be useful when collating similar commands together into one procedure.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%default_soapreq_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The Tcl script will get interpreted if none of the specified commands match with the input string.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%http_get_action &lt;uri&gt; &lt;other_info or *&gt;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The Tcl script will get interpreted if a HTTP GET request is received.&#160; The input uri is checked against the argument specified and if there is a match, the Tcl script is evaluated.&#160; The script is excepted to use the SA_soap_append_plain_text calls to set up the response buffer.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A sample sample.smf in the &lt;install_dir&gt;/soap directory is shown below.&#160; It simulates a hello world response from a trial SOAP service.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%soap_init_action</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # turn debugging on at the beginning.&#160; later on turn it off for better</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # performance</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_debugflag 1</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_debugfile soap.dbg</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_setxmlinfo "&lt;?xml version=\"1.0\"\nencoding=\"UTF-8\" ?&gt;"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># processing of "hi” request on any uri</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%soap_req_action&#160; * hi</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_clear_env_nsattrs</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_env_nsattrs "xmlns:xsi=\"http://www.w3.org/1999/XMLSchema-instance\""</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_env_nsattrs "xmlns:SOAP-ENC=\"http://schemas.xmlsoap.org/soap/encoding/\""</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_env_nsattrs "xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\""</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_env_nsattrs "xmlns:xsd=\"http://www.w3.org/1999/XMLSchema\""</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_env_nsattrs "SOAP-ENV:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\""</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_clear_body_data</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_body_data "&lt;mns:hiResponse"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_body_data "xmlns:mns=\"http://www.simplesoft.com/wsdl/sample\" &gt;"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_body_data "&lt;mygreeting xsi:type=\"xsd:string\"&gt;hello, world&lt;/mygreeting&gt;"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_body_data "&lt;/mns:hiResponse&gt;"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">To enable SOAP support, you need to get a MODULEKEY from SIMPLESOFT for your machine, and add it to the config.inp file.&#160; It is a separately priced module.</p>
</div>
<b><span style=" font-size:24.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="6" style="font-size:24pt;"><br clear="all" /></font></span></b>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Creating_Soap_Modelingbc-198"></a><a name="Creating_Soap_Modeling" id="Creating_Soap_Modeling">Creating Soap Modeling file from WSDL files</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;XML-&gt;Soap→Create from WSDL..</span> <b>&#160;</b></i>submenu allows you to create SOAP response templates based on information in the specified WSDL files.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The responses will be populated with dummy data.&#160; Since the SOAP modeling file is an ascii file, it can be manually edited and the values can be changed if required.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="387" height="346" src="pro_205_files/image153.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_75_Creating_Soap" id="Figure_75_Creating_Soap">Figure</a> 75:&#160; Creating Soap Modeling file from WSDL..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Output Modeling File</p>
<p class="WD_Normal">Specify the name of the output SOAP modeling file(smf) that you want to contain the Tcl commands to generate the SOAP responses for the different operations.&#160; If the file exists, its contents will be overwritten.</p>
<p class="WD_MIBObject">Input WSDL File</p>
<p class="WD_Normal">Specify the name of the wsdl file to use to look for the xml structure of the SOAP requests and responses.&#160; The advanced button, allows you to specify additional directories to look for the specified file extensions to get referenced type definitions.</p>
<p class="WD_MIBObject">Status</p>
<p class="WD_Normal">The Status Window shows the status of the SOAP file creation.</p>
<p class="WD_MIBObject">Create</p>
<p class="WD_Normal">Click the Create button to initiate the parsing of the specified wsdl file and the generation of the SOAP modeling file. The old contents of the output file will be lost, and a new output file will be created.</p>
<p class="WD_MIBObject">Done</p>
<p class="WD_Normal">Click the Done button to exit from the <i>Create from WSDL</i> screen and return to SimpleAgentPro screen.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Learning_Soap_Responsesbc-199"></a><a name="Learning_Soap_Responses" id="Learning_Soap_Responses">Learning Soap Responses from Real Devices</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;XML-&gt;Soap →Learn from Device..</span> <b>&#160;</b></i>submenu allows you to create the SOAP modeling file based on actual responses from real devices/servers.&#160; You can use the WSDL file to generate requests to be sent to the devices.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="491" height="453" src="pro_205_files/image155.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_76_Learning_Soap" id="Figure_76_Learning_Soap">Figure</a> 76:&#160; Learning Soap Responses from Device..</p>
<p class="WD_Caption">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Output Modeling File</p>
<p class="WD_Normal">Specify the name of the output SOAP modeling file(smf) that you want to contain the Tcl commands to generate the SOAP responses for the different operations.&#160; If the file exists, its contents will be overwritten.</p>
<p class="WD_MIBObject">URL</p>
<p class="WD_Normal">Specify the url that contains the server address and uri to send the selected requests to.&#160; You can use the &lt;ip&gt;:&lt;port&gt; syntax to specify port numbers.&#160; Currently only http is supported.</p>
<p class="WD_MIBObject">SOAP Requests File:</p>
<p class="WD_Normal">Specify the name of the SOAP request file that contains the format of the SOAP requests to be sent to the specified URL.&#160;&#160; The SOAP request file can also be generated from the WSDL files.&#160; You can click on “Create” to create this file.&#160; The file is an ascii file and can be edited to change the dummy values used.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If you click to Create the file, you will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="460" height="340" src="pro_205_files/image157.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_77_Creating_Soap" id="Figure_77_Creating_Soap">Figure</a> 77:&#160; Creating Soap Responses from WSDL..</p>
<p class="WD_Caption">.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once the file is specified, its contents show up in the list displayed below.&#160; You can select one or more request names to be sent out for learning, and their associated SOAP structure will be sent to the device to learn its responses from.</p>
<p class="WD_MIBObject">Debug</p>
<p class="WD_Normal">Enabling this, tells SimpleAgentPro to write out some debug messages to the specified debug file.</p>
<p class="WD_MIBObject">Debug File</p>
<p class="WD_Normal">If Debugging is enabled, the debug file will contain debug messages that detail the learning process.</p>
<p class="WD_MIBObject">Status</p>
<p class="WD_Normal">The Status Window shows the status of the SOAP learning process and the request that it is currently processing.</p>
<p class="WD_MIBObject">Send</p>
<p class="WD_Normal">Click the Send button to initiate the SOAP learning process. The old contents of the output file will be lost, and a new output file will be created.</p>
<p class="WD_MIBObject">Done</p>
<p class="WD_Normal">Click the Done button to exit from the <i>Learn Soap Response from Device</i> screen and return to SimpleAgentPro screen. If the soap learning is in progress, click <i>Done</i> to stop it</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Converting_caputuredbc-200"></a><a name="Converting_caputured" id="Converting_caputured">Converting caputured packet data to Soap modeling file</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;XML-&gt;Soap →Convert data file..</span> <b>&#160;</b></i>submenu allows you to create SOAP response templates based on information in captured pcap files.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="378" height="348" src="pro_205_files/image159.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_78_Converting" id="Figure_78_Converting">Figure</a> 78:&#160; Converting Captured Packet data to Soap Modeling file.</p>
<p class="WD_Caption">.</p>
<p class="WD_MIBObject">Output Modeling File</p>
<p class="WD_Normal">Specify the name of the output SOAP modeling file(smf) that you want to contain the Tcl commands to generate the SOAP responses for the different operations.&#160; If the file exists, its contents will be overwritten.</p>
<p class="WD_MIBObject">Input Data File</p>
<p class="WD_Normal">Specify the name of a packet capture data file (pcap) that contains packet capture logs of client-server interaction.</p>
<p class="WD_MIBObject">Status</p>
<p class="WD_Normal">The Status Window shows the status of the conversion process and the packet&#160; that it is currently processing.</p>
<p class="WD_MIBObject">Convert</p>
<p class="WD_Normal">Click the Convert button to initiate the conversion process. The old contents of the output file will be lost, and a new output file will be created.</p>
<p class="WD_MIBObject">Done</p>
<p class="WD_Normal">Click the Done button to exit from the <i>Convert SOAP Data File</i> screen and return to SimpleAgentPro screen.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Editing_Soap_Modelingbc-201"></a><a name="Editing_Soap_Modeling" id="Editing_Soap_Modeling">Editing Soap Modeling Files</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;XML-&gt;Soap →Edit..</span> <b>&#160;</b></i>submenu allows you to edit the SOAP modeling file using your configured text file editor.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Soap_usage_examplesbc-202"></a><a name="Soap_usage_examples" id="Soap_usage_examples">Soap usage examples</a></p>
</div>
<p class="WD_Normal">Using the above mentioned Tcl commands, a device can be made to generate the specified Soap responses.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The examples below shows some common scenarios.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If you want to echo back some values from the request in the associated response, you can use the SA_soap_getrequsttagvalue call.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&lt;example session_id.smf&gt;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%soap_req_action * getRequest</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set rid [SA_soap_getrequesttagvalue reqId]</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set sid [SA_soap_getrequesttagvalue sessionId]]</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_setenvtag "SOAP-ENV:Envelope"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_clear_env_nsattrs</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_env_nsattrs …</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_setheadertag "SOAP-ENV:Header"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_hdr_data "&lt;hdr&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_hdr_data "&lt;reqId xsi:type=\"xsd:unsignedInt\"&gt;$rid&lt;/reqId&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_hdr_data "&lt;sessionId xsi:type=\"xsd:string\"&gt;$sid&lt;/sessionId&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_hdr_data "&lt;extension&gt;&lt;/extension&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_hdr_data "&lt;/hdr&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Normal">If you want to use variable values that change in subsequent requests, you can make use of the SA_soap_initvaluetype and SA_soap_getvalue/SA_soap_setvalue commands.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&lt;example value.smf&gt;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%soap_init_action</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set sessionid [SA_soap_initvaluetype sequential(200)]</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set clockid&#160;&#160; [SA_soap_initvaluetype clock(50)]</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set counterid [SA_soap_initvaluetype randomup(5000, 100)]</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set valid&#160;&#160;&#160;&#160; [SA_soap_initvaluetype lastset(abcdefghi)]</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%soap_req_action * openSessionRequest</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set sid [SA_soap_getvalue $sessionid]</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_hdr_data "&lt;sessionId xsi:type=\"xsd:string\"&gt;$sid&lt;/sessionId&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%soap_req_action * getRequest</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set cntrv&#160; [SA_soap_getvalue $counterid]</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set clockv [SA_soap_getvalue $clockid]</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set curv&#160;&#160; [SA_soap_getvalue $valid]</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_body_data "&lt;InPkts&gt;$cntrv&lt;/InPkts&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_body_data "&lt;UpTime&gt;$clockv&lt;/UpTime&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_body_data "&lt;AdminContact&gt;$curv&lt;/AdminContact&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%soap_req_action * setRequest</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set acv [SA_soap_getrequesttagvalue AdminContact]</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_setvalue $valid $acv</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_soap_append_body_data "&lt;AdminContact&gt;$acv&lt;/AdminContact&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;</font></span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="XML_Modeling_Filebc-203"></a><a name="XML_Modeling_File" id="XML_Modeling_File">XML Modeling File</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can associate a “*.xmf” file with a device in which you can configure the XML responses to be given for incoming HTTP/REST requests.&#160; The information in this file (which is similar to the modeling file) is specified via Tcl commands.&#160; The&#160; chapter on Tcl Commands has described the XML extensions available.</p>
<p class="WD_Normal">Like the modeling file, the XML modeling file also has many sections which allow you to define a tcl script and when the script is to be executed.&#160; All attributes of the XML simulation can be controlled via tcl commands.&#160;&#160; The XML modeling file has the following format:</p>
<p class="WD_Normal3">&#160;&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;%xml_init_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted when the XML session is started.&#160; It typically is the place where you can will define the initial value for variables, etc…</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%xml_stop_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted when the XML session is closed.&#160; It typically is the place where you can do some cleanup if required.</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160; %before_xmlhttp_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">The Tcl script will get interpreted prior to the req_action being interpreted.&#160;&#160; It might be useful when collating similar commands together into one procedure.</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%http_get_action &lt;uri&gt; &lt;other_info or *&gt;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The Tcl script will get interpreted if a HTTP GET request is received.&#160; The input uri is checked against the argument specified and if there is a match, the Tcl script is evaluated.&#160; The script is excepted to use the SA_xml_append_plain_text calls to set up the response buffer.</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%http_post_action &lt;uri&gt; &lt;other_info or *&gt;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The Tcl script will get interpreted if a HTTP POST request is received.&#160; The input uri is checked against the argument specified and if there is a match, the Tcl script is evaluated.&#160; The script is excepted to use the SA_xml_append_plain_text calls to set up the response buffer.</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;%after_xmlhttp_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">The Tcl script will get interpreted after the req_action is interpreted.&#160;&#160; It might be useful when collating similar commands together into one procedure.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%default_xmlhttp_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The Tcl script will get interpreted if none of the specified commands match with the input string.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A sample .xmf is shown below.&#160; It simulates a response for a Get request.</p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%xml_init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set count 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SA_xml_debugflag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SA_xml_debugfile xml_$myIP.dbg</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # examples of valuetypes that can be used in responses</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #set id_1 [SA_xml_initvaluetype randomup(5000,100)]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #set id_2 [SA_xml_initvaluetype clock(0)]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #set id_3 [SA_xml_initvaluetype sequential(5)]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #set id_4 [SA_xml_initvaluetype lastset(2)]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SA_xml_settagforvalue $id_4 vtag_4</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # later on you can get the values by calling</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SA_xml_getvalue $id_1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # and externally change lastset values by calling</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SA_xml_setvaluewithtag vtag_4 newvalue</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%http_get_action /parameters?names=alarm-services-sequence-count</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_sethttpcontenttype "application/json"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_clear_plain_text</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_plain_text "{"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_plain_text "&#160;&#160;&#160; \"data\" : "</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_plain_text "&#160;&#160;&#160; \["</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_plain_text "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; "</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_plain_text "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_plain_text "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \"name\" : \"alarm-services-sequence-count\","</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_plain_text "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; \"value\" : \"1861\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_plain_text "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_plain_text "&#160;&#160;&#160; \]"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_plain_text "}"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_plain_text ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_plain_text ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Creating_XML_Playbackbc-204"></a><a name="Creating_XML_Playback" id="Creating_XML_Playback">Creating XML Playback and Modeling Files</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;XML-&gt;Record and Create..</span> <b>&#160;</b></i>submenu allows you to create the XML playback and modeling file based on actual requests/responses received by the proxy forwarder.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="404" height="503" src="pro_205_files/image161.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_79_Creating_XML" id="Figure_79_Creating_XML">Figure</a> 79:&#160; Creating XML Playback File at Start..</p>
<p class="WD_MIBObject">Proxy IP</p>
<p class="WD_Normal">Specify the IP address of the proxy simulated device that you want to start that will open up the specified port and receive requests from your application and forward the to the specified real Server IP/port while transcribing the request/response packets in a debug file to be used to create the playback file.&#160; This IP is an IP that is currently not in use and will act as a proxy and will be supported by SAPro.&#160; This is the IP address where you will direct your application and make it send requests to.</p>
<p class="WD_MIBObject">Real Server IP</p>
<p class="WD_Normal">Specify the real server IP address where the proxy should forward the received requests to. &#160;This is typically a real server/device from which you want to “learn” the responses.&#160;</p>
<p class="WD_MIBObject">Real Server Port</p>
<p class="WD_Normal">Specify the real server port&#160; where the proxy should forward the received requests to.&#160; This is also the port that the proxy will open to receive requests on.&#160;</p>
<p class="WD_Normal">So your management application will send requests to the ProxyIP/port and the proxy will forward the request to the RealServer IP/port and in turn also forward the response from the real server back to your management application while recoding the request/responses in a debug file.&#160;</p>
<p class="WD_MIBObject">Output Playback File:</p>
<p class="WD_Normal">Specify the name of the Output playback file to be created.&#160;</p>
<p class="WD_MIBObject">Auto Stop:</p>
<p class="WD_Normal">You can specify the number of minutes after which the proxy/recording will automatically stop and whatever has been recorded thus far will get converted to a playback file.&#160; Optionally, you can manually stop the recording.</p>
<p class="WD_Normal">If you click to “Start”, you will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="404" height="453" src="pro_205_files/image163.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_80_Creating_XML" id="Figure_80_Creating_XML">Figure</a> 80:&#160; Creating XML Playback File while recoding..</p>
<p class="WD_Caption">.</p>
<p class="WD_Normal">Now the proxy device with the specified IP is waiting to receive requests.&#160; When it receives requests, it will forward them to the specified Real Server and return the response received while recoding the request/responses.</p>
<p class="WD_Normal">If there are any errors, they will appear in the proxy log file.&#160; Internally, this dialog starts a map with one device.</p>
<p class="WD_Normal">After your application is finished with its interaction, you can stop the proxy by clicking on the Stop button and you will see the following dialog and a playback file (rrp) will be created.</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="412" height="499" src="pro_205_files/image165.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_81_Creating_XML" id="Figure_81_Creating_XML">Figure</a> 81:&#160; Creating XML Playback File upon completion.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The sample.rrp file will typically be created in the sapro/xml directory.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Creating_XML_Files_frombc-205"></a><a name="Creating_XML_Files_from" id="Creating_XML_Files_from">Creating XML Files from Other Debug Files</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Sometimes, if the device needs other protocols to allow for proxy based learning,&#160; you can create a simulated device with SNMP/Telnet etc and then for XML, use a modeling file like xml_fwd.xmf&#160; which looks like this:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%xml_init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_debugflag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_debugfile xmlfwd_${myIP}.dbg</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # forward requests to this real http server</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IP</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; port (443 for https)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; maxtimeout in seconds (180)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_request_forwarder 192.168.100.188 443 180</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Just like the “Create&#160; Record&#160; and Create..” option described earlier, this also creates debug files of requests received and responses sent when doing proxy forwarding to a real server.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">One the interaction is captured, you can go to <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;XML-&gt;Convert Debug to Simulation..</span> <b>&#160;</b></i>submenu as shown below to convert the debug files into a playback or modeling file.</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="575" height="412" src="pro_205_files/image167.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_82_Selecting" id="Figure_82_Selecting">Figure</a> 82:&#160; Selecting Convert Debug to Simulation File.</p>
<p class="WD_Normal">Once this submenu is selected, you will see the dialog box shown below.</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="358" height="331" src="pro_205_files/image169.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_83_Converting" id="Figure_83_Converting">Figure</a> 83:&#160; Converting Debug to XML Simulation File.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Debug Directory</p>
<p class="WD_Normal">Specify the directory where the debug files have got created as a result of using the xml_fwd.xmf file.&#160;</p>
<p class="WD_MIBObject">Full/Partial File name</p>
<p class="WD_Normal">The debug directory will contain one or more files depending upon the number of simultaneous sessions opened by the application.&#160; You can specify the full name to use one file or partial name to get all the session files.&#160; In the above example using 192.168.100.5 gets all the sessions.</p>
<p class="WD_MIBObject">Output File</p>
<p class="WD_Normal">Specify the output file to be created.</p>
<p class="WD_MIBObject">File Type</p>
<p class="WD_Normal">The file type can be either a playback file or a modeling file.</p>
<p class="WD_MIBObject">Status</p>
<p class="WD_Normal">The status message of the conversion process will be shown in this field.</p>
<p class="WD_Normal">&#160;The sample.rrp file will typically be created in the sapro/xml directory.</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;"><br clear="all" /></font></span>
<p style=" margin-left:4.3in; text-indent:0in;" class="WD_chaptitle">Chapter 18<br />
<a name="Chapter_18_IPMI_Supportbc-206"></a><a name="Chapter_18_IPMI_Support" id="Chapter_18_IPMI_Support">IPMI Support</a></p>
<p class="WD_Normal">You can now interact with the simulated devices via IPMI&#160; in addition to other Management Protocols like SNMP, Telnet/CLI, SOAP, HTTP etc.&#160;&#160; Also included is a simple IPMI learner utility to learn IPMI response data from a real device so that it can be used to give realistic responses to incoming IPMI queries.&#160; IPMI version 1.5 requires Authentication support, while 2.0 also requires Encryption support.&#160;</p>
<p class="WD_Normal">SimpleAgentPro on Windows supports version 1.5 while SimpleAgentPro AES version on Windows can also support version 2.0 as it includes AES_128 support which is used by IPMI.</p>
<p class="WD_Normal">On Linux, since the regular SimpleAgentPro uses SSL libraries, both version 1.5 and 2.0 are supported in all versions of SimpleAgentPro/Enterprise.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="IPMI_Modeling_Filebc-207"></a><a name="IPMI_Modeling_File" id="IPMI_Modeling_File">IPMI Modeling File</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can associate a “*.imf” file with a device in which you can specify the data to be used when responding to IPMI requests.&#160; The simulator automatically responds to the RMCP Ping, Get Channel Authentication Capabilities requests in the Discovery Phase, Get Session Challenge, Activate Session and Set Privilege Level request during the 1.5 Activation Phase, and Open Session, RAKP Message 1, and RAKP Message 3 during the 2.0 Session Activation.</p>
<p class="WD_Normal">For other command requests, it looks into the modeling file for corresponding netfn/cmd actions and evaluates the associated scripts that build the response to be generated.&#160; The 1.5/2.0 packet envelopes get built by the simulator based on the session that is established and only the data part and completion code is expected to be filled by the information in the modeling file.&#160; The&#160; chapter on Tcl Commands has described the IPMI&#160; extensions available.</p>
<p class="WD_Normal">The IPMI modeling file has the following format:</p>
<p class="WD_Normal3">&#160;&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;%init_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted when the IPMI session is started. This is typically the place where the sesnsor/threshold/fru records are defined.</p>
<p style=" margin-left:0in;" class="WD_Normal3">%stop_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted when the IPMI session is closed.&#160; It typically is the place where you can do some cleanup if required.</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%cmd_action &lt;netFunctionInHex_commandInHex&gt;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This construct is the heart of the IPMI&#160; simulator.&#160; The Tcl script will get interpreted when the associated netfunction and command are received.&#160; The script can specify the command completion code and the response data buffer.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%default_cmd_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The Tcl script will get interpreted if none of the specified commands match with the input string.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A sample test.imf in the &lt;install_dir&gt;/ipmi directory is shown below.&#160;</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#######################################################</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># IPMI Info learnt from : 192.168.100.199</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># Time&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; : Thu Jun 20 09:17:03 2013</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#######################################################</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myip [SA_getmyip]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #uncomment next 2 lines to enable debugging</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SA_ipmi_debugflag 2</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SA_ipmi_debugfile ipmi_${myip}.dbg</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0000</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0000 0x010051012f20000103015dd4010180028032180000010000010280c2300000b2c58bff00ffffff0000000101000000c454656d70</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0002</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0002 0x020051013720000e07017fe80101853285321b0900010000010280c230000799a989ff00ffafaa0083880101000000cc416d6269656e742054656d70</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0003</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0003 0x030051013620000f07017fd40101853285321b0000010000010280c2300007b1d989ff00ffdfda0083880101000000cb506c616e61722054656d70</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0004</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0004 0x040051022720001007016fc0296f0200020002000000000180000000000000cc434d4f532042617474657279</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0005</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0005 0x050051022620001603016fc002030300000003000000000100000000000000cb302e373520565454205047</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0006</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0006 0x060051022520002503016fc002030300000003000000000180000000000000ca312e3220415558205047</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0007</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0007 0x070051022220001807016fc002030300000003000000000180000000000000c7312e3856205047</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0008</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0008 0x080051022120001a07016fc002030300000003000000000180000000000000c6505355205047</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0009</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0009 0x090051022820005207016fc0256f0300000003000000000180000000000000cd4845415453494e4b2050524553</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;#RecordId =000a</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x000a 0x0a0051022320002603016fc002030300000003000000000180000000000000c8312e303556205047</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =000b</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x000b 0x0b0051022120001e03016fc002030300000003000000000180000000000000c64d454d205047</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =000c</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x000c 0x0c0051022120002003016fc002030300000003000000000180000000000000c6565454205047</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =000d</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x000d 0x0d0051022520002403016fc002030300000003000000000180000000000000ca312e3820504c4c205047</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =000e</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x000e 0x0e0051022020001203016fc002030300000003000000000100000000000000c556434f5245</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =000f</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x000f 0x0f0051013420003007017fd40401042004000200001200003c02000230000114ff00ff00ffffff000e180202000000c946414e20312052504d</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0010</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0010 0x100051022320005003016dc0256f0000000003000000000100000000000000c850726573656e6365</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0011</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0011 0x110051022120006003016fc0076fa304a304a3040000000100000000000000c6537461747573</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0012</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0012 0x120051022320007107016fc0236f0f000f000f000000000100000000000000c85761746368646f67</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0013</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0013 0x130051022b20005f07016fc002030300030003000000000180000000000000d0504661756c74204661696c2053616665</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0014</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0014 0x140051021e20007207016fc0106f5000000014000000000100000000000000c353454c</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0015</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0015 0x150051022520007307016fc0056f0100010001000000000100000000000000ca496e74727573696f6e20</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0016</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0016 0x16005102262000760701268001030200020002000000000100000000000000cb54656d7020496e74657266</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0017</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0017 0x1700511211200000df000000070100c6694452414336</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0018</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0018 0x180051111720008000000902070100cc53797374656d20426f617264</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0019</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0019 0x190051110f20b00200000902030100c443505531</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =001a</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x001a 0x1a0051110f20b00200000902030200c443505532</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =001b</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x001b 0x1b0051111120b00200000000100100c6526973657231</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =001c</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x001c 0x1c0051111120b10200000000100200c6526973657232</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =001d</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x001d 0x1d0051012f20000a08011cd4010100000000000000010000010280c230000097c58bff00ffafaa0083880101000000c454656d70</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =001e</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x001e 0x1e005108100701c003010302000000002600000038</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =001f</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x001f 0x1f0051022220001907016fc002030300000003000000000180000000000000c7332e3356205047</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0020</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0020 0x2000510227b1000122012e400c6f0100000001000000001100000000000000cc45434320436f727220457272</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0021</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0021 0x2100510229b1000222012e400c6f0200000002000000001100000000000000ce45434320556e636f727220457272</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0022</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0022 0x220051022ab1000322012e40136f0400000004000000001100000000000000cf492f4f204368616e6e656c2043686b</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0023</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0023 0x2300510229b1000422012e40136f1000000010000000001100000000000000ce5043492050617269747920457272</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0024</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0024 0x2400510229b1000522012e40136f2000000020000000001100000000000000ce5043492053797374656d20457272</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0025</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0025 0x250051022bb1000622012e40106f0100000001000000001100000000000000d0534245204c6f672044697361626c6564</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0026</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0026 0x260051022bb1000722012e40106f0800000008000000001100000000000000d04c6f6767696e672044697361626c6564</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0027</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0027 0x2700510222b1000822012e40126f0400000004000000001100000000000000c7556e6b6e6f776e</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0028</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0028 0x280051022bb1000a22012e4007074000000040000000001100000000000000d04350552050726f746f636f6c20457272</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0029</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0029 0x2900510227b1000b22012e4007074000000040000000001100000000000000cc435055204275732050455252</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =002a</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x002a 0x2a00510227b1000c22012e4007074000000040000000001100000000000000cc43505520496e697420457272</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =002b</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x002b 0x2b0051022ab1000d22012e4007074000000040000000001100000000000000cf435055204d616368696e652043686b</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =002c</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x002c 0x2c00510228b1001122012e400c0b0200000002000000001100000000000000cd4d656d6f727920537061726564</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =002d</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x002d 0x2d0051022ab1001222012e400c0b0200000002000000001100000000000000cf4d656d6f7279204d6972726f726564</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =002e</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x002e 0x2e00510226b1001322012e400c0b0200000002000000001100000000000000cb4d656d6f72792052414944</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =002f</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x002f 0x2f00510227b1001422012e400c6f4000000040000000001100000000000000cc4d656d6f7279204164646564</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0030</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0030 0x3000510229b1001522012e400c6f4000000040000000001100000000000000ce4d656d6f72792052656d6f766564</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0031</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0031 0x3100510229b1001622012e400c6f8000000080000000001100000000000000ce4d656d6f72792043666720457272</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0032</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0032 0x3200510229b1001722012e400c0b0100000001000000001100000000000000ce4d656d20526564756e204761696e</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0033</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0033 0x3300510229b1001822012e40136f0004000000040000001100000000000000ce5043494520466174616c20457272</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0034</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0034 0x3400510226b1001922012e40136f1000000010000000001100000000000000cb4368697073657420457272</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0035</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0035 0x350051022ab1001a22012e40c17e0000000000000000001100000000000000cf4572722052656720506f696e746572</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0036</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0036 0x360051022ab1001b22012e400c070600000006000000001100000000000000cf4d656d20454343205761726e696e67</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0037</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0037 0x3700510226b1001c22012e400c070000000000000000001100000000000000cb4d656d2043524320457272</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0038</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0038 0x380051022bb1001d22012e400c070000000000000000001100000000000000d0555342204f7665722d63757272656e74</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0039</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0039 0x3900510223b1001e22012e400f6f0000000000000000001100000000000000c8504f535420457272</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =003a</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x003a 0x3a0051022bb1001f22012e402b6f0000000000000000001100000000000000d0486477722076657273696f6e20657272</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =003b</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x003b 0x3b00510227b1002022012e400c6f0000000000000000001100000000000000cc4d656d204f76657274656d70</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =003c</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x003c 0x3c0051022bb1002122012e400c6f0000000000000000001100000000000000d04d656d20466174616c20534220435243</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =003d</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x003d 0x3d0051022bb1002222012e400c6f0000000000000000001100000000000000d04d656d20466174616c204e4220435243</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =003e</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x003e 0x3e0051022bb1002322012e40116f0000000000000000001100000000000000d04f53205761746368646f672054696d65</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =003f</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x003f 0x3f0051022bb1002622012e40c26f0000000000000000001100000000000000d04e6f6e20466174616c20504349204572</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0040</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0040 0x4000510229b1002722012e40c36f0000000000000000001100000000000000ce466174616c20494f204572726f72</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #RecordId =0041</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrecord 0x0041 0x4100510227b1002822012e40c16f0000000000000000001100000000000000cc4d535220496e666f204c6f67</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #set max sdr return len</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setmaxsdrlen 22</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x01</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x01 0x4700c0</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorthreshold 0x01 0x18000000ffff00</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x0a</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x0a 0x9d00c0</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorthreshold 0x0a 0x00000000000000</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x0e</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x0e 0x9fc0c0</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorthreshold 0x0e 0x1b888300aaaf00</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x0f</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x0f 0x9f80c0</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorthreshold 0x0f 0x1b888300dadf00</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x10</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x10 0x00c00080</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x12</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x12 0x00c00180</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x16</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x16 0x00c00180</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x18</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x18 0x00c00180</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x19</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x19 0x00c00180</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x1a</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x1a 0x00c00180</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x1e</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x1e 0x00c00180</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x20</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x20 0x00c00180</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x24</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;SA_ipmi_setsensorreading 0x24 0x00c00180</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x25</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x25 0x00c00180</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x26</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x26 0x00c00180</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x30</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x30 0x1ec0c0</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorthreshold 0x30 0x02000e00000000</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x50</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x50 0x00c00180</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x52</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x52 0x00c00180</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x60</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x60 0x00c08080</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x71</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x71 0x00c00080</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x73</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x73 0x00c00080</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SensorId =0x76</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setsensorreading 0x76 0x00a0</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160; #FRUID =00</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setfruinfo 0x00 0x010a0001200000d4010900750f808364c9b2de506f77657245646765205431313020494920202020202020202020202020ce434e373038323131434730384739c93031355448394130374103c10000f30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010d008364c9b2ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000c20000c20000c7345156504b5331ca20202020202020202020c0c10000000000c1</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setipguid 0x44454c4c510010568050b4c04f4b5331</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#NetFn = 0a, Cmd = 20</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action 0a_20</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_clearrespdata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x0b</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespcompcode 0x00</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_appendrespdata 0x514100b610ffffffffffffffff42</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#NetFn = 0a, Cmd = 10</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action 0a_10</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_clearrespdata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x0b</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespcompcode 0x00</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_appendrespdata 0x001000</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#NetFn = 00, Cmd = 01</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action 00_01</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_clearrespdata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x01</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespcompcode 0x00</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_appendrespdata 0x21000054</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#NetFn = 06, Cmd = 01</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action 06_01</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_clearrespdata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x07</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespcompcode 0x00</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_appendrespdata 0x2080018002dfa20200000100010000</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#NetFn = 0a, Cmd = 40</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action 0a_40</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_clearrespdata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x0b</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespcompcode 0x00</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_appendrespdata 0x510300d01f5e267c4fe0da504f02</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#NetFn = 0a, Cmd = 48</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action 0a_48</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_clearrespdata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x0b</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespcompcode 0x00</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_appendrespdata 0xedc9c251</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#NetFn = 06, Cmd = 07</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action 06_07</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_clearrespdata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x07</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespcompcode 0x00</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_appendrespdata 0x2a2a</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#NetFn = 30, Cmd = 0b</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action 30_0b</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_clearrespdata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x31</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespcompcode 0xc1</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_appendrespdata 0x</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#NetFn = 30, Cmd = 0c</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action 30_0c</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_clearrespdata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x31</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespcompcode 0xc1</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_appendrespdata 0x</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#NetFn = 30, Cmd = 21</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action 30_21</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_clearrespdata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x31</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespcompcode 0xd4</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_appendrespdata 0x</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#NetFn = 30, Cmd = 70</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action 30_70</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_clearrespdata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x31</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;SA_ipmi_setrespcompcode 0xc1</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_appendrespdata 0x</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#NetFn = 06, Cmd = 3c</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action 06_3c</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_clearrespdata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x07</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_setrespcompcode 0x00</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_ipmi_appendrespdata 0x</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Learning_IPMI_from_Devicebc-208"></a><a name="Learning_IPMI_from_Device" id="Learning_IPMI_from_Device">Learning IPMI from Device</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;IPMI-&gt;Learn From Device..</span> <b>&#160;</b></i>submenu allows you to talk with a device by sending it IPMI commands and records the device’s responses into a file in the format that is required by the SimpleAgentPro for subsequent simulation.</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="429" height="413" src="pro_205_files/image171.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_84_Learning_IPMI" id="Figure_84_Learning_IPMI">Figure</a> 84:&#160; Learning IPMI responses from Device..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_MIBObject">Teacher IP/Name</p>
<p class="WD_Normal">Specify the IP address/name of the device to which you want to send IPMI requests so that you can record their responses in the modeling file for seeding the simulation.</p>
<p class="WD_MIBObject">IPMI Port</p>
<p class="WD_Normal">Specify the UDP port to which the IPMI requests are to be sent.&#160; By default the IPMI port is 623.</p>
<p class="WD_MIBObject">User Name</p>
<p class="WD_Normal">Specify the user name to use when sending IPMI requests.</p>
<p class="WD_MIBObject">Password</p>
<p class="WD_Normal">Specify the associated password with the user to be used when sending IPMI requests.</p>
<p class="WD_MIBObject">Output Data File</p>
<p class="WD_Normal">Specify the output ipmi modeling file to be created by recording the responses “learnt” from the device.</p>
<p class="WD_MIBObject">Optional Rules File</p>
<p class="WD_Normal">Specify an optional rules file to be used to tell SimpleAgentPro about the version to use when learning and some additional commands to learn.&#160; The optional rules file is a simple ascii file and currently supports two constructs:</p>
<p style=" text-indent:.5in;" class="WD_Normal">%VERSION=&lt;1.5/2.0&gt;</p>
<p class="WD_Normal">This specifies the version to use when learning.&#160; By default, the IPMI learner uses the highest version supported by the device for the specified username/password.</p>
<p style=" text-indent:.5in;" class="WD_Normal">%CMD &lt;netfn&gt; &lt;cmd&gt; &lt;reqdata&gt;</p>
<p class="WD_Normal">This specifies the additional commands to be sent to the device for learning the responses.&#160; By default IPMIlearner learns sensor records, thresholds, fru data and some commonly used commands like getguid etc.&#160; If you want it to learn more commands, you can specify the commands to learn and the corresponding request data field values in hex and the IPMI learner will send those commands to the device and record its responses in the modeling file.</p>
<p class="WD_MIBObject">Debug</p>
<p class="WD_Normal">Enabling this, tells SimpleAgentPro to write out some debug messages to the specified debug file.</p>
<p class="WD_MIBObject">Debug File</p>
<p class="WD_Normal">If Debugging is enabled, the debug file will contain debug messages that detail the learning process.</p>
<p class="WD_MIBObject">Status</p>
<p class="WD_Normal">The Status Window shows the status of the IPMI&#160; learning process and the request that it is currently processing.</p>
<p class="WD_MIBObject">Start</p>
<p class="WD_Normal">Click the Start button to initiate the IPMI&#160; learning process. The old contents of the output file will be lost, and a new output file will be created.</p>
<p class="WD_MIBObject">Done</p>
<p class="WD_Normal">Click the Done button to exit from the <i>Learn IPMI Responses&#160; from Device</i> screen and return to SimpleAgentPro screen. If the IPMI&#160; learning is in progress, click <i>Done</i> to stop it</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A command line utility called “ipmilearn” is also available to learn IPMI responses at customer sites.</p>
<p class="WD_Normal">&#160;</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p style=" margin-left:3.0in; text-indent:0in;" class="WD_chaptitle">Chapter 19<br />
<a name="Chapter_19_Netconfbc-209"></a><a name="Chapter_19_Netconf" id="Chapter_19_Netconf">Netconf Support</a></p>
<p class="WD_Normal">You can now interact with the simulated devices via Netconf&#160; in addition to other Management Protocols like SNMP, Telnet/CLI, SOAP, HTTP etc.&#160;&#160; Also included is a netconf converter utility “ncdconv” to convert netconf debug files created in proxy forwarding mode to a netconf modeling file.&#160;</p>
<p class="WD_Normal">Netconf support is currently only availale on Linux as it works in conjunction with the modified opensshd server that is available on Linux.&#160; The proxy forwarder capability also requires ssh libraries that are available on Linux.</p>
<p class="WD_Normal">The modified opensshd server config files need to be first modified to make it open netconf port 830 in addition to the regular 22 (edit the /usr/local/etc/sshd_config file and add a line “Port 830” to it).&#160; Once the opensshd server is started and incoming client application requests come in, it will look into the saprossh.ini file that is created by SimpleAgentPro for username and password information.&#160; Upon successful login, it will forward the unencrypted requests to the netconf thread inside the simulator.&#160; The netconf thread will read the incoming packet and process it based on information in the associated modeling file, and send the response back to the modified opensshd server which in turn will forward the response back to the client application.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Netconf_Modeling_Filebc-210"></a><a name="Netconf_Modeling_File" id="Netconf_Modeling_File">Netconf Modeling File</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can associate a “*.ncf” file with a device in which you can specify the data to be used when responding to Netconf requests.&#160;</p>
<p class="WD_Normal">The simulator will send a Hello message at startup if no message is specified in the modeling file. For other comamnd requests, it looks into the modeling file for corresponding command actions and evaluates the associated scripts that build the response to be generated.&#160;&#160;&#160; The&#160; chapter on Tcl Commands has described the Netconf&#160; extensions available.</p>
<p class="WD_Normal">The Netconf modeling file has the following format:</p>
<p class="WD_Normal3">&#160;&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;%init_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted when the Netconf session is started. This is typically the place where the hello message can be specfied.</p>
<p style=" margin-left:0in;" class="WD_Normal3">%stop_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted when the Netconf session is closed.&#160; It typically is the place where you can do some cleanup if required.</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%cmd_action &lt;command&gt;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This construct is the heart of the Netconf&#160; simulator.&#160; The Tcl script will get interpreted when the associated command is received.&#160; Additional command request parameters can be examined to give parameter specific responses.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%default_cmd_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The Tcl script will get interpreted if none of the specified commands match with the input string.</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%timer_action &lt;interval_in_secs&gt; &lt;optional count&gt;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The Tcl script will get periodically interpreted based on the specified interval.</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">A simple test.ncf&#160; is shown below.&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_debugflag 2</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_debugfile netconf_$myIP.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%cmd_action get</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_cleardata</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&lt;data&gt;Hello world&lt;/data&gt;"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_sendreply</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">A nc_sample.ncf &#160;in the &lt;install_dir&gt;/netconf directory that was learnt from a netopeer test netconf agent is shown below.&#160;</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # to turn debugging on,uncomment next 2 lines</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # setting flag to 1 shows packets</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # setting flag to 2 also shows characters</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SA_netconf_debugflag 1</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SA_netconf_debugfile netconf_${myIP}.dbg</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #setting hello message</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_setnshref "urn:ietf:params:xml:ns:netconf:base:1.0"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_cleardata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&lt;capabilities&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160; &lt;capability&gt;urn:ietf:params:netconf:base:1.1&lt;/capability&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160; &lt;capability&gt;http://netconfcentral.org/ns/toaster?module=toaster&amp;amp;revision=2009-11-20&lt;/capability&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160; &lt;/capabilities&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_sendhello</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#handler for get request</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action get</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_cleardata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&lt;data&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160; &lt;toaster xmlns=\"http://netconfcentral.org/ns/toaster\"&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160;&#160;&#160; &lt;toasterManufacturer&gt;CESNET, z.s.p.o.&lt;/toasterManufacturer&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160;&#160;&#160; &lt;toasterModelNumber&gt;toaster&lt;/toasterModelNumber&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160;&#160;&#160; &lt;toasterStatus&gt;up&lt;/toasterStatus&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160; &lt;/toaster&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160; &lt;/data&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_sendreply</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#handler for get-config request</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action get-config</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set reqparam [SA_netconf_getreqparam]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if {$reqparam == "(N=source)(N=running)" } {</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_netconf_cleardata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_netconf_sendreply</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set reqparam [SA_netconf_getreqparam]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if {$reqparam == "(N=source)(N=startup)" } {</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_netconf_cleardata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_netconf_sendreply</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#handler for get-schema request</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action get-schema</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set reqparam [SA_netconf_getreqparam]</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if {$reqparam == "(N=identifier,V=abc)" } {</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_netconf_cleardata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160; &#160;&#160;&#160;SA_netconf_appenddata "&lt;rpc-error&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160; &lt;error-type&gt;protocol&lt;/error-type&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160; &lt;error-tag&gt;invalid-value&lt;/error-tag&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160; &lt;error-severity&gt;error&lt;/error-severity&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160; &lt;error-message&gt;The requested schema does not exist.&lt;/error-message&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_netconf_appenddata "&#160; &lt;/rpc-error&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_netconf_sendreply</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#handler for close-session request</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action close-session</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_cleardata</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&lt;rpc-error&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160; &lt;error-type&gt;application&lt;/error-type&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160; &lt;error-tag&gt;operation-not-supported&lt;/error-tag&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata " &#160;&#160;&#160;&lt;error-severity&gt;error&lt;/error-severity&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160;&#160;&#160; &lt;error-message&gt;Request could not be completed because the requested operation is not supported by this implementation.&lt;/error-message&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_appenddata "&#160; &lt;/rpc-error&gt;\n"</font></span></p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_sendreply</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A nc_fwd.ncf&#160; in the &lt;install_dir&gt;/netconf directory to do proxy forwarding is shown below.&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # turn debugging on</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_debugflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_debugfile netconf_$myIP.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # forward incoming requests to a real netconf server</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # running on 192.168.50.11 on port 830 and connect</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # over ssh with user "admin", password "abc" and wait</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # at most 180 secs for a response</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_requestforwarder 192.168.50.11 830 admin abc 180</font></span></p>
<p class="WD_Normal">A nc_debug.ncf&#160; in the &lt;install_dir&gt;/netconf directory to enable debugging is shown below.&#160;</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # turn debugging on</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # setting flag to 1 shows packets</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # setting flag to 2 also shows characters</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_debugflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_netconf_debugfile netconf_$myIP.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Creating_Netconfbc-211"></a><a name="Creating_Netconf" id="Creating_Netconf">Creating Netconf Modeling Files</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;Netconf-&gt;Record and Create..</span> <b>&#160;</b></i>submenu allows you to create the Netconf modeling file based on actual requests/responses received by the proxy forwarder.</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="575" height="450" src="pro_205_files/image173.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_85_Selecting" id="Figure_85_Selecting">Figure</a> 85:&#160; Selecting Record &amp; Create from the menu.</p>
<p class="WD_Normal">You will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="404" height="505" src="pro_205_files/image175.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_86_Netconf" id="Figure_86_Netconf">Figure</a> 86:&#160; Netconf Modeling File with Record &amp; Create at Start..</p>
<p class="WD_MIBObject">Proxy IP</p>
<p class="WD_Normal">Specify the IP address of the proxy simulated device that you want to start that will open up the specified port and receive requests from your application and forward the to the specified real Server IP/port while transcribing the request/response packets in a debug file to be used to create the playback file.&#160; This IP is an IP that is currently not in use and will act as a proxy and will be supported by SAPro.&#160; This is the IP address where you will direct your application and make it send requests to.</p>
<p class="WD_MIBObject">Real Server IP</p>
<p class="WD_Normal">Specify the real server IP address where the proxy should forward the received requests to.&#160; This is typically a real server/device from which you want to “learn” the responses.&#160;</p>
<p class="WD_MIBObject">Real Server Port</p>
<p class="WD_Normal">Specify the real server port&#160; where the proxy should forward the received requests to.&#160; This is also the port that the proxy will open to receive requests on.&#160;</p>
<p class="WD_Normal">Your management application will send requests to the ProxyIP/port and the proxy will forward the request to the RealServer IP/port and in turn also forward the responses from the real server back to your management application while recoding the request/responses in a debug file.&#160;</p>
<p class="WD_MIBObject">SSH User Name</p>
<p class="WD_Normal">Specify the user name used to login to the real server.&#160; This is also the username used by the proxy itself for your management application to login.</p>
<p class="WD_MIBObject">SSH Password</p>
<p class="WD_Normal">Specify the associated password for the specified user name used to login to the real server.&#160; This is also the password used by the proxy itself for your management application to login.</p>
<p class="WD_MIBObject">Output File:</p>
<p class="WD_Normal">Specify the name of the Output Modeling file to be created.&#160;</p>
<p class="WD_MIBObject">Auto Stop:</p>
<p class="WD_Normal">You can specify the number of minutes after which the proxy/recording will automatically stop and whatever has been recorded thus far will get converted to a playback file.&#160; Optionally, you can manually stop the recording.</p>
<p class="WD_Normal">If you click to “Start”, you will see the dialog box shown below.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="405" height="503" src="pro_205_files/image177.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_87_Creating" id="Figure_87_Creating">Figure</a> 87:&#160; Creating Netconf Modeling File while recoding..</p>
<p class="WD_Caption">.</p>
<p class="WD_Normal">Now the proxy device with the specified IP is waiting to receive requests.&#160; When it receives requests, it will forward them to the specified Real Server and return the response received while recoding the request/responses.</p>
<p class="WD_Normal">If there are any errors, they will appear in the proxy log file.&#160; Internally, this dialog starts a map with one device.</p>
<p class="WD_Normal">After your application is finished with its interaction, you can stop the proxy by clicking on the Stop button and you will see the following dialog and a modeling file &#160;will be created.</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="403" height="504" src="pro_205_files/image179.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_88_Creating" id="Figure_88_Creating">Figure</a> 88:&#160; Creating Netconf Modeling File upon completion.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The abc.ncf file will typically be created in the sapro/netconf directory.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:247.5pt; text-indent:76.5pt;" class="WD_chaptitle">Chapter 20<br />
<a name="Chapter_20_HTTP_Clientbc-212"></a><a name="Chapter_20_HTTP_Client" id="Chapter_20_HTTP_Client">HTTP-Client Support</a></p>
<p class="WD_Normal">Simulated devices can also act as HTTP clients to register themselves with a specified HTTP server.&#160; This is helpful with the new Plug-N-Play type protocol interaction where a device registers with a HTTP server.</p>
<p class="WD_Normal">Like other protocol simulations, the HTTP client requests and response handling is determined by the contents of the associated modeling file.</p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="HTTP_Client_Modeling_Filebc-213"></a><a name="HTTP_Client_Modeling_File" id="HTTP_Client_Modeling_File">HTTP Client Modeling File</a></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can associate a “*.xcf” file with a device in which you can configure the HTTP requests to be sent out.&#160; The information in this file (which is similar to other modeling files) is specified via Tcl commands.&#160; The&#160; chapter on Tcl Commands has described the XML extensions available.</p>
<p class="WD_Normal">Like other modeling files, the XML modeling file also has many sections which allow you to define a tcl script and when the script is to be executed.&#160; All attributes of the XML simulation can be controlled via tcl commands.&#160;&#160; The XML modeling file has the following format:</p>
<p class="WD_Normal3">&#160;&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;%xml_init_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted when the XML session is started.&#160; It typically is the place where you can will define the initial value for variables, etc…</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">%xml_stop_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted when the XML session is closed.&#160; It typically is the place where you can do some cleanup if required.</p>
<p style=" margin-left:0in;" class="WD_Normal3">%xml_timer_action &lt;n or n,m&gt;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">This Tcl script will get interpreted&#160; every n seconds or at a random interval between n and m.</p>
<p style=" margin-left:0in;" class="WD_Normal3">%xml_recvresp_action</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;tcl_script&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">The Tcl script will get interpreted when the client receives a response for the request made by it.</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p class="WD_Normal">A sample .xmf is shown below.&#160;</p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%xml_init_action</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_debugflag 1</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_debugfile httpcl_${myIP}.dbg</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_sethttpreqmethod GET</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_sethttpreqversion 1</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_sethttprequri "/index.html"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_clear_http_hdroptions</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_append_http_hdroptions "Content-Type: text\r\n"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_clear_http_pkt_body</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_send_http_pkt</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%xml_recvresp_action</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_debugputs "reqversion = [SA_xml_gethttpresp_version]"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_debugputs "status = [SA_xml_gethttpresp_status]"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_debugputs "reason = [SA_xml_gethttpresp_reason]"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_debugputs "options = [SA_xml_gethttpresp_hdroptions]"</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_xml_debugputs "body = [SA_xml_gethttpresp_pkt_body]"&#160;&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Creating_HTTP_Clientbc-214"></a><a name="Creating_HTTP_Client" id="Creating_HTTP_Client">Creating HTTP Client Modeling Files</a></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The <i><span style=" font-family:'Arial' ,'sans-serif';">DataFiles-&gt;Http-&gt;Record and Create..</span> <b>&#160;</b></i>submenu allows you to create the client modeling file based on actual requests/responses received by the proxy forwarder, by selecting the HTTP-Client option.</p>
<p class="WD_Normal">&#160;</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p style=" text-indent:0in;" class="WD_chaptitle">Chapter 21<br />
<a name="Chapter_21_Wizardsbc-215"></a><a name="Chapter_21_Wizards" id="Chapter_21_Wizards">Wizards</a></p>
<p class="WD_Normal">SimpleAgentPro now provides the facility to quickly create multiple maps thru the usage&#160; of wizards targeted to specific applications and industries. The wizards facilitates input in a format that the user is familiar with and translates it into the format required for SimpleAgentPro. It takes the user step by step thru the creation of maps specific to a certain application.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Cable_Wizardbc-216"></a><a name="Cable_Wizard" id="Cable_Wizard">Cable Wizard</a></p>
</div>
<p class="WD_Normal">The cable wizard is designed specifically to address the needs of different simulation configurations for the Cable Modem Industry.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="629" height="356" src="pro_205_files/image181.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_89_Cable_Wizard" id="Figure_89_Cable_Wizard">Figure</a> 89:&#160; Cable Wizard Main Dialog Box</p>
<p class="WD_Normal">You can create different projects for each scenario. The project name is specified at the onset. As you go through each of the steps in the Cable Wizard, you will be asked for different parameters needed to create the necessary workspace, maps and modeling files.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Currently, two types of simulation scenarios are supported, CM simulation and CM/MTA simulation.</p>
<p class="WD_Normal">&#160;</p>
<p style=" text-indent:0in;" class="WD_Heading3">CM Simulation</p>
<p class="WD_Normal">In the CM simulation case, a CMTS is associated with hundreds of CMs. One map is created for the CMTS and several CM maps may be created depending upon the total number of CMs.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The device types for the CMTS and the CMs can be selected from the device library supplied with SimpleAgentPro. You can also add your own device types to the device library and then use them to build your cable configuration</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The CMTS should be assigned a static IP address. You can optionally have the CMTS support DHCP Relay functionality.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Each of the CMs can have a static IP or they can make DHCP queries to be assigned an IP address dynamically. The CMs can also be setup to make TFTP boot file request and TOD request to specific servers. In addition, the user can also specify whether a notification should be sent to the CMTS to update the docsIfCmtsCmStatusTable.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once you say “Finish” on the last screen, a workspace with a series of maps and tcl scripts will be created to reflect the scenario.&#160; The workspace file for this project will be located in the “wsp” directory and for the rest of the files, another directory with the project name that was specified earlier will be created under the “projects” directory. All the map files will be created in the “map” directory under this project directory and the tcl modeling files will be created under the “tcl” directory under the project directory.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Finally, when starting a simulation, the CMTS map should be started prior to starting the CM maps. Thus, the CMs will have a CMTS to register with.</p>
<p class="WD_Normal">&#160;</p>
<p style=" text-indent:0in;" class="WD_Heading3">CM/MTA Simulation</p>
<p class="WD_Normal">In the CM/MTA simulation case, a CMTS is associated with hundreds of CM/MTAs. One map is created for the CMTS and several CM/MTA maps may be created depending upon the total number of CM/MTAs.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The device types for the CMTS and the CM/MTAs can be selected from the device library supplied with SimpleAgentPro. You can also add your own device types to the device library and then use them to build your cable configuration</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The CMTS should be assigned a static IP address. You can optionally have the CMTS support DHCP Relay functionality.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For the CMs, the user can specify the mac address and a gateway address. The CMs can also be setup to make TFTP boot file request and TOD request to specific servers. In addition, the user can also specify whether a notification should be sent to the CMTS to update the docsIfCmtsCmStatusTable</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For the MTAs, the user can specify the mac address and a gateway address. Once the CM is initialized, the MTA makes a DHCP request to get an IP address. DHCP options can also be specified.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The MTA can also be setup to send an inform to the provisioning server.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The MTA can also be setup to make TFTP request once the provisioning server “SETs” a specified SNMP variable. It can also be setup to support rebooting.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The MTA can also be setup to send an inform or a trap upon completion of the provisioning process.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Thus the initialization packet flow, as specified in the “PacketCable 1.0 Specification”, can be simulated for thousands of CM/MTAs.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once you say “Finish” on the last screen, a workspace with a series of maps and tcl scripts will be created to reflect the scenario.&#160; The workspace file for this project will be located in the “wsp” directory and for the rest of the files, another directory with the project name that was specified earlier will be created under the “projects” directory. All the map files will be created in the “map” directory under this project directory and the tcl modeling files will be created under the “tcl” directory under the project directory.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Finally, when starting a simulation, the CMTS map should be started prior to starting the CM/MTA maps. Thus, the CM/MTAs will have a CMTS to register with.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">Starting with SimpleAgentPro 7.5, to have Cable Wizard support, you need to get a MODULEKEY from SIMPLESOFT for your machine, and add it to the config.inp file.</p>
</div>
<p class="WD_Chapter">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Discovery_Wizardbc-217"></a><a name="Discovery_Wizard" id="Discovery_Wizard">Discovery Wizard</a></p>
</div>
<p class="WD_Normal">The discovery wizard is designed specifically to address the needs of discovering an existing network and then simulating the same using SimpleAgentPro.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="576" height="325" src="pro_205_files/image183.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_90_Discovery" id="Figure_90_Discovery">Figure</a> 90:&#160; Discovery Wizard Main Box..</p>
<p class="WD_Caption">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can create different projects for each scenario. The project name is specified at the onset. As you go through each of the steps in the Discovery Wizard, you will be asked for different parameters needed to create the necessary workspace and maps.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the IP criterea sub-dialog, there are three ways you can specify the IP search criterea. Also, multiple criterea can be specied in a single discovery session and the they can be overlapping. The three ways in which you can specify the IP criterea is :</p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal"><b>Seed</b></p>
<p class="WD_Normal">You can specify the seed from which you wish to begin the discovery.</p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal"><b>Subnet</b></p>
<p class="WD_Normal">You can specify the subnet in which you wish to discover nodes.</p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal"><b>Range</b></p>
<p class="WD_Normal">You can specify a range of IP address to try and discover. SimpleAgentPro will interrogate each of the IPs in the range and discover valid SNMP devices.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the SNMP Criteria sub-dialog,&#160; you can specify the V1, V2 and V3 criterea to perform the discovery.&#160; These are access profiles like community strings and v3 authentication and privacy key information to use to talk SNMP with the devices.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once you say “Finish” on the last screen, a separate process to discover the nodes will be started. At this point you can either wait for the completion of the discovery process and then click on “Load the new workspace” or you could click on “done” and then when the discovery process is done, you could manually load the newly created workspace.</p>
<p class="WD_Normal">discovery process is done, you can manually load the newly created workspace.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="CA_Spectrum_Wizardbc-218"></a><a name="CA_Spectrum_Wizard" id="CA_Spectrum_Wizard">CA Spectrum Wizard</a></p>
</div>
<p class="WD_Normal">The CA Spectrum wizard allows you to quickly create a simulation of your existing network that is managed using Spectrum, which keeps track of the topology of your network. In the SimpleAgentPro’s bin directory there is a utility called, “CADevLst.exe” which, from the topology information in Spectrum, creates a file that contains a list of devices in the network. For each device an SNMP walk is carried out to “learn” its SNMP variable information.&#160; Map, device, and variable files are then created and a simulation of your current network can be started on an isolated network.&#160; Error scenarios and changes can be introduced in the simulated network and checked for disaster recovery testing, training and pre-deployment testing.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The CADevLst.exe utility requires an environment variable called, “VNMSHPATH” that contains the location of Spectrum’s vnmsh directory. This utility creates a file called devlist.out, which will contain the device list required by the SimpleAgentPro.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="576" height="330" src="pro_205_files/image185.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_91_CA_Spectrum" id="Figure_91_CA_Spectrum">Figure</a> 91:&#160; CA Spectrum Discovery Wizard Main Dialog Box</p>
<p class="WD_Normal">You can create different projects for each scenario. The project name is specified at the onset. As you go through each of the steps in the wizard, you will be asked for different parameters needed to create the necessary workspace and maps.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="576" height="330" src="pro_205_files/image187.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_92_CA_Spectrum" id="Figure_92_CA_Spectrum">Figure</a> 92:&#160; CA Spectrum Wizard Options Dialog.</p>
<p class="WD_Normal">Specify the name of the file containing the device list. To shorten the SNMP learning time, you can choose to learn only whatever is under the “mib2” branch of the MIB by clicking on the checkbox labeled, “Learn ‘mib2’ only.”</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once you say “Finish” on the last screen, a separate process to create the new map will be started. At this point you can either wait for the completion of the discovery process and then click on “Load the new workspace” or you could click on “done” and then when the discovery process is done, you can manually load the newly created workspace.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="HP_OpenView_Wizardbc-219"></a><a name="HP_OpenView_Wizard" id="HP_OpenView_Wizard">HP OpenView Wizard</a></p>
</div>
<p class="WD_Normal">The HP OpenView wizard allows you to quickly create a simulation of your existing network that is managed using OpenView. The OpenView object database is tapped to build a list of devices, along with their corresponding SNMP profile. For each device an SNMP walk is carried out to “learn” its SNMP variable information. Map, device, and variable files are then created and a simulation of your current network can be started on an isolated network. Error scenarios and changes can be introduced in the simulated network and checked for disaster recovery testing, training and pre-deployment testing.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="576" height="330" src="pro_205_files/image189.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_93_HP_OpenView" id="Figure_93_HP_OpenView">Figure</a> 93:&#160; HP OpenView Discovery Wizard Main Dialog Box.</p>
<p class="WD_Normal">You can create different projects for each scenario. The project name is specified at the onset. As you go through each of the steps in the HP OpenView Discovery Wizard, you will be asked for different parameters needed to create the necessary workspace and maps.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="576" height="330" src="pro_205_files/image191.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_94_HP_OpenView" id="Figure_94_HP_OpenView">Figure</a> 94:&#160; HP OpenView Discovery Wizard Options Dialog Box.</p>
<p class="WD_Normal">You can use the wizard to learn from OpenView if it is running on the same machine as SimpleAgentPro, or you can use the wizard to process the walk files and device list file created by running the <i>sovlearn.bat</i> batch file on the machine running OpenView.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If OpenView is running on the same machine as SimpleAgentPro, select the “Locally” option and specify the address of the subnet you would like to simulate. You can also choose to specify all the devices in the OpenView object database by leaving the Subnet Filter field empty. To shorten the SNMP learning time, you can choose to learn only whatever is under the “mib2” branch of the MIB by clicking on the checkbox labeled, “Learn ‘mib2’ only.”</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If OpenView is running on a different machine, then copy sovlearn.bat, sapovlrn.exe, sapnwalk.exe, and sapwalk2.exe to that machine and run the sovlearn script file there. This file requires two parameters: 1) Subnet Filter 2) directory path in which to put all the created files. Once sovlearn is done, move all the files back to the SimpleAgentPro machine and when the wizard window above appears, select “Remotely” and browse for the device list file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">When running remotely, the walk files must be in the same directory as the device file.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once you say “Finish” on the last screen, a separate process to discover the nodes will be started. At this point you can either wait for the completion of the discovery process and then click on “Load the new workspace” or you could click on “done” and then when the discovery process is done, you can manually load the newly created workspace.</p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Castle_Rock_Wizardbc-220"></a><a name="Castle_Rock_Wizard" id="Castle_Rock_Wizard">Castle Rock Wizard</a></p>
</div>
<p class="WD_Normal">The Castle Rock SNMPc wizard allows you to quickly create a simulation of your existing network that is managed using SNMPc.&#160; The Castle Rock topology database is tapped to build a list of devices, along with their corresponding SNMP profile. For each device an SNMP walk is carried out to “learn” its SNMP variable information. Map, device, and variable files are then created and a simulation of your current network can be started on an isolated network. Error scenarios and changes can be introduced in the simulated network and checked for disaster recovery testing, training and pre-deployment testing.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="576" height="330" src="pro_205_files/image193.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_95_Castle_Rock" id="Figure_95_Castle_Rock">Figure</a> 95:&#160; Castle Rock SNMPc Discovery Wizard Main Dialog Box.</p>
<p class="WD_Normal">You can create different projects for each scenario. The project name is specified at the onset. As you go through each of the steps in the Castle Rock Discovery Wizard, you will be asked for different parameters needed to create the necessary workspace and maps.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="576" height="330" src="pro_205_files/image195.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_96_Castle_Rock" id="Figure_96_Castle_Rock">Figure</a> 96:&#160; Castle Rock SNMPc Discovery Wizard Options Dialog Box.</p>
<p class="WD_Normal">You can use the wizard to learn from Castle Rock SNMPc if it is running on the same machine as SimpleAgentPro, or you can use the wizard to process the walk files and device list file created by running the <i>sscrlearn.bat</i> script file on the machine running SNMPc.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If SNMPc is running on the same machine as SimpleAgentPro, select the “Locally” option and specify the address of the subnet you would like to simulate. You can also choose to specify all the devices in the SNMPc topology database by leaving the Subnet Filter field empty. To shorten the SNMP learning time, you can choose to learn only whatever is under the “mib2” branch of the MIB by clicking on the checkbox labeled, “Learn ‘mib2’ only.”</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If SNMPc is running on a different machine, then copy sscrlearn.bat, sapcrlrn.exe, sapnwalk.exe, and sapwalk2.exe to that machine and run the sscrlearn script file there. This file requires two parameters: 1) Subnet Filter and 2) directory path in which to put all the created files. Once sscrlearn is done, move all the generated files back to the SimpleAgentPro machine and when the wizard window above appears, select “Remotely” and browse for the device list file.&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The sapcrlrn.exe is built based on CastleRock’s SDK and requires dll files in the CastleRock installation to be present in the PATH environment variable to run correctly.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">When running remotely, the walk files must be in the same directory as the device file.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once you say “Finish” on the last screen, a separate process to discover the nodes will be started. At this point you can either wait for the completion of the discovery process and then click on “Load the new workspace” or you could click on “done” and then when the discovery process is done, you can manually load the newly created workspace.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.25in;" class="WD_scripts"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Management_Platformbc-221"></a><a name="Management_Platform" id="Management_Platform">Management Platform Wizard</a></p>
</div>
<p class="WD_Normal">The Management Platform wizard allows you to quickly create a simulation of your existing network that is managed using a network management application that keeps track of the topology of your network. From the topology information create a file that contains a list of devices in the network. For each device an SNMP walk is carried out to “learn” its SNMP variable information.&#160; Map, device, and variable files are then created and a simulation of your current network can be started on an isolated network.&#160; Error scenarios and changes can be introduced in the simulated network and checked for disaster recovery testing, training and pre-deployment testing.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="576" height="340" src="pro_205_files/image197.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_97_Management" id="Figure_97_Management">Figure</a> 97:&#160; Management Platform Wizard Main Dialog Box.</p>
<p class="WD_Caption">&#160;</p>
<p class="WD_Normal">You can create different projects for each scenario. The project name is specified at the onset. As you go through each of the steps in the wizard, you will be asked for different parameters needed to create the necessary workspace and maps.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="576" height="340" src="pro_205_files/image199.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_98_Management" id="Figure_98_Management">Figure</a> 98:&#160; Management Platform Discovery Wizard Options Dialog Box.</p>
<p class="WD_Caption">&#160;</p>
<p class="WD_Normal">If you choose to do the learning on the same machine as SimpleAgentPro, select the “Locally” option and specify the name of the file containing the device list. To shorten the SNMP learning time, you can choose to learn only whatever is under the “mib2” branch of the MIB by clicking on the checkbox labeled, “Learn ‘mib2’ only.”</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If must do the learning on a different machine, then copy ssnmlearn.bat, sapnwalk.exe,sapwalk2.exe to that machine and run the ssnmlearn script file there. This file requires two parameter: 1) name of the file containing the device list and 2) the directory path in which to put all the created files. Once ssnmlearn is done, move all the files back to the SimpleAgentPro machine and when the wizard window above appears, select “Remotely” and browse for the device list file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The device list file must be a plain text file and have the following format, with one device per line and each parameter separated by spaces:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span style=" font-family:'Times New Roman' ,'serif';">ip_addr [v1|v2] community_string</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">or</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_issuedate"><span style=" font-family:'Times New Roman' ,'serif';">ip_addr v3 [nAnP|AnP|AP] user_name [MD5|SHA] auth_password priv_password</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Where:</p>
<p class="WD_hang25"><b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">ip_addr</font></span></b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IP Address of the device</font></span></p>
<p class="WD_hang25"><b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">[v1|v2]</font></span></b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SNMP version: either SNMPv1 (v1) or SNMPv2C (v2)</font></span></p>
<p class="WD_hang25"><b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">community_string</font></span></b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Read community script</font></span></p>
<p class="WD_hang25"><b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">v3</font></span></b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SNMP version: SNMPv3</font></span></p>
<p class="WD_hang25"><b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">[nAnP|AnP|AP]</font></span></b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Security Level: noAuth/noPriv (nAnP), Auth/noPriv (AnP), or Auth/Priv (AP)</font></span></p>
<p class="WD_hang25"><b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">user_name</font></span></b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Security Name</font></span></p>
<p class="WD_hang25"><b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">[MD5|SHA]</font></span></b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Authentication Protocol: MD5 or SHA</font></span></p>
<p class="WD_hang25"><b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">auth_password</font></span></b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Authentication Password</font></span></p>
<p class="WD_hang25"><b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">priv_password</font></span></b><span style=" font-size:12.0pt; line-height:115%;"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Privacy Password</font></span></p>
<p class="WD_hang25">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">When running remotely, the walk files must be in the same directory as the device file.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once you say “Finish” on the last screen, a separate process to create the new map will be started. At this point you can either wait for the completion of the discovery process and then click on “Load the new workspace” or you could click on “done” and then when the discovery process is done, you can manually load the newly created workspace.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Topo_Map_Generator_Wizardbc-222"></a><a name="Topo_Map_Generator_Wizard" id="Topo_Map_Generator_Wizard">Topo Map Generator Wizard</a></p>
</div>
<p class="WD_Normal">The Topo Map generator wizard is a tool to allow you to quickly create scalable topologies based on a selected connectivity model.&#160; Currently support is provided for a simple router-switch-host type of a model.&#160;&#160; Other models will be added later, and the wizard will prompt the user for the associated information pertinent to the selected connectivity model.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Picture"><img border="0" width="576" height="215" src="pro_205_files/image201.jpg" alt="" /></p>
<p align="center" style=" text-align:center;" class="WD_Picture">&#160;</p>
<p class="WD_Caption"><a name="Figure_99_Topo_Map" id="Figure_99_Topo_Map">Figure</a> 99:&#160; Topo Map Generator Wizard Main Dialog Box.</p>
<p class="WD_Normal">You can specify the Seed Router IP, the Router IPs, Switch IPs and the number of routers and switchs and hosts and it will generate the maps using precreated var files.</p>
<p class="WD_Normal">&#160;</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p style=" margin-left:3.9in; text-indent:0in;" class="WD_chaptitle">Chapter 22<br />
<a name="Chapter_22_Topologybc-223"></a><a name="Chapter_22_Topology" id="Chapter_22_Topology">Topology Editor</a></p>
<p class="WD_Normal">The Topology Editor is an application that helps you create a SimpleAgentPro map in a graphical fashion. The user adds routers, switches, and PCs to the graph and defines how the devices are interconnected. Once the devices and their connections are defined, you can then generate a map that can be run in the SimpleAgentPro. The simulated devices will contain MIB tables that are consistant with real devices that are interconnected. The map generation is done with Tcl scripts and is, therefore extensible. This provides the flexibility of allowing the user to include additional MIB tables as needed.</p>
<p class="WD_Normal"><img border="0" width="575" height="389" src="pro_205_files/image203.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_100_Topology" id="Figure_100_Topology">Figure</a> 100:&#160; Topology editor</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Adding_Devicesbc-224"></a><a name="Adding_Devices" id="Adding_Devices">Adding Devices</a></p>
</div>
<p class="WD_Normal">There are two ways to add a device to the map: 1) open the Insert menu in the main window and select “New Router,” “New Switch,” or mouse over “Host” and select “New Host” or “Clone” or 2) point to any where in the white space and right mouse click to open a popup menu with the same options. (Cloning will be discussed later in this chapter.) When you select the option to add a new device, an insert device window will appear. All the fields will have a default value, expect for the IP address.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="373" height="270" src="pro_205_files/image205.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_101_Inserting_a" id="Figure_101_Inserting_a">Figure</a> 101:&#160; Inserting a device</p>
<p class="WD_Normal">Enter the IP address and alter the other parameters as you would like. The System Name will show up as the value of sysName.0 in the MIB and as the display tag in the map. The IP address, subnet mask, and MAC address will be assigned to interface 1. The number of interfaces will be reflected in the Interfaces Table. Under the SNMP tab there are three options for assigning a .cmf and .var template file used for the device: 1) default files are assigned, 2) you can specify which files to use, or 3) you can choose a device from the SimpleAgentPro’s device library. You can select a device from the library in the same manner you can select one for a simulated device.&#160; Under the Telnet tab you can specify the Telnet port on which to receive connections and the name of the associated modeling file. Once you’ve added at least two devices, you can insert a link between them.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Adding_Linksbc-225"></a><a name="Adding_Links" id="Adding_Links">Adding Links</a></p>
</div>
<p class="WD_Normal">To add a link you must select two devices on the map and select the “New Link” menu option under the Insert menu. An Insert Link window will appear and the two selected devices will be listed. As with the Insert device windows, all fields will have a default except when an IP address could not be determined, then the user will have to assign one. For the Interface Number, a drop down list will containing all the interfaces which do not currently have a link assigned. Finally the interface type can be specified. This is also a drop down list containing some default values, along with types that were read from the var files used in the current map. These interface types are saved in a file called iftype.cfg along with associated ifSpeed and ifMTU values.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="344" height="406" src="pro_205_files/image207.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_102_Inserting_a" id="Figure_102_Inserting_a">Figure</a> 102:&#160; Inserting a link</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Cloning_a_Hostbc-226"></a><a name="Cloning_a_Host" id="Cloning_a_Host">Cloning a Host</a></p>
</div>
<p class="WD_Normal">There could me many hosts contained in a map, so to ease the burdon of adding them one at a time, the Topology Editor allows you to copy (or “clone”) one of the hosts in the map. There is one restriction and that is the host to be cloned must be linked to a switch.&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="280" height="116" src="pro_205_files/image209.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_103_Cloning_a_host" id="Figure_103_Cloning_a_host">Figure</a> 103:&#160; Cloning a host</p>
<p class="WD_Normal">To clone a host, select the host you would like to copy, open the Insert menu, mouse over the Host menu item, and select Clone. A Clone Host window will appear and all you need to specify is enter the number of clones to create. The displayed range is the number of interfaces that have no link. The clones will be placed in a circle around the switch.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Generating_a_Mapbc-227"></a><a name="Generating_a_Map" id="Generating_a_Map">Generating a Map</a></p>
</div>
<p class="WD_Normal">Once creation of the topology is completed and saved, you are now ready to generate a map that can be run in the SimpleAgentPro. Under the File menu, select the Generate Map option. Enter a name for the new map (Project Name) and press the O.K. button. By default a directory with the project name will be created under the projects directory and under there will be five directories containing the map file, the .cmf files, .var files, .tcl modeling files, and telnet modeling files. If different directory beside projects is desired, then specify the path to the alternate location in the Base Directory field. The Tcl Proc Name is the name of the procedure to call when generating the new map. The File Name is the name of the library file containing the Tcl code to generate the new map. There is a option to enable the creation of tokens so that the entire map can be cloned later.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="309" height="175" src="pro_205_files/image211.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_104_Generating_a" id="Figure_104_Generating_a">Figure</a> 104:&#160; Generating a map</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Topology_Tcl_Librarybc-228"></a><a name="Topology_Tcl_Library" id="Topology_Tcl_Library">Topology Tcl Library</a></p>
</div>
<p class="WD_Normal">Maps are generated using a Tcl library. This makes the process flexible enough to allow the user to customize the map generation process to include additional MIB tables. To assist in this, the following is a description of the topology data file and a list of the Tcl procedures which reads the data file and generates the map used to run in the SimpleAgentPro.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Topology_Data_Filebc-229"></a><a name="Topology_Data_File" id="Topology_Data_File">Topology Data File</a></p>
<p class="WD_Normal">The topology data file (*.tpg) is created by the Topology Editor. It is in XML format and representative of the devices and links that are depicted in the application’s user interface. The file is comprised of two main lists: a device list and a link list. For every device there is a device type and device I.D., a group of device properties, and for routers and hosts there is a list of interfaces. The following is a list of tags and parameters and a short description of each:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-bottom:.0001pt;" class="WD_ListContinue">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Device</p>
<ol style=" margin-top:0in;" start="1" type="1">
<li style="list-style:none;display: inline">
<ol style=" margin-top:0in;" start="1" type="a">
<li>
<p><span><span><span>Type – Device type: 0 – router, 1 – switch, 3 – host</span></span></span></p>
</li>
<li>
<p><span><span><span>ID – A unique numeric identifier given to each device in the map</span></span></span></p>
</li>
</ol>
</li>
<li>
<p><span><span><span>Device Properties</span></span></span></p>
<ol style=" margin-top:0in;" start="1" type="a">
<li>
<p><span><span><span>SystemName – Unique name assigned to the device</span></span></span></p>
</li>
<li>
<p><span><span><span>IPAddress – IPv4 Address</span></span></span></p>
</li>
<li>
<p><span><span><span>Subnet – Subnet address</span></span></span></p>
</li>
<li>
<p><span><span><span>Mask – Subnet mask</span></span></span></p>
</li>
<li>
<p><span><span><span>MacAddress – The device’s MAC address</span></span></span></p>
</li>
<li>
<p><span><span><span>MaxInterfaces – Number of interfaces configured</span></span></span></p>
</li>
<li>
<p><span><span><span>UserDefinedCmfVar – Flag indicating the use of default or user defined cmf and var files: “YES” – Default/user defined, “NO” – Device library</span></span></span></p>
</li>
<li>
<p><span><span><span>CmfName – Path and name of user defined CMF file</span></span></span></p>
</li>
<li>
<p><span><span><span>VarName – Path and name of user defined VAR file</span></span></span></p>
</li>
<li>
<p><span><span><span>VendorLogo – Logo from device library</span></span></span></p>
</li>
<li>
<p><span><span><span>VendorName – Name of vendor from device library</span></span></span></p>
</li>
<li>
<p><span><span><span>VendorCmfName – Path and name of CMF file from vendor library device</span></span></span></p>
</li>
<li>
<p><span><span><span>VendorVarName – Path and name of Var file from vendor library device</span></span></span></p>
</li>
<li>
<p><span><span><span>snmpEnabled – Flag indicating that the SNMP simulation is enabled</span></span></span></p>
</li>
<li>
<p><span><span><span>tclModelingFile – Path and name of the Tcl modeling file</span></span></span></p>
</li>
<li>
<p><span><span><span>telnetEnabled – Flag indicating than the Telnet simulation is enabled</span></span></span></p>
</li>
<li>
<p><span><span><span>telnetModelingFile – Path and name of the Telnet modeling file</span></span></span></p>
</li>
</ol>
</li>
<li>
<p><span><span><span>Interface</span></span></span></p>
<ol style=" margin-top:0in;" start="1" type="a">
<li>
<p><span><span><span>MACAddress – MAC address</span></span></span></p>
</li>
<li>
<p><span><span><span>IPAddress – IP Address</span></span></span></p>
</li>
<li>
<p><span><span><span>InterfaceNumber – Interface Number</span></span></span></p>
</li>
<li>
<p><span><span><span>Mask – Subnet Mask</span></span></span></p>
</li>
<li>
<p><span><span><span>Subnet – Subnet Address</span></span></span></p>
</li>
</ol>
</li>
<li>
<p><span><span><span>Link</span></span></span></p>
<ol style=" margin-top:0in;" start="1" type="a">
<li>
<p><span><span><span>DevID1 – ID of device on one side of link</span></span></span></p>
</li>
<li>
<p><span><span><span>Interface1 – Interface number of device on one side of the link</span></span></span></p>
</li>
<li>
<p><span><span><span>DevID2 – ID of device on the other side of link</span></span></span></p>
</li>
<li>
<p><span><span><span>Interface2 – Interface number of device on the other side of the link</span></span></span></p>
</li>
<li>
<p><span><span><span>ifType – Interface Type</span></span></span></p>
</li>
</ol>
</li>
</ol>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Topology_Tcl_Library1bc-230"></a><a name="Topology_Tcl_Library1" id="Topology_Tcl_Library1">Topology Tcl Library</a></p>
<p class="WD_Normal">The topology Tcl library is a set of Tcl procedures that read a topology data file and generates a SimpleAgentPro map containing devices that reflect the connectivity and configuration specified in the data file. The library’s file name is satpglib.tcl and is located in the SimpleAgentPro’s tpg directory. To facilitate the customization of the library, this section provides an overview of procedures and highlights where to typically customize the library to add additional MIB tables</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the Topology Editor, map generation begins by opening the Generate Map window. In this window the project/map name is specified along with the name of the initial Tcl procedure to call and Tcl library file name. When the OK button is pressed a Tcl interpreter is created and the library is sourced. The initial Tcl procedure is then called with the name of the project and the name of the topology data file to read.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The initial procedure first calls, “TPG_readtopologyfile” to parse the data file and read the information into global arrays. This procedure loops through the data file reading each line, determines the tag, and looks up the procedure to call in a table called, “parseTable.” Each procedure will parse the line for parameters and build the global arrays.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The next procedure called is, “TPG_genvarfiles” which creates a var file for each device to simulate by looping through the “devices” array.. This procedure will be of most interest to the user because this is where the MIB tables are added to each var file that reflect the connectivity and information for each device in the map. For each device in the devices array, TPG_genvarfiles, copies the corresponding .cmf file to project, if it has not already been done so. It then takes the specified .var file and calls “sapvfilter” to remove all the instances of MIB objects that will be added back by topology. Then based on the device type, (switch, router, or host) it calles the appropriate procedure to add MIB instances based on the topology data. Finally, the .var file is sorted into lexicographical order using “sapvsort.”</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The next procedure called is, “TPG_genmapfile” which creates a map file containing all the devices to simulate. The procedure loops through the “devices” array and for each device it adds an entry in the project’s map file.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Main_Proceduresbc-231"></a><a name="Main_Procedures" id="Main_Procedures">Main Procedures</a></p>
<p class="WD_Normal">The following is a list of the main procedures in the Topology Tcl library and a short description of each. The procedures are listed in the order in which they are called:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_bulletbold">TPG_genproject &lt;projName&gt; &lt;xmlFilePath&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This is the initial function that is called which basically initiates three things: parse the topology data file, generates the map file, and generates each device’s .var file.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">TPG_readtopologyfile &lt;xmlFilePath&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This procedure reads in the topology data file and creates global arrays that will be used to generate the project. For each line in the data file, it extracts the tag and uses the tag as an index into the parseTable to determine what procedure to call to process the line.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">There are three globally accessible arrays are created from the topology data:</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <b><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">devices(devID,paramName)</font></span></b><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">– two dimensional array , indexed by device ID and parameter name, and contains all the device information.</font></span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">2)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <b><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">interfaces(devID,ifIndex,paramName)</font></span></b><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">– three dimensional array, indexed by device ID, interface Index, and paramter name and contains all interface information</font></span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">3)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <b><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">links(linked,paramName)</font></span></b><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">– two dimensional array, indexed by link ID and parameterName and contains information from the link list</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Also, a variable is created called, “<b>devIDList</b>,” which contains a tcl list of all the device ID’s in the map.</font></span></p>
<p style=" margin-top:12.0pt;" class="WD_bulletbold">TPG_genvarfiles &lt;projName&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This procedure generates the var files for the project. It loops through the devIDList and creates a .cmf and .var file in the project for each device in the I.D. list. For each device it:</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Copies the cmf file to the project directory, if not done already</font></span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">2)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Extracts all the MIB object instances from the .var file that procedures will replace using sapvfilter</font></span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">3)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Adds all the topology specific information to the .var file</font></span></p>
<p style=" margin-left:1.75in; text-indent:-.25in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">4)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sorts the .var file into lexicographic order</font></span></p>
<p style=" margin-top:12.0pt;" class="WD_bulletbold">TPG_genmapfile &lt;projName&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This procedure generates the map file for the project. It loops through the devIDList and adds a device for each device in the list.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">When customizing the Tcl library to add more MIB objects, there are two places that need to be modified. The first step is to add the new OID’s to the filter file so that they may be extracted from the template var file before the adding of the topology generated MIB objects. The OID’s for the new objects must be added to the corresponding filter file (router.flt, switch.flt, host.flt) based on the device type and must be inserted such that the lexicographic order is maintained. The filter files are located in the the tpg directory. The second step is to add the code that includes the new MIBs in the var file to one of three procedures, depending on the type of device: TPG_genroutervarfile, TPG_genswitchvarfile, or TPG_genhostvarfile. The tables are added at the end of the filtered var file and sapvsort is then called to sort the var file so that the value OID’s are in lexicographic order.</p>
</div>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">TPG_genroutervarfile &lt;devID&gt; &lt;ciscoDevice&gt; &lt;varChannel&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This procedure adds router specific MIB information to the .var file. The input parameters are the device ID, the cisco device flag indicating whether the device is Cisco or not, the channel ID for the var file.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">TPG_genswitchvarfile &lt;devID&gt; &lt;ciscoDevice&gt; &lt;varChannel&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This procedure adds switch specific MIB information to the .var file. The input parameters are the device ID, the cisco device flag indicating whether the device is Cisco or not, and the channel ID for the var file.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_bulletbold">TPG_genhostvarfile &lt;devID&gt; &lt;ciscoDevice&gt; &lt;varChannel&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This procedure adds host specific MIB information to the .var file. The input parameters are the device ID, and the channel ID for the var file.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="Utility_Proceduresbc-232"></a><a name="Utility_Procedures" id="Utility_Procedures">Utility Procedures</a></p>
<p class="WD_Normal">The following is a list of the Tcl procedures in the Topology Tcl library that are used by the main procedures to help in adding the MIB objects to the var files.. They are listed in the order that they appear in satpglib.tcl:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_bulletbold">isCiscoDevice &lt;varFileName&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This procedure determines whether the given var file is for a Cisco device. It checks the sysObjectID value to see if it begins with a cisco enterprise I.D. The var file name must include its directory path. The procedure returns 0 for “no” and 1 for “yes.”</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_bulletbold">convertAddrToOctetString &lt;IPAddress&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This procedure converts each decimal number of tan IPv4 address that is in dot format to a hex number, concatenates the results, and returns it as an octet string.</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_bulletbold">getIfType &lt;deviceID&gt; &lt;ifIndex&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This procedure searches the link table for the given device ID and interface index and returns the corresponding ifType enumeration.</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_bulletbold">TPG_getpeerif &lt;interfaceNumber&gt; &lt;deviceID&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This procedure returns the peer’s interface number. In other words, it is the ifIndex of the device on the other side of the link. It searches the links table, trying to find a match base on the given interface number and device I.D.</font></span></p>
<p class="WD_Normal">&#160;</p>
<b><span style=" font-size:11.0pt; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span></b>
<p class="WD_bulletbold">TPG_getpeer &lt;interfaceNumber&gt; &lt;deviceID&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This procedure returns the peer’s device I.D.. In other words, it is the I.D. of the device on the other side of the link. It searches the links table, trying to find a match base on the given interface number and device I.D.</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_bulletbold">TPG_chkdupinfo &lt;list&gt; &lt;potentialMember&gt;</p>
<p style=" margin-left:1.0in;" class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This procedure searches the given .list to make sure the potential new member is not all ready in the list. It returns a 1 if the member already exists or 0 if it is not found.</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">There are other less commonly used procedures and ones that are specific to creating a certain table. For more information edit satpglib.tcl to see the remaining procedures not documented here.</p>
</div>
<p class="WD_Normal">&#160;</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_chapnonum"><a name="Appendix_A_TCL_Modelingbc-233"></a><a name="Appendix_A_TCL_Modeling" id="Appendix_A_TCL_Modeling">Appendix A<br />
TCL Modeling File Format</a></p>
<p class="WD_Normal">The modeling file allows you to customize Agent behavior and model the interrelationships between MIB variables. These advanced features allow for additional customization and are not necessary for the basic operation of SimpleAgentPro.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Using the additional TCL commands listed in Chapter 11, TCL Commands, you can write scripts to better model the Agent behavior. For example, you could write a script that sends a trap and changes the value of variable B whenever an SNMP set request is made to change the value of variable A.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The modeling file has the following syntax:</p>
<p style=" margin-left:.5in; text-indent:0in;" class="WD_bulletbold"><i>%keyword</i> &lt;<i>optional arguments</i>&gt;</p>
<p class="WD_Normal3">where the keyword can be one of the following: init_action, timer_action, get_value_action, check_set_action, after_set_action, after_allset_action, stop_action, after_snmp_response, authfailure_action,before_snmp_request.</p>
<p class="WD_Normal"><b>TCL script</b></p>
<p class="WD_Normal3">Lines following the <b>%keyword</b> until the next <b>%keyword</b> or end of file are treated as part of the script to be evaluated.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="TCL_Scriptsbc-234"></a><a name="TCL_Scripts" id="TCL_Scripts">TCL Scripts</a></p>
</div>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="TCL_Commands_to_bebc-235"></a><a name="TCL_Commands_to_be" id="TCL_Commands_to_be">TCL Commands to be Executed When the Device is Started</a></p>
<p class="WD_Normal"><b><i>%init_action</i></b></p>
<p class="WD_Normal3">TCL script to be executed when the device is started.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="TCL_Commands_to_be1bc-236"></a><a name="TCL_Commands_to_be1" id="TCL_Commands_to_be1">TCL Commands to be Executed Based on Timer Expir</a>ation</p>
<p class="WD_Normal"><b><i>%timer_action &lt;n_secs&gt; &lt;n_count&gt;</i></b></p>
<p class="WD_Normal3">TCL script to be executed every <i>n_secs</i> seconds.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">If n_count is specified, then the timer_action will stop after executing for the count specified.&#160; If n_count is not specified, the timer_action will continue indefinitely.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="TCL_Commands_to_be3bc-237"></a><a name="TCL_Commands_to_be3" id="TCL_Commands_to_be3">TCL Commands to be Executed When the Device is Stopped</a></p>
<p class="WD_Normal"><b><i>%stop_action</i></b></p>
<p class="WD_Normal3">TCL script to be executed before the device is stopped.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="TCL_Commands_to_be4bc-238"></a><a name="TCL_Commands_to_be4" id="TCL_Commands_to_be4">TCL Commands to be Executed When Flag Action is Triggered</a></p>
<p class="WD_Normal"><b><i>%flag_action</i></b></p>
<p class="WD_Normal3">TCL script to be executed when flag action is triggered.</p>
<p class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="TCL_Commands_to_be2bc-239"></a><a name="TCL_Commands_to_be2" id="TCL_Commands_to_be2">TCL Commands to be Executed as Part of PDU Processing</a></p>
<p class="WD_Normal"><b><i>%before_snmp_request</i></b></p>
<p class="WD_Normal3">TCL script to be executed before the processing of any SNMP request.&#160; In this tcl script, if <i>&lt;SA_seterrorstatus&gt;</i> is called to set to 9999, the request will not be processed.</p>
<p class="WD_Normal"><b><i>%check_set_action &lt;object_identifier&gt;</i></b></p>
<p class="WD_Normal3">TCL script to be executed during the validation phase of processing a set request made for a variable whose object identifier matches the specified object identifier. If the TCL script wants to disallow the set and return a bad value error, the TCL script can call the <i>SA_setcurstatus</i> command and pass it a 0 argument.</p>
<p class="WD_Normal3"><b>NOTE</b>: the object_identifier specified can be a partial oid and does not need to include the instance component.&#160; If no instance component is specified, it will interpret it for all instances.</p>
<p class="WD_Normal"><b><i>%after_set_action &lt;object_identifier&gt;</i></b></p>
<p class="WD_Normal3">TCL script to be executed after the set request is processed for a variable whose object identifier matches the specified object identifier.</p>
<p class="WD_Normal3"><b>NOTE</b>: the object_identifier specified can be a partial oid and does not need to include the instance component.&#160; If no instance component is specified, it will interpret it for all instances.</p>
<p class="WD_Normal"><b><i>%after_allset_action &lt;object_identifier&gt;</i></b></p>
<p class="WD_Normal3">TCL script to be executed after all the variable bindings in the current pdu have been processed when a set request is received for a variable whose object identifier matches the specified object identifier. If the action to be taken is dependent on the values of other variables being set in the current set pdu, then the “after_allset_action” should be used.</p>
<p class="WD_Normal3"><b>NOTE</b>: the object_identifier specified can be a partial oid and does not need to include the instance component.&#160; If no instance component is specified, it will interpret it for all instances.</p>
<p class="WD_Normal"><b><i>%getvalue_action &lt;object_identifier&gt;</i></b></p>
<p class="WD_Normal3">TCL script to be executed during the processing of a get/getnext request for a variable whose object identifier matches the specified object identifier. The TCLscript should call the <i>SA_setcurvalue</i> command to set the new value to be used.</p>
<p class="WD_Normal3"><b>NOTE</b>: the object_identifier specified can be a partial oid and does not need to include the instance component.&#160; If no instance component is specified, it will interpret it for all instances.</p>
<p class="WD_Normal"><b><i>%authfailure_action</i></b></p>
<p class="WD_Normal3">TCL script to be executed during the processing of an incoming SNMP request whose authentication credentials do not match and will get dropped.&#160; This section allows additional processing to be done if needed.</p>
<p class="WD_Normal3">&#160;</p>
<b><i><span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span></i></b>
<p class="WD_Normal"><b><i>%after_snmp_response</i></b></p>
<p class="WD_Normal3">Tcl script to be executed after the processing of any snmp request and the transmission of the corresponding response.&#160; While processing the request, the user script can make a call to SA_setafterresponseid tcl command that sets the response id flag.&#160; After the associated SNMP response is transmitted, the SAPro looks to see if this flag is set (non zero), and if it is set, it calls the tcl script associated with %after_snmp_response. Once this script is interpreted, the SAPro clears this flag, so that it is ready to process the next request.&#160;&#160; The user script&#160; within the %after_snmp_response section can examine the value of this flag by calling SA_getafterresponseid and take different actions for different values of the flag.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">The general PDU processing sequence looks like this:</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p class="WD_Normal3"><b><u>GET/GETNEXT/GETBULK</u></b></p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160; %before_snmp_request</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160; If authentication failure&#160; %authfailure_action</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160; foreach_varbind_in_vblist</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; get_the_value_internally</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %getvalue_action &lt;oid&gt;</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160; send_the_response</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160; if (response_id_flag_set)</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %after_snmp_response</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p class="WD_Normal3"><b><u>SET</u></b></p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160; %before_snmp_request</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160; If authentication failure&#160; %authfailure_action</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160; foreach_varbind_in_vblist</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; check_if_varbind_if_valid</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %check_set_action &lt;oid&gt;</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160; foreach_varbind_in_vblist</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; change_the_value_per_set_request</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %after_set_action &lt;oid&gt;</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160; foreach_varbind_in_vblist</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %after_allset_action &lt;oid&gt;</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160; send_the_response</p>
<p class="WD_Normal3">&#160;</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160; if (response_id_flag_set)</p>
<p class="WD_Normal3">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %after_snmp_response</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Sample_Modeling_Filebc-240"></a><a name="Sample_Modeling_File" id="Sample_Modeling_File">Sample Modeling File</a></p>
</div>
<p class="WD_Normal">Here are the contents of the sample modeling file <span style=" font-family:'Arial' ,'sans-serif';">dev1.TCL</span> that is installed in the <span style=" text-transform:uppercase;">TCL</span> directory when you install SimpleAgentPro.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_consolecode"># example of initial action that causes a cold start trap to</p>
<p class="WD_consolecode"># be emitted to the associated trap manager</p>
<p class="WD_consolecode">%init_action</p>
<p class="WD_consolecode">&#160;&#160;&#160; set varbind [SA_getvar {sysObjectID.0}]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set vb1 [lindex $varbind 0]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set val1 [lindex $vb1 2]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set args [list $val1 0 0 ]</p>
<p class="WD_consolecode">&#160;&#160;&#160; SA_sendtrap $args</p>
<p class="WD_consolecode">&#160;</p>
<p class="WD_consolecode"># example of check action that causes a BAD_VALUE to be</p>
<p class="WD_consolecode"># returned for set requests to sysLocation.0</p>
<p class="WD_consolecode">%check_set_action sysLocation.0</p>
<p class="WD_consolecode">&#160;&#160;&#160; SA_setcurstat 0</p>
<p class="WD_consolecode">&#160;</p>
<p class="WD_consolecode"># example of set action that causes another variable to be also set</p>
<p class="WD_consolecode">%after_set_action ifAdminStatus.1</p>
<p class="WD_consolecode">&#160;&#160;&#160; set varbind [SA_getreqvb]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set curvb [lindex $varbind 0]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set curval [lindex $curvb 2]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set args [list ifOperStatus.1 OctetString fixed($curval)]</p>
<p class="WD_consolecode">&#160;&#160;&#160; SA_setvaltype [list $args]</p>
<p class="WD_consolecode">&#160;</p>
<p class="WD_consolecode"># example of get action that always returns ppppp as the value of</p>
<p class="WD_consolecode"># sysLocation.0, irrespective of the var file and previous set</p>
<p class="WD_consolecode"># requests.</p>
<p class="WD_consolecode">%getvalue_action sysLocation.0</p>
<p class="WD_consolecode">&#160;&#160;&#160; SA_setcurvalue ppppp</p>
<p class="WD_consolecode">&#160;</p>
<p class="WD_consolecode"># example of timer based script execution that causes the</p>
<p class="WD_consolecode"># script to be evaluated every 5 secs</p>
<p class="WD_consolecode">%timer_action&#160; 5</p>
<p class="WD_consolecode">&#160;&#160;&#160; SA_sendtrap { 1.2.3 6 55 }</p>
<p class="WD_consolecode">&#160;</p>
<p class="WD_consolecode">&#160;</p>
<p class="WD_consolecode">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Script_File_Editorbc-241"></a><a name="Script_File_Editor" id="Script_File_Editor">Script File Editor</a></p>
</div>
<p class="WD_Normal">SimpleAgentPro includes a graphical Modeling file editor that eases the work involved in defining the Tcl based modelling filse.&#160;&#160; Through easy steps of filling out a form for each type of Tcl command, it provides&#160; a GUI abstraction over the file format described above by automatically filling up the associated Tcl commands.&#160; Sample Modeling files are also provided.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can start the Script File Editor via <b><i>File-&gt;Create/Edit Modeling File</i></b> or selecting the device and then choosing <b><i>Device-&gt;Create/Edit Modeling File</i></b>.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">&#160;</p>
<p class="WD_chapnonum"><a name="Appendix_B_Setup_Filebc-242"></a><a name="Appendix_B_Setup_File" id="Appendix_B_Setup_File">Appendix B<br />
Setup File</a></p>
<p class="WD_Normal">SimpleAgentPro supports TCL-based setup files that allow you to change Agent behavior after the Agents have been started.</p>
<p class="WD_Normal">&#160;</p>
<p style=" line-height:12.0pt;" class="WD_Picture">The Setup file is a list of device names along with a TCL script that gets evaluated in the context of the specified device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This Appendix defines the two setup file formats supported by SimpleAgentPro.&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Setup_File_Format_1bc-243"></a><a name="Setup_File_Format_1" id="Setup_File_Format_1">Setup File Format 1</a></p>
</div>
<p class="WD_Normal">The first setup file format is as follows:</p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i>%devname &lt;device_name1&gt;</i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><b>TCL script</b></p>
<p style=" margin-left:1.5in;" class="WD_Normal2">Lines following the <b>%devname</b> keyword until the next <b>%devname</b> or end of file are treated as part of the script to be evaluated by the specified device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This format allows you to download different TCL scripts to different devices. The map TCL interpreter is not involved at all. The file is simply broken up into a set of TCL scripts and each of these is sent to the associated device to be interpreted by the device’s TCL interpreter.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Setup_File_Format_2" id="Setup_File_Format_2">Setup File Format 2</a></p>
</div>
<p class="WD_Normal">The second setup file format is as follows (not supported on HPUX):</p>
<p style=" margin-left:1.0in;" class="WD_Normal"><b>%MAPTCLSCRIPT</b></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><b>%keyword &lt;<i>optional arguments</i>&gt;</b></p>
<p style=" margin-left:1.0in; text-indent:.5in;" class="WD_Normal2">where the keywords are <i>init_action,</i> <i>timer_action, before_devices_start, and after_devices_stop</i>.&#160;</p>
<p style=" margin-left:1.0in;" class="WD_Normal"><b>TCL script</b></p>
<p style=" margin-left:1.5in;" class="WD_Normal2">lines following the <b>% keyword</b>, until the next <b>%keyword</b> or end of file are treated as part of the script to be evaluated.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This format allows you to perform actions and evaluate scripts within a single interpreter context and then control the different devices. The TCL script is interpreted in the map’s TCL interpreter and not the device’s TCL interpreter. However, you can use the <i>SA_lockdevcontext</i> command to select a particular device and then run additional TCL commands to affect the locked device’s MIB database.&#160; The first line of such a file, has to be %MAPTCLSCRIPT.</p>
<p class="WD_Normal">The before_devices_start and after_devices_stop allows you to evaluate basic tcl commands only.&#160; You can run shell commands using the “exec” tcl command.&#160; If any particular setup prior to devices being started is necessary,those can be done in the %before_devices_start section and the corresponding cleanup can be carried out in the %after_devices_stop section.&#160; SimpleSoft Tcl Extensions are not available within these scripts, as the device contexts are not yet created.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Sample_Setup_File_Formatbc-244"></a><a name="Sample_Setup_File_Format" id="Sample_Setup_File_Format">Sample Setup File (Format 1)</a></p>
</div>
<p class="WD_Normal">In the example shown below, 128.100.100.102 and 128.100.100.103 are two devices in the currently running map.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_consolecode"># set device1's interface down</p>
<p class="WD_consolecode">%devname 128.100.100.102</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setvar {{ ifAdminStatus.1 Integer 2 }}</p>
<p class="WD_consolecode"># set device2's interface up</p>
<p class="WD_consolecode">%devname 128.100.100.103</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setvar {{ ifAdminStatus.1 Integer 1 }}</p>
<p class="WD_consolecode">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Sample_Setup_File_Format1bc-245"></a><a name="Sample_Setup_File_Format1" id="Sample_Setup_File_Format1">Sample Setup File (Format 2)</a></p>
</div>
<p class="WD_Normal">In the example shown below, 128.100.100.102 and 128.100.100.103 are two devices in the currently running map.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_consolecode">%MAPTCLSCRIPT</p>
<p class="WD_consolecode">%init_action</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; # set both interfaces to up</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; set val1&#160;&#160; 1</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; set varbind [list ifAdminStatus.1 Integer $val1]</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext&#160; 128.100.100.102</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; SA_setvar [list $varbind]</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; SA_releasedevcontext</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext 128.100.100.103</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; SA_setvar [list $varbind]</p>
<p class="WD_consolecode">&#160;</p>
<p class="WD_consolecode">%timer_action 10 300</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; #keep toggling the interfaces every 10 secs, 300 times</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; if&#160; {$val1 == 1} {</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; set val1 2</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; } else {</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160; set val1 1</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; set varbind [list ifAdminStatus.1 Integer $val1]</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext&#160; 128.100.100.102</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; SA_setvar [list $varbind]</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; SA_releasedevcontext</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext 128.100.100.103</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160; SA_setvar [list $varbind]</p>
<b><span style=" font-size:24.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="6" style="font-size:24pt;"><br clear="all" /></font></span></b>
<p class="WD_chapnonum"><a name="Appendix_C_Default_Rulesbc-246"></a><a name="Appendix_C_Default_Rules" id="Appendix_C_Default_Rules">Appendix C<br />
Default Rules File</a></p>
<p class="WD_Normal">You can create a default rules file that allows SimpleAgentPro to override the default rules used during the variable file creation from the MIB and learn from an existing Agent.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">These files should have a <span style=" font-family:'Arial' ,'sans-serif';">.rul</span> extension and are expected to be present in the /<span style=" text-transform:uppercase;">var</span> directory.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The contents of the file are used as a filter to determine what gets written into the output <span style=" font-family:'Arial' ,'sans-serif';">var</span> file that is being created.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The format of the defaults rule file is as follows:</p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Lines starting with the “#” character are treated as comments</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;<i>variable name</i>&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [&lt;<i>value type string</i>&gt; | ignore |&lt;<i>access, valuetype string</i>&gt;]</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %NUMROWS&#160;&#160; &lt;<i>table_entry_oid</i>&gt;&#160; &lt;<i>num_rows</i>&gt;</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %DYNROW&#160;&#160;&#160; ALL</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %IGNOREWALKERROR&#160;&#160;&#160; YES</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %MAPIPADDRESS&#160;&#160;&#160; YES</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %MAPIPADDRTABLE&#160;&#160;&#160; YES</b></p>
<p style=" margin-top:0in;" class="WD_MIBObject">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %RATECOMPUTATION&#160; &lt;num_of_samples&gt; &lt;delay_in_milliseconds&gt;</p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %TRAPV1ENTERPRISEID&#160; &lt;newoid&gt;</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %TRAPEXTRASPECIFICVBS &lt;trapid or *&gt; &lt; tcl list of vb(s)&gt;</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %DEFVAL &lt;oid&gt; &lt; default_value&gt;</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %MIBBASEDLEARN&#160;&#160;&#160; YES</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %ROWSTATUSTEMPLATE_ON&#160;&#160;&#160; YES</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %MAKEALLCOLNOTREQ&#160;&#160; YES</b></p>
<p class="WD_Normal"><b>&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %</b>ALLDYNTEMPLATES<b>_ON&#160;&#160; YES</b></p>
<p class="WD_Normal"><b>&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %AUTOVLANLEARN&#160;&#160; YES/NO/startoid</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; replace old_string new_string</b></p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;data type&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; &lt;format_string&gt;</b></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal"><b><i><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></i></b><b><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;<i>variable name</i>&gt;&#160;&#160; [&lt;<i>value type string</i>&gt; | ignore |&lt;<i>access, valuetype string</i>&gt;]</span></b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">variable name&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">A specific variable or a subtree</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">access<b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</b> <span style=" font-family:'Times New Roman' ,'serif';">Access clause (RO for readonly, RW for readwrite, NA for not accessible, WO for write only, RC for read-create)</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_myhang"><span style=" font-weight:normal;">value type string&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> <span style=" font-family:'Times New Roman' ,'serif'; font-weight:normal;">The string to be used to override the default value string generated during the learning/creating from MIB process. A “%s” symbol (like the printf format string), if present in the value type string, will be replaced by the current value. If the value type string is specified as “ignore”, those variables will not be included in the created var file.</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_myhang"><span style=" font-weight:normal;">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>%NUMROWS</b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">Can be used when creating instances from the MIB (using the <i>Variables→Create From MIB</i>.. option), to tell SimpleAgentPro to create a different number of rows for the specified table, instead of just using the same number for all the tables.</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>%DYNROW ALL</b>&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">Adding this line tells SimpleAgentPro, when creating dynamic row templates, to create templates for all the tables,&#160; irrespective of whether the tables have RW variables or not. Normally SimpleAgentPro will only create dynamic row templates for tables with at least one column having a RW/WO/RC access clause. Adding this line to the default rules file will cause SimpleAgentPro to create dynamic row templates for all the tables. The Read-Only access clause is ignored and treated as a RW access clause for all tables containing Read-Only columns.</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>%IGNOREWALKERROR [YES | NO | number]</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">Adding this line tells SimpleAgentPro, when learning variables from device, to ignore lexicographically errors, and also to ignore errors other than NO_SUCH_NAME.&#160; It will try to continue the walk, with the next largest oid, (based on information in the MIB).&#160;&#160;&#160; Sometimes when you know that the agent from whom you want to learn variables is broken, but you do not want to create a variable file, one section at a time, this might be useful.</span></p>
<p style=" margin-bottom:6.0pt; text-indent:0in;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">SimpleAgentPro ver 7.0 onwards this behavior of ignoring lexicographical errors is now made the default behavior. Specifying the value of NO, disables this default behavior.</span></p>
<p style=" margin-bottom:6.0pt; text-indent:0in;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">By default, upto 50,000 lexicographical errors are ignored.&#160; If this maximum value needs to be changed you can specify the value to be used instead of the keywords YES and NO. So”%IGNOREWALKERROR 1000” will enable the default behavior and set the maximum errors to be ignored to 1000.&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>%MAPIPADDRESS&#160;&#160;&#160;&#160; YES</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">Adding the line <b>%MAPIPADDRESS YES</b>, tells the SimpleAgentPro, when learning from a device, to substitute the teacher's ip address in the variable file by a special token "$$MYIPADDRESS$$".&#160; This token then gets substituted by the IP address of the device that is associated with this variable file.&#160; The substitution will occur for both instances and values.</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>%MAPIPADDRTABLE&#160;&#160;&#160;&#160; YES</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">Adding the line <b>%MAPIPADDRTABLE YES</b>, tells the SimpleAgentPro, when learning from a device, to not only substitute the teacher's ip address in the variable file by a special token "$$MYIPADDRESS$$", but to also replace the other IP addresses of the box with tokens like $$MYTOKEN001$$ etc.&#160;&#160; The substitution will occur for both instances and values.&#160; If the values for these tokens is specified in the Topology Data field, then the cloning process with auto-increment them.&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>%MIBBASEDLEARN&#160;&#160;&#160;&#160; YES</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">Adding the line <b>%MIBBASEDLEARN YES</b>, tells the SimpleAgentPro, when learning from a device, to use the variables in the MIB (cmf file) as a basis for doing learning.&#160; It will only learn those variables that are present in the MIB.&#160; The ignore directive as well as the numrows directive can be used in conjunction with this to do selective learning.</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>%MIBBASEDLEARN&#160;&#160;&#160;&#160; YES</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">Adding the line <b>%MIBBASEDLEARN YES</b>, tells the SimpleAgentPro, when learning from a device, to use the variables in the MIB (cmf file) as a basis for doing learning.&#160; It will only learn those variables that are present in the MIB.&#160; The ignore directive as well as the numrows directive can be used in conjunction with this to do selective learning</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% ROWSTATUSTEMPLATE_ON YES</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">Adding the line <b>%</b></span><b>ROWSTATUSTEMPLATE_ON</b> <b><span style=" font-family:'Times New Roman' ,'serif';">YES</span></b><span style=" font-family:'Times New Roman' ,'serif';">, tells the SimpleAgentPro, to automatically enable dynamic row templates for tables that support RowStatus.&#160; The user then does not need to manually edit the var file and explicitly enable the dynamic row templates for these tables by removing the starting hash sign.</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% MAKEALLCOLNOTREQ&#160;&#160; YES</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">Adding the line %</span><b>MAKEALLCOLNOTREQ&#160;&#160;</b> <b><span style=" font-family:'Times New Roman' ,'serif';">YES</span></b><span style=" font-family:'Times New Roman' ,'serif';">, tells the SimpleAgentPro, to specify all the columns as NotReq, when it is creating dynamic row templates.&#160; By default, SAPro will specify columns that are RW/RC as Req for row creation, and their values need to be specified in the pdu when doing CreateAndGo or specified earlier when doing CreateAndWait and a subsequent transition to active state.</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% ALLDYNTEMPLATES_ON&#160;&#160; YES</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">Adding the line <b>%</b></span><b>ALLDYNTEMPLATES_ON&#160;&#160; YES</b><span style=" font-family:'Times New Roman' ,'serif';">, tells the SimpleAgentPro, to automatically enable all dynamic row templates.&#160; The user then does not need to manually edit the var file and explicitly enable the dynamic row templates for tables by removing the starting hash sign.</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>%RATECOMPUTATION&#160; &lt;num_of_samples&gt; &lt;delay_in_milliseconds&gt;</b></p>
<p style=" margin-bottom:6.0pt; text-indent:0in;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">Adding the line <b>%RATECOMPUTION num delay</b> tells the SimpleAgentPro, when learning from a device, to take multiple snapshots of variables of type Counter.&#160; It takes “num” snapshots, after waiting for “delay” milliseconds in between queries.&#160; The multiple values retrieved are used to compute a y=mx+c type of equation using least square fit method, and then use is made of the value of m (slope)&#160; in a “timedrandomup(last_y, m)” valuetype.</span></p>
<p style=" margin-bottom:6.0pt; text-indent:0in;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">This allows the simulation to have more realistic values, with ifInOctets increasing much more rapidly then ifInErrors.</span></p>
<p style=" margin-bottom:6.0pt; text-indent:0in;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">So “%RATECOMPUTATION 3 500” will make the SimpleAgentPro get three samples for every variable of type Counter, and wait for 500 milliseconds between samples.</span></p>
<p style=" margin-bottom:6.0pt; text-indent:0in;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>%AUTOVLANLEARN&#160; YES/NO/startoid</b></p>
<p style=" margin-bottom:6.0pt; text-indent:0in;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">Adding the line <b>%AUTOVLANLEARN YES</b> tells the SimpleAgentPro, when learning from a device, to look for the Cisco vtpVlanState variable, and if it comes across it, for all instances (except “1”) it will do additional walks with a community “</span><a href="mailto:origcomm@%3Cinstance">origcomm@&lt;instance</a><span style=" font-family:'Times New Roman' ,'serif';">”so that it can also learn vlan information.&#160; Instead of YES, you can also specify a different startoid for the community string indexing learning.&#160; By default&#160; it learns the bridge mib.</span></p>
<p style=" margin-bottom:6.0pt; text-indent:0in;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_Normal"><b><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %TRAPV1ENTERPRISEID&#160; &lt;newoid&gt;</span></b></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p style=" margin-bottom:6.0pt; text-indent:0in;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">Adding the line <b>%TRAPV1ENTERPRISEID &lt;newoid&gt;</b> tells the SimpleAgentPro, when creating traps from MIB, to use the specified oid as the enterprise oid of v1 standard traps.</span></p>
<p style=" margin-bottom:6.0pt; text-indent:0in;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">So “%TRAPV1ENTERPRISEID 1.3.6.1.4.1.9” will use this oid instead of the default 1.3.6.1.4.1.786.1.1.</span></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal"><b><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %TRAPEXTRASPECIFICVBS &lt;trapid or *&gt; &lt; tcl list of vb(s)&gt;</span></b></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p style=" margin-left:2.0in;" class="WD_Normal">Adding the line <b>%TRAPEXTRASPECIFICVBS &lt;trapoid or *&gt; &lt;tcl list of vbs&gt;</b> tells the SimpleAgentPro, when creating traps from MIB, to add the specified additional varbinds to enterprise specific traps.&#160; Specifying a “*”&#160; for the trapid, will make this match with all traps be default, unless a more specific match occurs first.</p>
<p style=" margin-left:2.0in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:2.0in;" class="WD_Normal">Thus “%TRAPEXTRASPECIFICVBS * {1.2.0 Integer 5}” will make all the trap tcl commands have the above varbind in addition to the varbinds specified in the trap definitions.</p>
<p style=" margin-left:2.0in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</b> <b><span style=" font-family:'Arial' ,'sans-serif';">%DEFVAL &lt;oid&gt; &lt; default_value)&gt;</span></b></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p style=" margin-left:2.0in;" class="WD_Normal">Adding the line <b>%DEFVAL &lt;oid&gt; &lt;default_value&gt;</b> tells the SimpleAgentPro, when creating traps from MIB or when creating variables from MIB to use the specified value for the oid given instead of its own generated dummy values.</p>
<p style=" margin-left:2.0in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:2.0in;" class="WD_Normal">Thus “%DEFVAL ifNumber 7” will make SAPro use the value of 7 when creating variables or traps instead of using the default value of 1.</p>
<p style=" margin-left:2.0in;" class="WD_Normal">&#160;</p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% OUTPUT_OIDS&#160;&#160; YES</b></p>
<p style=" margin-left:2.0in;" class="WD_Normal">Adding the line <b>% OUTPUT_OIDS&#160; YES</b>, tells the SimpleAgentPro, to use object identifiers (oids) instead of object descriptors (labels) when creating variable files, even if the variable is present in the compiled mib file.</p>
<p style=" margin-left:2.0in;" class="WD_Normal">&#160;</p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% UNMAPPED_OIDS&#160;&#160; &lt;filename&gt;</b></p>
<p style=" margin-left:2.0in;" class="WD_Normal">Adding the line <b>% UNMAPPED_OIDS &lt;filename&gt;</b>, tells the SimpleAgentPro, to print out the names of those oids it could not find in the compiled mib file, in the filename specified.&#160; It is used by sapw2var when converting walk files to var files.&#160; It will create a file with the name specified in the current directory and add the list of unmapped oids to it.</p>
<p style=" margin-left:2.0in;" class="WD_Normal">&#160;</p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>replace old_string new_string</b></p>
<p style=" margin-left:2.0in;" class="WD_Normal">Adding the line <b>replace old_string new_string</b>, tells the SimpleAgentPro, to replace the occurance of the old_string from the output with the new_string.&#160; Both old_string and new_string cannot include spaces.&#160;&#160; If you want to learn from a device and replace the subnet with token, you can add a line “replace 192.168.100. $$MYTOKENS001$” and all occurances of 192.168.100 will get replaced with the token string.&#160;</p>
<p style=" margin-left:2.0in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160; &lt;data type&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; &lt;value_type_string&gt;</span></b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">data type&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">A SNMP datatype like Counter, Counter64, Gauge, TimeTicks.</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">value_type_string&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span style=" font-family:'Times New Roman' ,'serif';">The string to be used to override the default value string generated during the learning/creating from MIB process. A “%s” symbol (like the printf format string), if present in the format string, will be replaced by the current value.</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">Additional rules syntax supported by sapw2var.</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% appendbefore &lt;variable_name&gt;</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>…</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>%end</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>&#160;</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% appendafter &lt;variable_name&gt;</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>…</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>%end</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>&#160;</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">To allow inserting of lines in the var file which are not there in the walk output.</p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% tclscript &lt;variable_name&gt;</b></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:6.0pt; margin-left:.5in; text-indent:0in;" class="WD_hang10">Script that sets the values of tcl variables varOid,varName,varAccess,varitype and varValuetype</p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>%end</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">&#160;</p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">To allow more complicated rules for manipulating existing values.</p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">&#160;</p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>&#160;</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>ONEVALINPCAP_COUNTER&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% ONEVALINPCAP_GAUGE&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><span style=" font-family:'Times New Roman' ,'serif';">Used by sapp2var.</span></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% ONEVALINPCAP_COUNTER&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% ONEVALINPCAP_GAUGE&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:6.0pt; margin-left:0in; text-indent:.5in;" class="WD_hang10"><b>% ONEVALINPCAP_INTEGER&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:6.0pt; margin-left:0in; text-indent:.5in;" class="WD_hang10"><b>% ONEVALINPCAP_IPADDRESS&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:6.0pt; margin-left:0in; text-indent:.5in;" class="WD_hang10"><b>% ONEVALINPCAP_STRING&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-left:2.0in;" class="WD_Normal">Adding the above line tells sapp2var to use the specified value type string instead of the default (fixed in the case of Integer, IPAddress and OctetString, randomup in case of Counter, random in case of Gauge) when it encounters a variable only once in the pcap trace file and it is of the specified type.</p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% SAMEVALINPCAP_COUNTER&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% SAMEVALINPCAP_GAUGE&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:6.0pt; margin-left:0in; text-indent:.5in;" class="WD_hang10"><b>% SAMEVALINPCAP_INTEGER&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:6.0pt; margin-left:0in; text-indent:.5in;" class="WD_hang10"><b>% SAMEVALINPCAP_IPADDRESS&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:6.0pt; margin-left:0in; text-indent:.5in;" class="WD_hang10"><b>% SAMEVALINPCAP_STRING&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-left:2.0in;" class="WD_Normal">Adding the above line tells sapp2var to use the specified value type string instead of the default (fixed) when it encounters the same variable multiple times in the pcap file, and it has the same value.</p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% DIFFVALINPCAP_COUNTER&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10"><b>% DIFFVALINPCAP_GAUGE&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:6.0pt; margin-left:0in; text-indent:.5in;" class="WD_hang10"><b>% DIFFVALINPCAP_INTEGER&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:6.0pt; margin-left:0in; text-indent:.5in;" class="WD_hang10"><b>% DIFFVALINPCAP_IPADDRESS&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:6.0pt; margin-left:0in; text-indent:.5in;" class="WD_hang10"><b>% DIFFVALINPCAP_STRING&#160; &lt;value_type_string&gt;</b></p>
<p style=" margin-left:2.0in;" class="WD_Normal">Adding the above line tells sapp2var to use the specified value type string instead of the default (valuelistinfile) when it encounters the same variable multiple times in the pcap file, and it has different values.&#160;&#160; The first value is typically used when only one value is to be used in substitution.</p>
<p style=" margin-left:2.0in;" class="WD_Normal">&#160;</p>
<p style=" margin-bottom:6.0pt;" class="WD_hang10">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Sample_Default_Rules_Filebc-247"></a><a name="Sample_Default_Rules_File" id="Sample_Default_Rules_File">Sample Default Rules File</a></p>
</div>
<p class="WD_Normal">Here are the contents of the sample rules file <span style=" font-family:'Arial' ,'sans-serif';">learn.rul</span> that is installed in the <span class="WD_Style1">/var</span> directory when you install SimpleAgentPro:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_consolecode"># Lines starting with this character are treated as comments</p>
<p class="WD_consolecode">#</p>
<p class="WD_consolecode"># Format</p>
<p class="WD_consolecode"># &lt;variable name&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;value type string&gt;</p>
<p class="WD_consolecode">#</p>
<p class="WD_consolecode"># A best match is used for overriding the learn defaults.</p>
<p class="WD_consolecode">#</p>
<p class="WD_consolecode"># In the case shown below, the ifOutOctets for all interfaces</p>
<p class="WD_consolecode"># except for interface 1, will use randomup(5000,100) while</p>
<p class="WD_consolecode"># the value type for ifOutOctets.1 will use randomup(0,100)</p>
<p class="WD_consolecode">#</p>
<p class="WD_consolecode"># In the case of ifSpeed, the current value of the variable</p>
<p class="WD_consolecode"># obtained during the walk, would be used instead of %s</p>
<p class="WD_consolecode"># as in a sprintf() call</p>
<p class="WD_consolecode"># Only %s format is currently supported</p>
<p class="WD_consolecode">#</p>
<p class="WD_consolecode">ifOutOctets&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; randomup(5000, 100)</p>
<p class="WD_consolecode">ifOutOctets.1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; randomup(0, 100)</p>
<p class="WD_consolecode">ifSpeed&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; fixed(%s)</p>
<p class="WD_consolecode"># ignore all variables under the egp</p>
<p class="WD_consolecode">1.3.6.1.2.1.8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ignore</p>
<p class="WD_consolecode"># use fixed value for all ReadOnly Gauge variables</p>
<p class="WD_consolecode">Gauge&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; fixed(%s)</p>
<b><span style=" font-size:24.0pt; line-height:115%; font-family:'Arial Narrow' ,'sans-serif';"><font size="6" style="font-size:24pt;"><br clear="all" /></font></span></b>
<p class="WD_chapnonum"><a name="Appendix_DModifyingbc-248"></a><a name="Appendix_DModifying" id="Appendix_DModifying">Appendix D<br /></a>Modifying SimpleAgentPro Execution</p>
<p class="WD_Normal">This Appendix lists some of the options available in the <span style=" font-family:'Arial' ,'sans-serif';">config.inp</span> file that allow you to customize the runtime execution environment of SimpleAgentPro. You can find the <span style=" font-family:'Arial' ,'sans-serif';">config.inp</span> file in the &lt;<i>install_directory</i>&gt;/<span style=" text-transform:uppercase;">bin</span> directory.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Config_inp_filebc-249"></a><a name="Config_inp_file" id="Config_inp_file">Config.inp file</a></p>
</div>
<p class="WD_MIBObject">CACHE_SIZE = 1000</p>
<p class="WD_Normal">SimpleAgentPro uses an internal cache that contains a hash table for faster retrieval and processing of the information in flat ASCII files. A larger number will result in faster processing of Get/GetNext/Set requests. But making it too large may cause it to be unable to allocate the required memory.&#160; The current version allows you to associate cache size information with the properties of individual maps.</p>
<p class="WD_MIBObject">DYN_INST_SIZE = 2000</p>
<p class="WD_Normal">This variable controls the maximum number of dynamic instances created. Set it to a larger number for cases where you may create a lot of dynamic rows. The current version allows you to associate cache size information with the properties of individual maps.</p>
<p class="WD_MIBObject">RANDOM_SEED = YES</p>
<p class="WD_Normal">This variable causes SimpleAgentPro to always seed the random number generator with a variable or a fixed value.</p>
<p class="WD_MIBObject">SEPARATOR = :</p>
<p class="WD_Normal">This variable defines the separator character used in the community string. The default character is ‘:’.</p>
<p class="WD_MIBObject">INTERFACE = lan0</p>
<p class="WD_Normal">This variable defines the interface name for the Ethernet card on the workstation. If this is not specified, SimpleAgentPro uses lan0 for HP and le0 for SUN.&#160; The current version allows you to associate cache size information with the properties of individual maps.</p>
<p class="WD_MIBObject">LICKEY = 123456789...</p>
<p class="WD_Normal">This variable defines the license key.</p>
<p class="WD_MIBObject">MAPTCLOID = YES</p>
<p class="WD_Normal">If this variable is present, then the object identifiers are mapped to object descriptors in the tcl results returned for SA_* commands.&#160;&#160; By default, this is set to NO, since there is a performance penalty to be paid for the mapping.</p>
<p class="WD_MIBObject">GATEWAYADDR = 128.100.100.1</p>
<p class="WD_Normal">This variable defines the gateway address for the simulation.&#160; Typically the address specified is the SUN workstations IP address, or in the case of Win95 and WinNT it is the UDP/IP stack’s IP address.&#160; Specifying this address in the config.inp file, allows you to add a device with the IP address of the gateway to your map file, and have its variable file be defined in such a way as to be able to point to the other devices in the simulation (in its arp cache, routing table etc).&#160; This will allow management apps to be able to discover the simulated map.</p>
<p class="WD_MIBObject">USERAPIPORT = 3000</p>
<p class="WD_Normal">This variable defines the user API port number to use for directly interfacing with the sathrd worker process.&#160; If this is specified in the config.inp file, then the sathrd tries to open this port, and waits to accept tcp connections to it.&#160;&#160; The saproapi.h file in the sapro/bin directory describes the message format.</p>
<p class="WD_MIBObject">NAMESERVERPORT= 4000</p>
<p class="WD_Normal">This variable defines if the sapns (SimpleAgentProNameServer) process is to be started, and what port it should open.&#160; The sapns process keeps track of the mapping between map names and their user api ports that they are listening on.&#160; This allows processes such as the sapcnsl to communicate with the sathrd map processes using map names, instead of port numbers.</p>
<p class="WD_MIBObject">DEVTYPEDATAINMEM =1</p>
<p class="WD_Normal">This variable allows the user to specify that the SimpleAgentPro load all the variable information in memory.&#160; It can be used in cases where the variable files are small, and high performance is required.&#160; It will however require more memory to be available on the system.&#160; By default, it is set to 0 (No).</p>
<p class="WD_MIBObject">MARKVARSREAD = YES</p>
<p class="WD_Normal">This variable allows the user to specify that the SimpleAgentPro be run in a mode where it marks every variable that is accessed, so that later on all the variables that have been read can be selectively dumped out into a new variable file.</p>
<p class="WD_MIBObject">USENATIVESTACK = 1</p>
<p class="WD_Normal">This variable on a Windows system, allows the user to specify whether the native Microsoft TCP/IP stack is to be used or not.&#160; If this variable is set to 0, the&#160; SimpleSoft’s UDP/IP stack must be installed.&#160;</p>
<p class="WD_MIBObject">STATSREFRESHTIME = 20</p>
<p class="WD_Normal">This variable defines the rate at which the statistics window is updated in the SimpleAgentPro GUI.</p>
<p class="WD_MIBObject">SOLARISVERSION = 8</p>
<p class="WD_Normal">If the software is run on a Solaris Ver 2.8 machine, then putting this line in the config.inp file, tells the SimpleAgentPro to use different address specification logic suitable for Solaris 2.8</p>
<p class="WD_MIBObject">AUTHORIZATIONERRORFLAG = 1</p>
<p class="WD_Normal">This variable controls if the SimpleAgentPro will generate an error response with "authorizationError" when receiving a SNMPv2 request with an invalid community string.&#160; By default, the flag is turned on. If you want to disable this behavior, please set the above flag to 0.</p>
<p class="WD_MIBObject">MULTIPLECOMMUNITY = 0</p>
<p class="WD_Normal">This variable controls if the SimpleAgentPro will treat the defined read and write community strings as comma separated lists of multiple community strings.&#160; By default, this is set to 0 (off).&#160; If you want to specify multiple read and write community strings, please set this variable to 1.</p>
<p class="WD_MIBObject">MODULEKEY = 123456789...</p>
<p class="WD_Normal">This variable defines the module key.&#160; You need to get a MODULEKEY from SimpleSoft for Telnet/CLI and TFTP support.</p>
<p class="WD_MIBObject">EDITOR = notepad.exe</p>
<p class="WD_Normal">This variable defines the default editor used to view/edit files.&#160;&#160; By default it is notepad for Windows and vi for UNIX.&#160;&#160; Please set it to your favorite editor.</p>
<p class="WD_Normal">INVOKEDELAY</p>
<p class="WD_MIBObject">SUPPORTFTP = 1</p>
<p class="WD_Normal">This variable defines if the FTP client tcl commands should be loaded into the interpretor.&#160; If you are not using FTP client tcl commands, you can set this variable to 0 to reduce the amount of memory used by a device.&#160; By default it is turned off.</p>
<p class="WD_MIBObject">BUFFEREDFILE = [1/2/3]</p>
<p class="WD_Normal">This variable defines the type of buffered file i/o to be used by SimpleAgentPro.&#160; If it is set to 1, the SAPro uses no buffering on raw file i/o.&#160; If its is set to 2, SimpleAgentPro uses the system defined filebuffering using the fopen call.&#160; If it is set to 3 (default), SimpleAgentPro uses buffering using a 32K buffer size.&#160; If this option is not present, the default (raw buffered = 3) is used.</p>
<p class="WD_MIBObject">STARTSEQUENTIAL = YES</p>
<p class="WD_Normal">This variable allows the user to specify that SimpleAgentPro should start maps sequentially when the user selects multiple maps to be started from the GUI. The GUI will wait for all the devices in a map to start before starting the next map. If this variable is not set, all the maps are started concurrently.</p>
<p class="WD_MIBObject">WAITFORDEVICESTOSTOP = YES</p>
<p class="WD_Normal">This variable allows the user to specify that SimpleAgentPro should wait for all the devices in a map to stop before showing it as an idle map in the GUI. The GUI will reflect each device being stopped. When this variable is not set, the GUI issues a command to stop all the devices and then assumes that the devices will stop and does now show each device being stopped in the GUI.</p>
<p class="WD_MIBObject">BROWSER = &lt;ABSOLUTE BROWSER PATH&gt;</p>
<p class="WD_Normal">This variable allows the user to specify the web browser to be used to display html or Flash files. This is useful when the user elects to display the help pages in&#160; a web browser rather than using the help program supplied with SimpleAgentPro.</p>
<p class="WD_MIBObject">PARALLELDHCP = YES</p>
<p class="WD_Normal">This variable allows the user to specify if SimpleAgentPro should make parallel requests to get DHCP addresses for all devices in a map.&#160; By default SimpleAgentPro gets one DHCP address at a time.&#160;</p>
<p class="WD_MIBObject">PARALLELDHCPDELAY = value in millseconds</p>
<p class="WD_Normal">This variable allows the user to specify the amount of milliseconds that SimpleAgentPro should wait between subsequent DHCP requests when getting DHCP addresses in parallel.</p>
<p class="WD_MIBObject">SMCTYPE = OLD/NEW</p>
<p class="WD_Normal">This variable allows the user to specify which mib compiler to use.&#160; Version 8.5 has now introduced a new mib compiler that is more lenient then the previous version.&#160; By default, the new compiler will get used.&#160; To make the SimpleAgentPro use the older mib compiler, the value of this variable should be set to OLD.</p>
<p class="WD_MIBObject">QUICKSTOPFLAG=1/0</p>
<p class="WD_Normal">This variable allows the user to specify that the SAPro should quickly stop all the created processes without doing any IP address cleanup.&#160; This is used in conjunction with the StopAllMaps on a server option, and allows for quickly stopping all the running sathrd processes.&#160; “msifconf delip”</p>
<p class="WD_MIBObject">MAXTELNETSESSIONS=10</p>
<p class="WD_Normal">This variable allows the user to specify the maximum number of simultaneous telnet connections that can be open at one time to a single simulated device.&#160; By default, if nothing is specified, this number is set to 5.</p>
<p class="WD_MIBObject">IPSTARTDELAY=4000</p>
<p class="WD_Normal">This variable allows the user to specify thetime delay between adding an IP address to an interface and when the socket bind is done. This delay must be specified in milliseconds.&#160; By default, if nothing is specified, this time is set to 4000 milliseconds.</p>
<p class="WD_MIBObject">SKIPUNMAPOID=YES</p>
<p class="WD_Normal">By default, SAPro does not simulate a device if it encounters an error in mapping an object descriptor present in the var file to an object identifier.&#160; This can happen when there is a mismatch in the compiled MIB file associated with a variable file, or if the variable file was converted from walk outputs that had object descriptors (sysDescr) instead of object identifiers (1.3.6.1….) to begin with.&#160; This setting tells SAPro to simply skip the variable that it cannot map and continue simulating the device by supporting the other variables in the var file that it can map.</p>
<p class="WD_MIBObject">FTPSERVERTYPE = PROFTPD/WUFTPD</p>
<p class="WD_Normal">This variable allows the user to specify which FTP server to use. By default, if none is specified or is invalid, the value is “PROFTPD.”</p>
<p class="WD_MIBObject">THRESH_RESPTIME = 5</p>
<p class="WD_Normal">This variable allows the user to specify the threshold response time (in seconds), which when equaled or exceeded, will cause SAPro to write out a debug message in the log file.&#160; This helps in identifying when the SAPro server is getting overloaded.&#160; The time is specified in seconds, and by default, this is turned off (0). When the map is stopped, and if this variable has been set to a non-zero value, each device will also printout its maximum response time in the &lt;mapname&gt;.log file.</p>
<p class="WD_MIBObject">ALLOWED_MGR_IPS = 10.1.1.5,10.8.9.1</p>
<p class="WD_Normal">This variable allows the user to specify the list of manager ips from which the simulator should accept requests.&#160; By default, when this variable is not set, the simulated devices will respond to SNMP queries from any manager IP address.&#160; If this is specified, then the simulated devices will only respond to addresses from this list.</p>
<p class="WD_MIBObject">V3TWOSTEPDISCOVERY = 1</p>
<p class="WD_Normal">This variable allows the user to specify if SNMPv3 is to be done in two steps or one.&#160; By default, it is done in one step, where the simulated agent returns both the engineid and the bootcount/boottime in the first report pdu.&#160; If two step discovery is chosen, then the simulated agent will return engineid, but bootcount/boottime set to 0 in the “unknown engineid” report pdu, and subsequently return “notInTimeWindow” report pdu with the current bootcount/boottime.</p>
<p class="WD_MIBObject">TELNET_NODELAY = 1</p>
<p class="WD_Normal">This variable allows the user to specify that the telnet server sockets should use the TCP_NODELAY option so that no buffering is done when sending telnet responses from the device to the manager.&#160; By default it is turned off, and the local tcp stack optimizations will get used.</p>
<p class="WD_MIBObject">ENABLETCLINTERP = 1</p>
<p class="WD_Normal">This variable allows the user to specify if each simulated device context should include a tcl interepretor or not.&#160; By default it is turned on to allow devices to interpret tcl commands sent to them at runtime.&#160; If you are not using that feature, and do not have any modeling files, you can set it to 0 to reduce memory usage.</p>
<p class="WD_MIBObject">SAPNS_MAP_CLEANUP = 1</p>
<p class="WD_Normal">This variable tells sapns to remove any associated IPs with a map, when it receives a notification that the connection with the map’s sathrd process is broken.&#160;&#160; It will also update the license count.&#160; This feature is currently only available on Linux.&#160; By default it is turned off.</p>
<p class="WD_MIBObject">TERMINAL=/usr/bin/gnome-terminal</p>
<p class="WD_Normal">This variable allows the user to specify the terminal to be used when opening command shell. By default it will use xterm.</p>
<p class="WD_MIBObject">UPDATE_MAP_WITHDEVS=1/0</p>
<p class="WD_Normal">This variable allows the user to specify if SimpleAgentPro should update the current map contents with runtime requests for adddev/deldev commands via sapcnsl.&#160; By default this is turned off (0).</p>
<p class="WD_MIBObject">LOCAL_SOCKET_PORT=12345</p>
<p class="WD_Normal">This variable allows the user to specify the port number used internally by SimpleAgentPro to resync its socket list.&#160; By default it uses 545161.</p>
<p class="WD_MIBObject">MAXCLOUDSESSIONS=125</p>
<p class="WD_Normal">This variable allows the user to specify the maximum number of simultaneous cloud connections that can be open at one time to a single simulated device.&#160; By default, if nothing is specified, this number is set to 25.</p>
<p class="WD_MIBObject">MAXSOAPSESSIONS=15</p>
<p class="WD_Normal">This variable allows the user to specify the maximum number of simultaneous soap connections that can be open at one time to a single simulated device.&#160; By default, if nothing is specified, this number is set to 5.</p>
<p class="WD_MIBObject">SOAP_CONNECTION_FLAG=1/0</p>
<p class="WD_Normal">This variable allows the user to specify if the SOAP connection should be persistent or get closed when the Keep-Alive http header is not specified.&#160; By default it is kept alive (1).</p>
<p class="WD_MIBObject">CLOUD_RANGE_IN_MEM=1/0</p>
<p class="WD_Normal">This variable allows the user to specify if the Cloud range specific data should be loaded into memory for faster execution.&#160; By default it is turned on (1).</p>
<p class="WD_MIBObject">TELNET_EVAL_LOCKFLAG=1/0</p>
<p class="WD_Normal">This variable allows the user to specify if internally locking should be done while telnet commads are being evaluated to prevent stopping of the device while processing commands.&#160; By default it is turned off (0).</p>
<p class="WD_MIBObject">DEBUG_FILEROTATION_SIZE=50000</p>
<p class="WD_Normal">This variable allows the user to specify the max amount of data to be written to a debug file before its contents are rotated to another file.&#160; Currently this is used during tcl debug file writing.&#160; If the debug file name is abc, then after the file size exceeds the specified value (say 50000), the current file contents are renamed as abc_1, and a new file called abc is created t be written into.&#160; If abc_1 exists, it will get deleted and rotated out.&#160; By default it is turned off (0).</p>
<p class="WD_MIBObject">RUN_WITHOUT_GUI=&lt;0/1&gt;</p>
<p class="WD_Normal">This variable allows the user to specify if maps started by the GUI should continue to run even if the GUI is closed, without first stopping the maps.&#160; By default it is set to 0.&#160; When set to 1, the GUI can close without stopping the maps that are running, and when the GUI is started again, it can connect with the maps that are running and get updated status.&#160; Only one GUI can connect with running maps.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Version 17.5 also adds a Configuration Utility that allows you to specify some of the commonly used parameters in the config.inp file by using a dialog.&#160; You can access it from the Tools-&gt;Set Configuration sub menu, and you will see the following dialog.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="326" height="428" src="pro_205_files/image213.jpg" alt="" /></p>
<p class="WD_Caption"><a name="Figure_105_Configuration" id="Figure_105_Configuration">Figure</a> 105:&#160; Configuration.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span> <span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">&#160;</p>
<p class="WD_chapnonum"><a name="Appendix_E_Command_Linebc-250"></a><a name="Appendix_E_Command_Line" id="Appendix_E_Command_Line">Appendix E<br />
Command Line Invocation</a></p>
<p class="WD_Normal">This Appendix describes the command line/non-GUI interface to start the Agent simulator.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The bin directory of the SUN and HP releases contains a sample csh script <i>sa_cmd</i> that can be used to start the Agent simulator.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The script takes two arguments.</p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; sa_cmd&#160; &lt;mapfile&gt;&#160; &lt;<i>starting_number</i>&gt;</b></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The first argument is the name of the map file to be started, and the second argument is the starting number used to create logical interfaces on the SUN platform.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">On the SUN platform, a second csh script <i>sa_cmd2</i> is also available.&#160; It takes three arguments.</p>
<p class="WD_Normal"><b>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; sa_cmd 2 &lt;mapfile&gt;&#160; &lt;<i>starting_number</i>&gt; &lt;interface_name&gt;</b></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The third argument is the interface name.</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">When stopping a map started in this manner, the process should be brought into a foreground and a [<span style=" font-variant:small-caps;">Ctrl-C</span>] sent to kill it. This gives the process a chance to catch this signal and do the necessary cleanup, like removing the registered IP addresses.&#160; On a SUN machine, the command “kill –INT &lt;process_id&gt; “ can also be used to send the Control-C signal to the sathrd process.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">On Windows, if you want to start the sathrd process on its own, you can try the following in a DOS box, after going to the bin directory.</p>
<p class="WD_Normal"><b><i><span style=" color:red;"><font color="red" >&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" color:black;"><font color="black" >sathrd config.inp ..\map\&lt;mapname&gt;.map none 0 161 &lt;mapname&gt;.log 0</font></span></i></b></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The GUI version on the SUN platform also takes additional arguments to simplify the starting of maps.</p>
<p class="WD_Normal"><b><i><span style=" color:red;"><font color="red" >&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" color:black;"><font color="black" >sapro –w &lt;workspace&gt; -s &lt;server&gt; -m &lt;map&gt;</font></span></i></b></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The map specified in the mapname is loaded, and automatically started.</p>
<p class="WD_Normal">Example:&#160; sapro –w ../wsp/default.wsp –s localmachine –m multip.map</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Running_Largebc-251"></a><a name="Running_Large" id="Running_Large">Running Large Simulations</a> from the Command Line</p>
</div>
<p class="WD_Normal">The <i>&lt;install_dir&gt;sapro/multmap</i> directory contains sample maps and scripts to start a large number of maps via command line invocation.&#160; This directory also contains a README file that contains platform specific information for running the simulation.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">&#160;</p>
<p class="WD_chapnonum"><a name="Appendix_F_Frequentlybc-252"></a><a name="Appendix_F_Frequently" id="Appendix_F_Frequently">Appendix F<br />
Frequently Asked Questions</a></p>
<p class="WD_Normal">This Appendix describes some of the frequently asked questions about the SimpleAgentPro software. General troubleshooting information is listed in the Troubleshooting appendix.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Questionsbc-253"></a><a name="Questions" id="Questions">Questions</a></p>
</div>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">1)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> On UNIX platforms, when I click on the Compile button during MIB compilation, nothing happens.</p>
<p class="WD_Normal">SimpleAgentPro uses standard utilities like <i>xterm</i> and <i>vi</i> to carry out some of the tasks. Find out where the utility <i>xterm</i> is located on your system and then make sure that your PATH variable includes that directory.</p>
<p style=" margin-top:14.0pt; margin-right:0in; margin-bottom:10.0pt; margin-left:4.5in; text-indent:0in; display:none;" class="WD_ListParagraph"><b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">Chapter 1</span></b> <b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">&#160;</span></b></p>
<p style=" margin-top:14.0pt; text-indent:0in; display:none;" class="WD_ListParagraph"><b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">1)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span></b> <b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">&#160;</span></b></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">2)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> On Solaris 2.5.1 platform,&#160; the Browse dialog box is difficult to use because only the beginning of the full path name is displayed instead of just the file name.</p>
<p class="WD_Normal">There is a bug in the <i>libXm.so.3</i> dynamic library from Sun. Sun has fixed this bug and the fix is available from Sun as a patch. A patched <i>libXm.so.3</i> is also available from our website <a href="http://www.simplesoft.com/bugfixes.html">http://www.simplesoft.com/bugfixes.html</a>. Find out where the current <i>libXm.so.3</i> is on your system and save it. Place the new one retrieved in binary mode in the same directory and start SimpleAgentPro and check the Browse box.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">3)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> The MIB compilation did not work and gave a lot of errors and warnings.</p>
<p class="WD_Normal">SimpleAgentPro uses a fairly stringent MIB compiler that catches a lot of errors in the MIBs. You need to fix these errors before SimpleAgentPro can use the information in the MIBs. In Version 1.4 and above, a file called <span style=" font-family:'Arial' ,'sans-serif';">miberrs.out</span> is created in the current working directory that contains all the errors and warnings produced by the MIB compiler/sorter programs. The warning can be ignored, but not the errors. The errors also cause the compiled MIB file (<span style=" font-family:'Arial' ,'sans-serif';">cmf</span> file) to be partially complete which might make SimpleAgentPro work incorrectly.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Typical MIB errors are different names and data types for MIB variables in the tableEntry declaration, versus actual columnar definitions.</p>
<p class="WD_Normal"><b>Example:</b></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">m<b>Y-MIB DEFINITIONS ::= BEGIN</b></span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><b><span style=" font-family:Courier;">&#160;&#160;&#160;&#160;&#160; …..</span></b></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><b><span style=" font-family:Courier;">a</span></b><span style=" font-family:Courier;">NewDataType ::=OCTET STRING</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">tableEntry&#160;&#160;&#160;&#160; OBJECT-TYPE</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160; SYNTAX &#160;&#160;&#160; TableEntry<b>A</b></span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160; ....</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">TableEntry<b>B</b> ::=</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160; SEQUENCE {</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; column<b>1</b></span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; INTEGER,</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; column2</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <b>Counter</b>,</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ....</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160; }</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160; ....</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">column<b>A</b>&#160;&#160; OBJECT-TYPE</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160; SYNTAX&#160;&#160;&#160;&#160; INTEGER {</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <b>U</b>p (1),</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; almost<b>_</b>down(2),</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; down(3)</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160; ...</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">column 2&#160; OBJECT-TYPE</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160; SYNTAX&#160;&#160;&#160;&#160; <b>Gauge</b></span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal"><span style=" font-family:Courier;">&#160;&#160;&#160;&#160; ...</span></p>
<p style=" margin-left:76.5pt;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">The above example contains 7 errors:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:76.5pt; text-indent:-.25in;" class="WD_Normal">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> MIB Names&#160; like “mY-MIB” should start with a capital letter. The valid way would be “MY-MIB”.</p>
<p style=" margin-left:76.5pt; text-indent:-.25in;" class="WD_Normal">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> User defined data types like “aNewDataType” should start with a capital letter. The valid way would be “ANewDataType”.</p>
<p style=" margin-left:76.5pt; text-indent:-.25in;" class="WD_Normal">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> The SYNTAX of table Entry is of type “TableEntryA”, while later on “TableEntryB” is defined instead of “TableEntryA”. Make sure that the strings match.</p>
<p style=" margin-left:76.5pt; text-indent:-.25in;" class="WD_Normal">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> The object descriptor “column1” is used in the definition of the SEQUENCE for tableEntry, while the words “columnA” are used in the column definition itself. Make sure that the object descriptors are the same.</p>
<p style=" margin-left:76.5pt; text-indent:-.25in;" class="WD_Normal">5.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> The column2 is defined as a Counter in the SEQUENCE, but defined as a GAUGE in the actual OBJECT TYPE definition.</p>
<p style=" margin-left:76.5pt; text-indent:-.25in;" class="WD_Normal">6.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> One of the labels for the values in the enumerated integer columnA starts with a upper case character (“Up(1)”)&#160; The correct way is “up”(1).</p>
<p style=" margin-left:76.5pt; text-indent:-.25in;" class="WD_Normal">7.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> One of the labels for the values in the enumerated integer contains an underscore “_”.(“almost_down(2)”)&#160; Underscore characters are not allowed. A possible valid alternative would be “almost-down(2)”.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Warnings from the MIB Compiler are suggestions for a better MIB definition file, but dealing with them can be postponed, if desired.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">4)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I make the simulated Agents send a cold start trap when they are started?</p>
<p class="WD_Normal">SimpleAgentPro installation includes a sample modeling file called <span style=" font-family:'Arial' ,'sans-serif';">dev1.TCL</span> that has example code that you can use to send a cold start trap at initialization time. Typically, the enterpriseid field of a cold start trap is set the value of sysObjectId.0. The TCL script first gets this value at startup and then sends a cold start trap to a specified trap recipient manager, for example, 128.100.100.60.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_consolecode"># example of initial action that causes a cold start trap to</p>
<p class="WD_consolecode"># be emitted to the associated trap manager</p>
<p class="WD_consolecode">%init_action</p>
<p class="WD_consolecode">&#160;&#160;&#160; set varbind [SA_getvar {sysObjectID.0}]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set vb1 [lindex $varbind 0]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set val1 [lindex $vb1 2]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set args [list $val1 0 0 ]</p>
<p class="WD_consolecode">&#160;&#160;&#160; SA_settrapmgrs 128.100.100.60</p>
<p class="WD_consolecode">&#160;&#160;&#160; SA_sendtrap $args</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">5)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> When I start SimpleAgentPro, I get an error that says “Cannot bind to port 161”.</p>
<p class="WD_Normal">SimpleAgentPro by default tries to open up port 161 on the local machine. Only one process can bind to a specific port at a time. On your machine you probably have a SNMP daemon process running that is currently bound to port 161. The easiest way is to kill this SNMP daemon process, and then run SimpleAgentPro. Do a <b>ps –e | grep</b> <b>snmp</b> and see if there is any SNMP daemon process running.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal2">Sometimes, it is not possible to kill the local <span style=" text-transform:uppercase;">snmp</span> daemon. On systems where HP OpenView is also running, the <span style=" text-transform:uppercase;">snmp</span> daemon is used for other management tasks. In this you can kill the snmp daemon, start the SimpleAgentPro and then try starting the daemon again, or start the snmp daemon on another port</p>
<p style=" margin-top:14.0pt; margin-right:0in; margin-bottom:10.0pt; margin-left:4.5in; text-indent:0in; display:none;" class="WD_ListParagraph"><b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">Chapter 1</span></b> <b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">&#160;</span></b></p>
<p style=" margin-top:14.0pt; margin-right:0in; margin-bottom:10.0pt; margin-left:175.5pt; text-indent:0in; display:none;" class="WD_ListParagraph"><b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">1)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span></b> <b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">&#160;</span></b></p>
<p style=" margin-top:14.0pt; margin-right:0in; margin-bottom:10.0pt; margin-left:175.5pt; text-indent:0in; display:none;" class="WD_ListParagraph"><b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">2)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span></b> <b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">&#160;</span></b></p>
<p style=" margin-top:14.0pt; margin-right:0in; margin-bottom:10.0pt; margin-left:175.5pt; text-indent:0in; display:none;" class="WD_ListParagraph"><b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">3)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span></b> <b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">&#160;</span></b></p>
<p style=" margin-top:14.0pt; margin-right:0in; margin-bottom:10.0pt; margin-left:175.5pt; text-indent:0in; display:none;" class="WD_ListParagraph"><b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">4)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span></b> <b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">&#160;</span></b></p>
<p style=" margin-top:14.0pt; margin-right:0in; margin-bottom:10.0pt; margin-left:175.5pt; text-indent:0in; display:none;" class="WD_ListParagraph"><b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">5)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span></b> <b><span style=" font-family:'Arial' ,'sans-serif'; display:none;">&#160;</span></b></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">6)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How can I run multiple invocations of SimpleAgentPro?</p>
<p class="WD_Normal">Two users can start two SimpleAgentPro GUIs with each user running his own maps.&#160; You need to make sure however that there is no conflict in the IP addresses assigned to the devices in the different maps.&#160; Also on Solaris 2.7 and below, you also need to make sure that you do not have conflicting interface numbers assigned.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">7)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> What do I have to do to support dynamic row creation?&#160; Can I then add rows using the TCL commands?</p>
<p class="WD_Normal">The dynamic row templates in the <span style=" font-family:'Arial' ,'sans-serif';">.var</span> file tell SimpleAgentPro that a particular table supports dynamic row creation. To make SimpleAgentPro create dynamic row templates, select the “Create dynamic row templates” box, when creating variables from a MIB or learning variables from a device. To create templates for tables that have read-only columns, add the line %DYNROW&#160; ALL to the default rules file used during the variable file creation.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once the templates are created, you need to remove the starting hash sign to make use of them. By default, they are created as comments. Here is an example of a dynamic row template for the ipNetToMedia table followed by a TCL script to add rows to it.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Part of the .var file:</p>
<p class="WD_consolecode"># template for dynamic row. To use, please remove the starting hash signs</p>
<p class="WD_consolecode">%drow&#160; 1.3.6.1.2.1.4.22.1&#160;&#160; newinstance</p>
<p class="WD_consolecode">%dcol&#160; ipNetToMediaIfIndex&#160;&#160;&#160;&#160;&#160;&#160; NotReq&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RW&#160;&#160;&#160; dfixed(1)</p>
<p class="WD_consolecode">%dcol&#160; ipNetToMediaPhysAddress&#160;&#160; Req&#160;&#160;&#160;&#160;&#160; OctetString&#160; RW&#160;&#160;&#160; r_lastset(6, 6, 0x010203040506)</p>
<p class="WD_consolecode">%dcol&#160; ipNetToMediaNetAddress&#160;&#160;&#160; NotReq&#160;&#160; IpAddress&#160;&#160;&#160; RW&#160;&#160;&#160; dfixed(1.2.3.4)</p>
<p class="WD_consolecode">%dcol&#160; ipNetToMediaType&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RW&#160;&#160;&#160; r_lastset(1, 4, 1)</p>
<p class="WD_consolecode">%setaction ipNetToMediaType&#160;&#160;&#160;&#160;&#160; Integer&#160; 2&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; deleterow()</p>
<p class="WD_consolecode">#</p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></i></p>
<p class="WD_Normal">Note that the starting hash signs have been removed and the &lt;<i>specify_value</i>&gt; has been changed to an actual value.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A TCL script that adds a row to this table with ifIndex of 3, and IP Address of 128.100.100.120 would look like:</p>
<p class="WD_consolecode">SA_setvar { { ipNetToMediaPhysAddress.3.128.100.100.120 OctetString 0x01203040909 }</p>
<p class="WD_consolecode">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {ipNetToMediaType.3.128.100.100.120 Integer 1}}</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Please note that only the Required columns have been specified. To delete the row from the table, setting the ipNetToMediaType to 2 will cause the row to be deleted, as per the setaction line in the dynamic row template.</p>
<p class="WD_consolecode">SA_setvar { {ipNetToMediaType.3.128.100.100.120 Integer 2}}</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the case of tables supporting the “RowStatus” columns, the dynamic row templates created by SimpleAgentPro will be different. The <b>%setaction</b> line will not be necessary in that case, since SimpleAgentPro understands the semantics of the different values of “RowStatus” like “destroy.”</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">8)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How can I share one .var file among many devices, yet have the correct values returned for tables such as the ipAddrTable in MIB2?</p>
<p class="WD_Normal">Managers such as HPOpenView also query different tables within MIB2 and use that information to represent that device on its map. The following is an example where you can share one <span style=" font-family:'Arial' ,'sans-serif';">.var</span> file among many devices, and at runtime, the modeling file is used to populate IP Address sensitive tables with the appropriate data.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The .var file needs to include the following dynamic row template at the beginning of the file:</p>
<p class="WD_consolecode"># template for dynamic row. To use, please remove the starting hash signs</p>
<p class="WD_consolecode">%drow&#160; 1.3.6.1.2.1.4.20.1&#160;&#160; newinstance</p>
<p class="WD_consolecode">%dcol&#160; ipAdEntAddr &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;NotReq&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IpAddress&#160;&#160;&#160; RW&#160;&#160;&#160;&#160;&#160;&#160; dfixed(1.2.3.4)</p>
<p class="WD_consolecode">%dcol&#160; ipAdEntIfIndex&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RW&#160;&#160;&#160;&#160;&#160;&#160; lastset(1)</p>
<p class="WD_consolecode">%dcol&#160; ipAdEntNetMask&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IpAddress&#160;&#160;&#160; RW&#160;&#160;&#160;&#160;&#160;&#160; lastset(1.2.3.4)</p>
<p class="WD_consolecode">%dcol&#160; ipAdEntBcastAddr&#160;&#160;&#160; &#160;&#160;&#160;&#160;NotReq&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RW&#160;&#160;&#160;&#160;&#160;&#160; lastset(1)</p>
<p class="WD_consolecode">%dcol&#160; ipAdEntReasmMaxSize&#160;&#160;&#160;&#160; NotReq&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RW&#160;&#160;&#160;&#160;&#160;&#160; lastset(0)</p>
<p style=" margin-bottom:6.0pt;" class="WD_Normal"><i>&#160;</i></p>
<p class="WD_Normal">Each of the device is then associated with a modeling file that looks like:</p>
<p class="WD_consolecode">%init_action</p>
<p class="WD_consolecode">&#160;&#160;&#160; set myip [SA_getmyip]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set vboid1 ipAdEntAddr.$myip</p>
<p class="WD_consolecode">&#160;&#160;&#160; set vboid2 ipAdEntIfIndex.$myip</p>
<p class="WD_consolecode">&#160;&#160;&#160; set vboid3 ipAdEntNetMask.$myip</p>
<p class="WD_consolecode">&#160;&#160;&#160; set vboid4 ipAdEntBcastAddr.$myip</p>
<p class="WD_consolecode">&#160;&#160;&#160; set vboid5 ipAdEntReasmMaxSize.$myip</p>
<p class="WD_consolecode">&#160;&#160;&#160; set vb1&#160;&#160;&#160;&#160; [list $vboid1 IpAddress $myip ]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set vb2&#160;&#160;&#160;&#160; [list $vboid2 Integer&#160;&#160; 1 ]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set vb3&#160;&#160;&#160;&#160; [list $vboid3 IpAddress 255.255.255.0 ]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set vb4&#160;&#160;&#160;&#160; [list $vboid4 Integer&#160;&#160; 1 ]</p>
<p class="WD_consolecode">&#160;&#160;&#160; set vb5&#160;&#160;&#160;&#160; [list $vboid5 Integer&#160;&#160; 1500 ]</p>
<p class="WD_consolecode">&#160;&#160;&#160; SA_setvar&#160;&#160; [list $vb1 $vb2 $vb3 $vb4 $vb5]</p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></i></p>
<p class="WD_Normal">Each of the simulated device executes this TCL script at initialization time, within its own context. The <i>SA_getmyip</i> call returns the device’s IP address, which is used to populate the ipAddrTable.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Sometimes, when you "learn" a variable file from a device, that device's IP address is also present in the variable file's data portion.&#160; So if you learn from a box whose IpAddress is "1.1.1.1", then in the variable file learnt, if there is a variable say <i>myOwnIpaddress.0</i>, it will have the value of "1.1.1.1".</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Now, if you associate this variable file&#160; with a simulated device whose IpAddress is "2.2.2.2", and start the map, and if this device is asked "What is the value of <i>myOwnIpAddress.0</i> ?", it will return "1.1.1.1".&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In SimpleAgentPro ver 4.0 and above, support has also been added for a special string "$$MYIPADDRESS$$".&#160; In your variable file, if you globally substitute the teacher's IpAddress with this string, then the SimpleAgentPro at initialization time, will substitute it with the simulated device's IpAddress.&#160; You can also use a defaults rule file while learning, which has the line "%MAPIPADDRESS YES".</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In SimpleAgentPro ver 8.5 and above, support has also been added for mac addresses.&#160; The special token $$MYMAINMACADDR$$ gets substituted by the mac address associated with the device (specified during device definition).&#160; If the device’s mac address is set to the default string “none”, then an address of 010203040506 is used.</p>
<p class="WD_Normal">In SimpleAgentPro 20.0 and above, support has also been added for $$MYIPSUBNIDS$$, $$MYIPSUBNHEX$$ &#160;and $$MYIPADDRHEX$$ tokens.&#160; If the device ip address is 1.2.3.4, then the value of $$MYIPSUBNIDS$$ will be set to the first 3 subids (1.2.3), and the value of $$MYIPSUBNHEX$$ will be set to 010203, while the value of $$MYIPADDRHEX$$ will be set to 01020304.</p>
<p class="WD_Normal">This allows you to share the same variable file with hundreds of simulated devices, since it will automatically substitute them with the right IpAddress.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">9)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> What are the restrictions on the IP address that can be assigned to the devices being simulated?</p>
<p class="WD_Normal">SimpleAgentPro poses no restrictions on the IP addresses assigned.&#160;&#160; Any IP address, provided it is not already in use, can be assigned.&#160;&#160; If an IP address on a different subnet is assigned, a route may be needed to be added manually on the machine that is running the management application, to tell it how to get to this subnet.&#160; The IP address of the workstation/PC on which the SimpleAgentPro is running can be used as the gateway address.&#160; The next question goes into the specifics on adding a route.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The Solaris operating system poses a maxmimum limit of around 8K IP Adresses on one interface, while on Windows there is no fixed upper limit, except for the limit imposed by the amount of resources available on the PC.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">10)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How can my management application talk with the simulated devices if they have IP addresses on a different subnet?</p>
<p class="WD_Normal">Suppose the machine you are running SimpleAgentPro has an IP Address of SubnetA.1 (128.100.100.1)&#160; and the management application is running on another machine with a IP Address of SubnetA.2 (128.100.100.2).&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Now in the case where the currently running map has two devices that have IP addresses that are on the same subnet (e.g.: 128.100.100.200, 128.100.100.201), then the management application running on SubnetA.2 will be able to talk to them without any additional configuration.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the case where the IP addresses of the simulated devices are on a different subnet e.g.: (10.100.100.1 and 10.100.100.2), then the management application might not know how to get to this subnet.&#160;&#160; To get around this problem, a route needs to be added manually on the machine that is running the management application.&#160;&#160; The route would say that to get to this new subnet, use the IP address of the machine on which the SimpleAgentPro is running as a gateway.&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">On Solaris, you can manually add a route by typing the following command:</p>
<p style=" margin-left:0in; text-indent:.5in;" class="WD_command">&gt; route add net 10.100.100.0 128.100.100.1 1</p>
<p style=" margin-left:0in; text-indent:.5in;" class="WD_command">&#160;</p>
<p class="WD_Normal">where 10.100.100.0 is the new subnet, and 128.100.100.1 is the IP address of the machine on which the SimpleAgentPro is running and 1 is the route metric</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">On Windows you can manually add a route by typing the following command:</p>
<p style=" margin-left:0in; text-indent:.5in;" class="WD_command">&gt; route add 10.100.100.0 MASK 255.255.255.0 128.100.100.1</p>
<p class="WD_command">&#160;</p>
<p class="WD_Normal">On&#160; Linux you can manually add a route by typing the following command:</p>
<p style=" margin-left:0in; text-indent:.5in;" class="WD_command">&gt; route add –net 10.100.100.0 netmask 255.255.255.0 gw 128.100.100.1</p>
<p class="WD_command">&#160;</p>
<p class="WD_Normal">where 10.100.100.0 is the new subnet with a netmask of 255.255.255.0, and 128.100.100.1 is the IP address of the machine on which the SimpleAgentPro is running,</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">11)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How many devices can be contained in one map?</p>
<p class="WD_Normal">Different platforms place different limitations on the number of resources available for one process.&#160;&#160; Since the simulation of each device consumes certain number of resources (files open, sockets open, memory), this translates into restrictions on the maximum number of devices that can be contained in one map.&#160; For example: on a Solaris platform, you want to simulate 250 devices.&#160; You can create one map made up of 250 devices and try to run it, or you can create 5 maps, each containing 50 devices, and run 5 simultaneous invocations of the SimpleAgentPro (each with a different starting interface number).&#160; The later will consume less resources per process, since the total resources are now distributed among 5 processes, and will be within the limits allowed on the operating system.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Typically on a Solaris machine, you can have maps containing up to 70 devices, while on a Windows machine around a 100 devices (based on availability of memory) and on a HP machine around 30-50 devices.&#160; You can of course have multiple invocations of the SimpleAgentPro at the same time to simulate additional devices contained in other maps.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">12)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> What can I do if I do not want the users of SimpleAgentPro to be root on Solaris or Linux?</p>
<p class="WD_Normal">The SimpleAgentPro on SUN Solaris/Linux binds to well defined ports (161) and also adds additional IP addresses to the TCP/IP stack, and for these tasks, needs to have root privileges.&#160;&#160; If you do not&#160; want all the users to be root, you might try the following:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_hyphbullet">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Make sure that the sapro sub-directories have read-write access for all users, so that they can read variable files, and create log files.&#160; Also make sure that the environment variables like DISPLAY, LD_LIBRARY_PATH, PATH etc are setup for the user.</p>
<p class="WD_hyphbullet">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Set the ownership of the sathrd executable and sapro executable to root, and set its sticky bit on.</p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> <b><span style=" font-family:Courier;">chown root sathrd; chmod u+s sathrd</span></b></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> <b><span style=" font-family:Courier;">chown root sapro; chmod u+s sapro</span></b></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> <b><span style=" font-family:Courier;">chown root sapns; chmod u+s sapns</span></b></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><b><span style=" font-family:Courier;">&#160;</span></b></p>
<p class="WD_hyphbullet">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Set the ownership of the standard ifconfig executable to root and set its sticky bit on.</p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> <b><span style=" font-family:Courier;">chown root ifconfig; chmod u+s ifconfig</span></b></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">13)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I simulate a chassis with multiple cards that exhibit community string based proxy behavior (Entity MIB style)?</p>
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">Suppose that you have a real device with IP address 1.1.1.1 and it contains 2 cards each with agents that are accessible when you send packets to 1.1.1.1 but use the community string CARD1 and CARD2 respectively.&#160; Let’s also say that after learning from this device, you want to create a simulated device with IP address 2.2.2.2.&#160; To set up the simulation, you need to do the following:</span></p>
<p class="WD_Caption">&#160;</p>
<p style=" margin-left:.75in;" class="WD_hyphbullet"><span style=" font-family:'Palatino' ,'serif';">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></span> Select "learn from device" and create a variable file&#160; called "main.var", by specifying the teacher's IP address to be 1.1.1.1, and the community string "public".</p>
<p style=" margin-left:.75in; line-height:12.0pt;" class="WD_hyphbullet"><span style=" font-family:'Palatino' ,'serif';">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></span> Select "learn from device" and create a variable file&#160; called "card1.var", by specifying the teacher's IP address to be 1.1.1.1, and the community string "CARD1".</p>
<p style=" margin-left:.75in; line-height:12.0pt;" class="WD_hyphbullet"><span style=" font-family:'Palatino' ,'serif';">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></span> Select "learn from device" and create a variable file&#160; called "card2.var", by specifying the teacher's IP address to be 1.1.1.1, and the community string "CARD2".</p>
<p style=" margin-left:.75in; line-height:12.0pt;" class="WD_hyphbullet"><span style=" font-family:'Palatino' ,'serif';">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></span> Now create a new map called abc.</p>
<p style=" margin-left:.75in; line-height:12.0pt;" class="WD_hyphbullet"><span style=" font-family:'Palatino' ,'serif';">5.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></span> Select "Add Device" and specify a multihomed device, with IP Address 2.2.2.2 and variable file "main.var"</p>
<p style=" margin-left:.75in; line-height:12.0pt;" class="WD_hyphbullet"><span style=" font-family:'Palatino' ,'serif';">6.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></span> Select "<i>Add Device</i>" and specify a proxy device, and specify its name as "CARD1" and the associated IP Address as 2.2.2.2.&#160;&#160; Also specify its variable file as "card1.var", and its community string "CARD1"</p>
<p style=" margin-left:.75in; line-height:12.0pt;" class="WD_hyphbullet"><span style=" font-family:'Palatino' ,'serif';">7.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></span> Select <i>"Add Device"</i> and specify a proxy device, and specify its name as "CARD2" and the associated IP Address as 2.2.2.2.&#160; Also specify its variable file as "card2.var", and its&#160; community string "CARD2"</p>
<p style=" margin-left:.75in; line-height:12.0pt;" class="WD_hyphbullet"><span style=" font-family:'Palatino' ,'serif';">8.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></span> Now your map should contain 3 devices, one multihomed, and two proxies.</p>
<p style=" margin-left:.75in; line-height:12.0pt;" class="WD_hyphbullet"><span style=" font-family:'Palatino' ,'serif';">9.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></span> The default proxy community string algorithm is as follows:&#160;&#160; An incoming community string is considered to be made up of priviledge_identifier and a device_identifier, separated by a special character.&#160;&#160; So for "public@card1",&#160;&#160; "public" is the priviledge_identifier, and "card1" is&#160; the device_identifier, and "@" is the special separator.&#160; The separator character is specified in the&#160; config.inp file.&#160; If the SEPARATOR = NONE, then the&#160; string is not broken up, and both the device_identifier and priviledge_identifier are the same.&#160; For example, for community string "CARD1", with separator set to NONE, the device identifier and the privilege identifier are "CARD1".&#160; So set the separator in the config.inp file, and the associated community strings of the proxy devices according to the community string format/scheme used for your device.</p>
<p style=" margin-left:.75in; line-height:12.0pt;" class="WD_hyphbullet"><span style=" font-family:'Palatino' ,'serif';">10.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> Start the map.&#160; When a SNMP request comes in to 2.2.2.2&#160; with community string set to "public" then it will get forwarded to the multihomed device, and it will process the&#160;&#160; request in the context of "main.var".&#160; When a SNMP request&#160;&#160; comes in to 2.2.2.2&#160; with community string set to "CARD1"&#160;&#160; then it will get forwarded to the first proxy device, and it will process the request in the context of "card1.var".</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">14)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> If I want to learn from many devices, at a customer site, is there a script that would learn from all of them, create a map, and compress it into one file that I could bring back to my lab?</p>
<p class="WD_Normal">A sample "csh" script is shown below:</p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># This script reads an input file containing a list of IP addresses</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># (one on each line), and then tries to create a compressed tar file</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># that contains a map file with all the devices, a walk file for each</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># of the devices, and a script file that can be run later on to</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># convert the walk files to variable files, to complete the process.</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># The compressed tar file is expected to be untared in the sapro</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># directory.</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># The script takes 2 arguments</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># 1st argument:&#160; what you want this tarfile to be called</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># 2nd argument:&#160; name of the input file that contains a list of</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ipaddresses, one on each line</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#!/bin/csh</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># creating temporary directories</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">mkdir temp$1</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">mkdir temp$1/map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">mkdir temp$1/var</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># creating map file header</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo "RELEASE = 1.5" &gt; temp$1/map/$1.map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo "UDP_PORT = 161" &gt;&gt; temp$1/map/$1.map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo "DESCRIPTION =&#160; " &gt;&gt; temp$1/map/$1.map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo "USERNAME =&#160; " &gt;&gt; temp$1/map/$1.map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># creating script file header</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo "#\!/bin/csh" &gt; temp$1/var/w2v.scr</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># reading each line in the ipaddress list file</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">foreach i (`cat $2`)</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo $i</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># learning from each device and saving it in its associated</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># walk file.</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">../bin/sapwalk $i public 1.3 10000 3 &gt; temp$1/var/$i.walk</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># adding an entry for that device in the map file</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo -n '"' &gt;&gt; temp$1/map/$1.map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo -n $i&#160; &gt;&gt; temp$1/map/$1.map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo -n '"' &gt;&gt; temp$1/map/$1.map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo -n&#160; '"public" "private" "mib2.cmf"' &gt;&gt; temp$1/map/$1.map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo -n '"' &gt;&gt; temp$1/map/$1.map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo -n ../temp$1/var/$i.var &gt;&gt; temp$1/map/$1.map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo -n '"' &gt;&gt; temp$1/map/$1.map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo '"none" "0" "1" "none" "255.255.255.0" "BILINGUAL" "1500" "none"' &gt;&gt; temp$1/map/$1.map</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># adding an entry for the walk to var conversion in the script</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">echo "../../bin/sapw2var $i.walk ../../cmf/mib2.cmf $i.var ssoft" &gt;&gt; temp$1/var/w2v.scr</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">end</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;"># taring, compressing, etc..</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">chmod +x temp$1/var/w2v.scr</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">tar cvf $1.tar temp$1</font></span></p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">compress $1.tar</font></span></p>
<p style=" margin-left:.5in;" class="WD_Caption">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">15)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Can I write a simple c program that will generate a map file?</p>
<p class="WD_Normal">If you do not want to use the "clone device" feature of the GUI because the map file is text based, even a simple c program can be written to populate the map file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A sample c program that outputs a map file is shown below...</p>
<p class="WD_scripts">#include &lt;stdio.h&gt;</p>
<p class="WD_scripts">main()</p>
<p class="WD_scripts">{</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; int&#160; i;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /* put header */</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; printf("RELEASE = 1.5\n");</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; printf("UDP_PORT = 161\n");</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; printf("DESCRIPTION =&#160;&#160;&#160;&#160; \n");</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; printf("USERNAME =&#160;&#160;&#160;&#160; \n");</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /* put 50 devices in a map */</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; for (i = 1; i &lt; 50; i++)</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; printf("\"192.168.10.%d\" \"public\" \"private\" \"mib2.cmf\" \"dev1.var\" \"none\" \"0\" \"1\" \"none\" \"255.255.255.0\" \"BILINGUAL\" \"1500\" \"none\"\n", i);</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">}</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">16)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> On Windows, even though the software protection key is connected, the SimpleAgentPro does not find it.</p>
<p class="WD_Normal">On Windows, it is necessary to install the device drivers for the software protection key in order for the SimpleAgentPro to "find" it.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To install the drivers for WinNT, perform the following steps:</p>
<p class="WD_ListNumber">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Go to the directory <span style=" font-family:'Arial' ,'sans-serif';">Program</span> FILES\SIMPLEAGENTPRO\DONGLE\WIN_NT.</p>
<p class="WD_ListNumber">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Launch the Setupx86 application in that directory.</p>
<p class="WD_ListNumber">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> From the <i>Functions</i> menu, select <i>Install Driver</i>.</p>
<p class="WD_Normal2">The application will prompt you for the drivers which are in the &lt;<i>install_dir</i>&gt;\DONGLE\WIN_NT\I386 directory. This directory will already be chosen by default.</p>
<p class="WD_ListNumber">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Click OK to install. You may need to reboot the machine.</p>
<p class="WD_Normal2">Additional information on the latest dongle device drivers is available at <b>http://www.rnbo.com</b>. Follow links to Tech Support, Sentinel Device Drivers.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">17)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> When I am “learning” from a device, the SimpleAgentPro complains about&#160; “lexicographical” errors and stops.&#160; What should I do to try to continue the learning?</p>
<p class="WD_Normal">The SimpleAgentPro uses the&#160; SNMP “GetNext” operator to “walk” the devices’ MIB to learn all the manageable objects supported by the agent.&#160; Sometimes the agent does not implement the&#160; “GetNext” operation correctly and returns a variable that is lexicographically smaller than what was asked for.&#160; (e.g.: if the agent supports a,b,c,d,e,f,g&#160; and when asked to give the “getnext” of “d”, instead of giving “e” back, it returns “c”. )&#160;&#160; Since this can cause infinite loops during retrieval, the SimpleAgentPro detects this error and stops.&#160;&#160;&#160;&#160; Sometimes however the agent is broken only in certain tables, and that too, it returns oids that do not result in infinite loops.&#160; (e.g.: the agent might give&#160; a,b,c,d,&#160; f, e, g,&#160; h,i,j,k)&#160;&#160;&#160; If that is the case, and you want the SimpleAgentPro to try to continue the learning, you can create a rules file called “ignorelex.rul”, and place it in the <i>&lt;sapro&gt;/</i>var directory.&#160;&#160; This file should have one line in it that looks like :</p>
<p class="WD_code10pt">&#160;&#160;&#160;&#160;&#160; %IGNOREWALKERRROR&#160;&#160;&#160; YES</p>
<p class="WD_Normal">If this rules file is specified as the defaults rule file, the SimpleAgentPro will continue the learning.&#160; In this case, the user has to exercise caution and stop the learning if they find that the agent is returning oids in an infinite loop.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The SimpleAgentPro 7.0 has this as its built-in default behavior.&#160; To turn it off, you can use the following directive in the rules file</p>
<p class="WD_code10pt">&#160;&#160;&#160;&#160;&#160; %IGNOREWALKERRROR&#160;&#160;&#160; NO</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">18)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> One of the tables that is supported by the agent has a bunch of rows that keep sliding up.&#160; New rows get added at the bottom, and old ones get deleted from the top, every 10 seconds.&#160; How can I simulate a scenario like this, without deleting and adding rows?</p>
<p class="WD_Normal">The following MIB, var, and tcl files give an example of how one could accomplish this…</p>
<p class="WD_consolecode"><span style=" font-size:10.0pt;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_scripts">&lt;example1.mib&gt;</p>
<p class="WD_scripts">EXAMPLEONE-MIB DEFINITIONS ::= BEGIN</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">IMPORTS</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; MODULE-IDENTITY, OBJECT-TYPE,</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; Counter32, Gauge32&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; FROM SNMPv2-SMI;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">example &#160;&#160;&#160;OBJECT IDENTIFIER ::= { enterprises 784 }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">exampleOneTable&#160; OBJECT-TYPE</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SYNTAX&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SEQUENCE OF ExampleOneTableEntry</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; MAX-ACCESS&#160;&#160;&#160;&#160;&#160; not-accessible</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; STATUS&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; current</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; DESCRIPTION</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; "First example table....."</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; ::=&#160; { example 1 }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">exampleOneTableEntry&#160;&#160;&#160; OBJECT-TYPE</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SYNTAX&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ExampleOneTableEntry</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; MAX-ACCESS&#160;&#160;&#160;&#160;&#160; not-accessible</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; STATUS&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; current</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; DESCRIPTION</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; "Entry in first example table....."</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; INDEX&#160;&#160; {&#160; e1col1&#160; }</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; ::=&#160; { exampleOneTable 1 }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">ExampleOneTableEntry&#160; ::=&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SEQUENCE {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; e1col1&#160;&#160;&#160;&#160; Integer32,</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; e1col2&#160;&#160;&#160;&#160; Integer32,</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; e1col3&#160;&#160;&#160;&#160; Counter32,</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; e1colrs&#160;&#160;&#160; RowStatus</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">e1col1&#160; OBJECT-TYPE</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SYNTAX&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Integer32</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; MAX-ACCESS&#160;&#160;&#160;&#160;&#160; not-accessible</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; STATUS&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; current</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; DESCRIPTION</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; "First column in the table in example 1"</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; ::=&#160; {&#160; exampleOneTableEntry&#160; 1 }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">e1col2&#160; OBJECT-TYPE</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SYNTAX&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Integer32</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; MAX-ACCESS&#160;&#160;&#160;&#160;&#160; read-write</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; STATUS&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; current</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; DESCRIPTION</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; "Second column in the table in example 1"</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; ::=&#160; {&#160; exampleOneTableEntry&#160; 2 }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">e1col3&#160; OBJECT-TYPE</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SYNTAX&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Counter32</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; MAX-ACCESS&#160;&#160;&#160;&#160;&#160; read-only</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; STATUS&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; current</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; DESCRIPTION</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; "Third column in the table in example 1"</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; ::=&#160; {&#160; exampleOneTableEntry&#160; 3 }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">e1colrs&#160; OBJECT-TYPE</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; &#160;SYNTAX&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RowStatus</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; MAX-ACCESS&#160;&#160;&#160;&#160;&#160; read-write</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; STATUS&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; current</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; DESCRIPTION</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; "RowStatus column in the table in example 1"</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; ::=&#160; {&#160; exampleOneTableEntry&#160; 4&#160; }</p>
<p class="WD_code10pt">&#160;</p>
<p class="WD_code10pt">&#160;</p>
<p class="WD_code10pt">END</p>
<p style=" margin-left:.5in;" class="WD_Caption"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal"><b><span style=" font-family:Courier New;">&lt;example1.var&gt;</span></b></p>
<p class="WD_scripts">###################################################</p>
<p class="WD_scripts"># Time:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Wed Jan&#160; 5 15:50:16 2000</p>
<p class="WD_scripts"># Number of Rows:&#160;&#160;&#160;&#160; 2</p>
<p class="WD_scripts"># Value type formats:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; fixed(current_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; lastset(initial_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; r_lastset(min, max, initial_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; random(starting_value,max_delta)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; randomup(starting_value,max_delta)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; clock(starting_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; sequential(min_value,max_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; seqinc(min_value,increment,max_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; seqtimeinc(min_value,increment,max_value)&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; dfixed(current_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; rowstatus(current_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; testandinc(current_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; utilization(min_value,max_delta,max_value)&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; valuelist(a, b, c, d, e, ...)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; fastclock(starting_value, multiplier)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160; valueintlist(a, b, c, d, e, ...)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">####################################################</p>
<p class="WD_scripts"># template for dynamic row. To use, remove the starting hash signs</p>
<p class="WD_scripts">%drow&#160; 1.3.6.1.4.1.784.1.1&#160;&#160; rowstatus</p>
<p class="WD_scripts">%dcol&#160; e1col1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; NA dfixed(1)</p>
<p class="WD_scripts">%dcol&#160; e1col2&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RW lastset(1)</p>
<p class="WD_scripts">%dcol&#160; e1col3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq Counter&#160;&#160;&#160;&#160;&#160; RO randomup(1000, 100)</p>
<p class="WD_scripts">%dcol&#160; e1colrs&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RW rowstatus(1)</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># columnar variable e1col1. Index = e1col1</p>
<p class="WD_scripts"># sub ids in the instance are = n</p>
<p class="WD_scripts">e1col1.1&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;, Integer&#160;&#160;&#160;&#160; , NA , fixed(1)</p>
<p class="WD_scripts">e1col1.2&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , NA , fixed(2)</p>
<p class="WD_scripts"># columnar variable e1col2. Index = e1col1</p>
<p class="WD_scripts"># sub ids in the instance are = n</p>
<p class="WD_scripts">e1col2.1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RW , lastset(1)</p>
<p class="WD_scripts">e1col2.2&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RW , lastset(1)</p>
<p class="WD_scripts"># columnar variable e1col3. Index = e1col1</p>
<p class="WD_scripts"># sub ids in the instance are = n</p>
<p class="WD_scripts">e1col3.1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Counter&#160;&#160;&#160;&#160; , RO , fixed(1234)</p>
<p class="WD_scripts">e1col3.2&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Counter&#160;&#160;&#160;&#160; , RO , randomup(1000, 100)</p>
<p class="WD_scripts"># columnar variable e1colrs. Index = e1col1</p>
<p class="WD_scripts"># sub ids in the instance are = n</p>
<p class="WD_scripts">e1colrs.1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RW , rowstatus(1)</p>
<p class="WD_scripts">e1colrs.2&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RW , rowstatus(1)</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_Normal"><b><span style=" font-family:Courier New;">&lt;example1.tcl&gt;</span></b></p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugflag 1</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugfile example1.dbg</p>
<p class="WD_scripts">&#160;&#160;&#160; set count 1</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">%timer_action 10</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # this example assumes that you have two rows in a table</p>
<p class="WD_scripts">&#160;&#160;&#160; # indexed by 1, and 2. Every 10 seconds, the tcl script</p>
<p class="WD_scripts">&#160;&#160;&#160; # simulates the effect of a new row getting added at the</p>
<p class="WD_scripts">&#160;&#160;&#160; # end that makes the first one get deleted.</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # make sure you update the larger one first, before updating</p>
<p class="WD_scripts">&#160;&#160;&#160; # the smaller.&#160; Otherwise if you update the smaller one first,</p>
<p class="WD_scripts">&#160;&#160;&#160; # both existing rows would have the same instance, and the sort</p>
<p class="WD_scripts">&#160;&#160;&#160; # order would be messed up.</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_updaterowinstance e1col1.[expr $count+1] e1col1.[expr $count+2]</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_updaterowinstance e1col1.$count e1col1.[expr $count+1]</p>
<p class="WD_scripts">&#160;&#160;&#160; incr count</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-family:'Book Antiqua' ,'serif';">19)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Book Antiqua' ,'serif';">If I want to&#160; send one trap every 10 seconds and another trap every 20 seconds, how do I do this, since you can only have one %timer_action in the modeling file?</span></p>
<p class="WD_Normal">The following tcl script addresses this issue by using a counter:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-family:Courier New;">%init_action</span></i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;&#160;&#160; SA_settcldebugflag 1</span></i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;&#160;&#160; SA_settcldebugfile example2.dbg</span></i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;&#160;&#160; set myCount 0</span></i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-family:Courier New;">%timer_action 10</span></i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;&#160;&#160; incr myCount</span></i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;&#160;&#160; SA_sendtrap { 1.2.3 6 51 }</span></i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;</span></i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;&#160;&#160; if {$myCount == 2} {</span></i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 6 52 }</span></i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set myCount 0</span></i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;&#160;&#160; }</span></i></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-family:'Book Antiqua' ,'serif';">20)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Book Antiqua' ,'serif';">How do I generate traps?</span></p>
<p class="WD_Normal">SimpleAgentPro supports trap generation via tcl scripts.&#160; Each simulated device includes a Tcl interpretor.&#160; When a tcl command such as “SA_sendtrap” is made to be interpreted in the device tcl interpretor, a trap gets emitted within the context of that device.&#160; Hence the trap will appear as if it came from that device’s IP address.&#160; There are basically two steps to trap generation:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.75in; line-height:12.0pt;" class="WD_hyphbullet"><span style=" font-family:'Book Antiqua' ,'serif';">1)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Book Antiqua' ,'serif';">Formulating the tcl command for the trap to be generated.</span></p>
<p style=" margin-left:.75in; line-height:12.0pt;" class="WD_hyphbullet"><span style=" font-family:'Book Antiqua' ,'serif';">2)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Book Antiqua' ,'serif';">Making the specified device emit the trap by having its tcl interpreter interpret the tcl command (created in step 1)</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>Step 1:</b></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal">Trap related tcl commands can be formulated from the information in the MIB or from real traps sent by real devices.&#160;&#160; Various types of trap related tcl commands are supported by SimpleAgentPro like <i>(SA_sendtrap</i>) for SNMPv1 traps, <i>(SA_sendv2trap</i>) for SNMPv2c notifications or <i>(SA_sendv2cinform)</i> for SNMPv2C inform requests</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">So to send a SNMPv1 coldstart trap for example, the tcl command would look like</p>
<p class="WD_Normal"><i>&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 0 0 }</i></p>
<p class="WD_Normal">where 1.2.3 is the value of enterprise id, and 0 (coldstart) is the&#160; value of generic field, and 0 is the value of the specific field.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To generate sample tcl commands from the MIB, you can use the saptraps command line utility or via the GUI (<i>Traps→Create</i> <i>From MIB</i>) submenu option to create a file that contains template tcl commands for each of the TRAP-TYPE and NOTIFICATION-TYPE macros defined in the MIB.&#160; This reduces the error prone process of formulating the tcl command for trap generation.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can also map real traps to tcl commands by listening for traps on port 162 and when&#160; a real trap is received you can map it to the appropriate tcl command that could be used to emit it.&#160; This can be done via the GUI (Traps-&gt;Learn from Device).</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The saptlog command line utility can also be used to parse existing trap log files from common management applications like HPOpenView and NetCool and create the associated trap tcl commands for replay.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>Step 2:</b></p>
<p class="WD_Normal">You can make the device’s tcl interpretor, interpret the commands created in Step 1 in multiple ways.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.75in;" class="WD_hyphbullet">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> A tcl script gets interpreted by the device if it is part of the&#160; modeling file associated with the device.&#160; (As part of <i>%init_action</i>, or pdu processing related action like <i>%after_set_action</i> or timer related action like <i>%timer_action</i>). See the section on modeling file for additional details.. Make sure the trap manager is setup by using the SA_settrapmgrs Tcl command or specifying it as part of the device properties in its SNMP tab. Other aspects of the trap like trap port (default is 162) and trap community (default is public) can also be set via tcl commands.</p>
<p style=" margin-left:.75in;" class="WD_hyphbullet">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> A tcl script also gets interpreted at the map level, when part of a setup file.&#160; See the section on setup files for additional details.</p>
<p style=" margin-left:.75in;" class="WD_hyphbullet"><span style=" font-family:Courier New;">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> A tcl script can also be interpreted upon user request via the <i>Device→Run</i> <i>Tcl</i> <i>Script</i> submenu item.&#160; When a map is running,&#160; select the device that you want to emit the trap, then bring up the <i>Device→RunTclScript dialog</i>.&#160; In the Tcl Script section, type in the <i>SA_sendtrap</i> tcl command (or cut and paste from the&#160;&#160; file containing the tcl trap commands) and then click on <i>Send</i>.&#160; This will cause the tcl commands to be sent to the device for interpretation.&#160; The device will then interpret the commands causing the trap to be emitted.</p>
<p style=" margin-left:.75in;" class="WD_hyphbullet"><span style=" font-family:Courier New;">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> The <b>easiest</b> way is via the <i>Device-&gt;Generate Traps</i>.&#160; It allows you to use the GUI to pick a trap to send from a previously created trap file (generated in Step 1) and then send one or more traps.&#160;&#160;&#160; You can also, via the GUI, create a setup file that will cause all the devices in a map to send traps via the <i>Map-&gt;Generate Traps</i> options.&#160; See the chapter on Traps for details. The statistics window can then be used to see the total number of traps emitted.&#160; This can then be compared to the received trap count on the trap manager side.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-family:'Book Antiqua' ,'serif';">21)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Book Antiqua' ,'serif';">How do I support augmented tables?</span></p>
<p class="WD_Normal">SimpleAgentPro understands that the augmented table has the same index component as the base table, but it does not automatically add/delete rows from the augmented table when the base table changes.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To implement this sort of inter-relationship, a modeling file can be used.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Following is an example of how tableB gets changed when rows get added/deleted in tableA.&#160; In this example, it is assumed that the column in tableA has 14 subids in its name (excluding the instance).</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">A sample modeling file is shown below:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # turn debugging on to make sure script is working.</p>
<p class="WD_scripts">&#160;&#160;&#160; # once it works, you might want to turn debugging</p>
<p class="WD_scripts">&#160;&#160;&#160; # off to get better performance.</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugflag 1</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugfile augment.dbg</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # define procedures to be used later for adding</p>
<p class="WD_scripts">&#160;&#160;&#160; # and deleting rows in dependent tables</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # table B</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; proc add_row_to_tableB { index } {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setvar [list [list tableBCol1.$index&#160; Integer&#160;&#160;&#160;&#160; 1&#160;&#160; ] \</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;[list tableBCol2.$index&#160; OctetString 0x0102]]</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; proc del_row_from_tableB { index } {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_deleterow tableBCol1.$index</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;</p>
<p class="WD_scripts"># check tableA for rowcreation requests for all instances.....</p>
<p class="WD_scripts">%after_all_set_action tableARowStatusCol</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; set varbind [SA_getreqvb]</p>
<p class="WD_scripts">&#160;&#160;&#160; set curvb [lindex $varbind 0]</p>
<p class="WD_scripts">&#160;&#160;&#160; set curoid [lindex $curvb 0]</p>
<p class="WD_scripts">&#160;&#160;&#160; set curval [lindex $curvb 2]</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # extract the instance component from the oid</p>
<p class="WD_scripts">&#160;&#160;&#160; # (say everything beyond the 14th subid is instance</p>
<p class="WD_scripts">&#160;&#160;&#160; #&#160; since tableARowStatus has 14 subids in</p>
<p class="WD_scripts">&#160;&#160;&#160; #&#160; the name)</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; set oidlist [split $curoid .]</p>
<p class="WD_scripts">&#160;&#160;&#160; set instlist [lrange $oidlist 14 end ]</p>
<p class="WD_scripts">&#160;&#160;&#160; set newindex [join $instlist . ]</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; # check if createAndGo or Active</p>
<p class="WD_scripts">&#160;&#160;&#160; if {$curval == 1 || $curval == 4} {</p>
<p class="WD_scripts">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;# add row to tableB.....</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; add_row_to_tableB $newindex</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; } elseif {$curval == 6} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #row set to to destroy</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # delete row from tableB....</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; del_row_from_tableB $newindex</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;&#160;&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-family:'Book Antiqua' ,'serif';">22)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Book Antiqua' ,'serif';">How can I write a script that modifies a variable file?</span></p>
<p class="WD_Normal">The variable files in SimpleAgentPro are ASCII files and they can be modified using standard utilities like awk and sed.&#160; For example, if you wanted to change the valuetype of sysUpTime from clock to lastset after a variable file was created, on UNIX you could do create a batch file that contained something like..</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;&#160; sed -e "s/sysUpTime\(.*\)clock(/sysUpTime\1lastset(/" dev1.var &gt; aa</span></i></p>
<p class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;&#160; cp aa dev1.var</span></i></p>
<p class="WD_Normal"><i><span style=" font-family:Courier New;">&#160;</span></i></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-family:'Book Antiqua' ,'serif';">23)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Book Antiqua' ,'serif';">How do I create network scenarios?</span></p>
<p class="WD_Normal">The SimpleAgentPro allows you to create network scenarios by downloading different tcl commands to different devices.&#160; For example, Let say you have a device R that is a router, and device&#160; A, B, C connected to the 4th interface of the router.. (R = ip address of the router, A = ip address of the first device....)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Setup file has two formats:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>Format 1:</b></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To create the above scenario, you can create a setup file that looks like this and call it "linkdown.tcl".&#160; This will execute when sent.&#160; It does not have any timer capability.</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_scripts">%devname R</p>
<p class="WD_scripts">&#160;&#160; SA_sendtrap { 1.2.3 2 0 { 1.3.6.1.2.1.2.2.1.1.4 Integer 4 }}</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">%devname A</p>
<p class="WD_scripts">&#160;&#160; SA_disableping</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">%devname B</p>
<p class="WD_scripts">&#160;&#160; SA_disableping</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">%devname C</p>
<p class="WD_scripts">&#160;&#160; SA_disableping</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_Normal"><b>Format 2:</b></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Another way to do this would be as follows. This has a timer action that will toggle.</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_scripts">%MAPTCLSCRIPT</p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; set linkdown&#160;&#160; 1</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">%timer_action 60 300</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; #keep toggling the interfaces every 60 secs, 300 times</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; if&#160; {$linkdown == 1} {</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send link down trap from R</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext R</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 2 0 { 1.3.6.1.2.1.2.2.1.1.4 Integer 4 }}&#160;&#160;&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #disable ping for device A</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext A</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_disableping</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #disable ping for device B</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext B</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_disableping</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #disable ping for device C</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext C</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_disableping</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # set variable to false</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set linkdown 0</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; } else {</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send link up trap from R</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext R</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 3 0 { 1.3.6.1.2.1.2.2.1.1.4 Integer 4 }} &#160;&#160;&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #enable ping for device A</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext A</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_enableping</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #enable ping for device B</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext B</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_enableping</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #enable ping for device C</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext C</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_enableping</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # set variable to true</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set linkdown 1</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-family:'Book Antiqua' ,'serif';">24)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Book Antiqua' ,'serif';">How do I generate different traps every 10 seconds?</span></p>
<p class="WD_Normal">Suppose you want to generate a different trap every 10 seconds. You could create a modeling file that looks like this:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # turn debugging on to make sure script is working.</p>
<p class="WD_scripts">&#160;&#160;&#160; # once it works, you might want to turn debugging</p>
<p class="WD_scripts">&#160;&#160;&#160; # off to get better performance.</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugflag 1</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugfile example2.dbg</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">%timer_action 10</p>
<p class="WD_scripts">&#160;&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # generate a random number between 0 and 4</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; set newnumber [expr int([expr rand()] * 5)]</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; if {$newnumber == 0} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send trap 1</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 6 52 }</p>
<p class="WD_scripts">&#160;&#160;&#160; } elseif {$newnumber == 1} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; &#160;&#160;&#160;# send trap 2</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 6 52 }</p>
<p class="WD_scripts">&#160;&#160;&#160; } elseif {$newnumber == 2} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send trap 3</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 6 53 }</p>
<p class="WD_scripts">&#160;&#160;&#160; } elseif {$newnumber == 3} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send trap 4</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 6 54 }</p>
<p class="WD_scripts">&#160;&#160;&#160; } elseif {$newnumber == 4} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send trap 5</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 6 55 }</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-family:'Book Antiqua' ,'serif';">25)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Book Antiqua' ,'serif';">How do I generate traps whose varbinds are dependent on something?</span></p>
<p class="WD_Normal">Suppose you want to send a trap</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_bullet">which contains the current value of a variable from your MIB database,</p>
<p class="WD_bullet">when a set occurs on a variable</p>
<p class="WD_bullet">or send the same trap every 20 seconds, but with different values for one of the varbinds.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A modeling file with something like this should work:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # turn debugging on if required.&#160; Remove it later</p>
<p class="WD_scripts">&#160;&#160;&#160; # to get better performance</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugflag 1</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugfile trapsample.dbg</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # send a trap based on the value of a variable</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; set varbind [SA_getvar {myVariable.0}]</p>
<p class="WD_scripts">&#160;&#160;&#160; set vb1 [lindex $varbind 0]</p>
<p class="WD_scripts">&#160;&#160;&#160; set val1 [lindex $vb1 2]&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_sendtrap [list 1.3.6.1.4.1.786.1.1 6 60 \</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list myVariable.0 Integer $val1]]</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># send a trap when a set occurs on a variable</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">%after_set_action ifAdminStatus</p>
<p class="WD_scripts">&#160;&#160;&#160; set varbind [SA_getreqvb]</p>
<p class="WD_scripts">&#160;&#160;&#160; set curvb [lindex $varbind 0]</p>
<p class="WD_scripts">&#160;&#160;&#160; set curoid [lindex $curvb 0]</p>
<p class="WD_scripts">&#160;&#160;&#160; set curval [lindex $curvb 2]</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # extract the instance component from the oid</p>
<p class="WD_scripts">&#160;&#160;&#160; # (say everything beyond the 10th subid is instance</p>
<p class="WD_scripts">&#160;&#160;&#160; #&#160; since ifAdminStatus has 10 subids in</p>
<p class="WD_scripts">&#160;&#160;&#160; #&#160; the name)</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; set oidlist [split $curoid .]</p>
<p class="WD_scripts">&#160;&#160;&#160; set instlist [lrange $oidlist 10 end ]</p>
<p class="WD_scripts">&#160;&#160;&#160; set newindex [join $instlist . ]</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; # check if value is set to enabled or disabled</p>
<p class="WD_scripts">&#160;&#160;&#160; if {$curval == 1} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send link up trap</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap [list 1.3.6.1.4.1.786.1.1 3 0 \</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list ifIndex.$newindex Integer $newindex]]</p>
<p class="WD_scripts">&#160;&#160;&#160; } elseif {$curval == 2} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send link down trap</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap [list 1.3.6.1.4.1.786.1.1 2 0 \</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list ifIndex.$newindex Integer $newindex]]</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># send 10 traps every 20 seconds, where the value of</p>
<p class="WD_scripts"># one of the trap varbinds is changed</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">%timer_action 20</p>
<p class="WD_scripts">&#160;&#160;&#160; for {set i 0 } {$i &lt; 10} {incr i} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap [list 1.3.6.1.4.1.786.1.1 2 0 \</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list ifIndex.$i Integer $i]]</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-family:'Book Antiqua' ,'serif';">26)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Book Antiqua' ,'serif';">How do I make the agent drop every 5th packet it receives?</span></p>
<p class="WD_Normal">If you want to simulate a condition where an agent drops some of the packets it receives, you can use a modeling file that looks something like the following:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># tcl script that will get executed with the agent is started</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # set these variables if you want to specify the pattern</p>
<p class="WD_scripts">&#160;&#160;&#160; # of failed/(total = fail+successful) responses.</p>
<p class="WD_scripts">&#160;&#160;&#160; #&#160; eg: 1 in 5, myPatternFail = 1, myPatternTotal = 5</p>
<p class="WD_scripts">&#160;&#160;&#160; #&#160; eg: 3 in 7, myPatternFail = 3, myPatternTotal = 7</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; set myPatternFlag&#160;&#160;&#160;&#160; 1</p>
<p class="WD_scripts">&#160;&#160;&#160; set myPatternFail&#160;&#160;&#160;&#160; 1</p>
<p class="WD_scripts">&#160;&#160;&#160; set myPatternTotal&#160;&#160;&#160; 5</p>
<p class="WD_scripts">&#160;&#160;&#160; set myPatternCounter&#160; 0</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># this script segment should create the pattern of</p>
<p class="WD_scripts"># fail/(total = fail+successful) response</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">%before_snmp_request</p>
<p class="WD_scripts">&#160;&#160;&#160; if { $myPatternFlag == 1 } {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr myPatternCounter</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $myPatternCounter &lt;= $myPatternFail } {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;# setting the error to a special value of</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # 9999 will cause this request to be dropped.</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_seterrorstatus 9999</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $myPatternCounter &gt;= $myPatternTotal } {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set myPatternCounter 0</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; &#160;}</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-family:'Book Antiqua' ,'serif';">27)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></span> <span style=" font-family:'Book Antiqua' ,'serif';">How do I use LICKEY on Windows instead of dongles?</span></p>
<p class="WD_Normal">SimpleAgentPro&#160; Ver 4.0 and above, support software based license keys on Windows in addition to dongle based licensing.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To get the software key you need to do the following:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_hyphbullet">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Return the dongle to SimpleSoft</p>
<p class="WD_hyphbullet">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Run the program "getmyid" in the sapro/bin directory and tell SimpleSoft the 8 digit hex number returned.</p>
<p class="WD_hyphbullet">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Once SimpleSoft gives a LICKEY to you, edit the config.inp file in the sapro/bin directory and add a line<br />
<br /></p>
<p style=" text-indent:9.0pt;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160; LICKEY = 6abc......</span></p>
<p class="WD_hyphbullet">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Restart the SimpleAgentPro.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">One advantage of the hardware dongle is that it allows you to move the software from one machine to another without contacting SimpleSoft for new software keys.&#160; However, if you plan to use the software on one machine only and do not want to worry about losing the hardware dongle, then the software license key might be a better solution.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">28)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I write a script to loop through all the devices in a map</p>
<p class="WD_PlainText">&#160;</p>
<p class="WD_Normal">The setup file in the MAPTCLSCRIPT format, runs in a tcl interpreter at the map level.&#160; It includes support for a Tcl command called SA_getdevicelist, which returns the names (in the case of multihomed</p>
<p class="WD_Normal">devices, their IP address) of all the devices in a map.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">So, for instance, if one wanted each of the devices in the map to send a trap, one after the other, one could manually select each device, got to Device-&gt;TclScript, and specify the tcl command to emit a trap, and then go through this whole process for the next device.&#160; An easier way would be to use the following setup file...</p>
<p class="WD_PlainText">&#160;</p>
<p class="WD_scripts">--------------(sample1.tcl)-------------------</p>
<p class="WD_scripts">%MAPTCLSCRIPT</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts"># Setup file for making each device in a map send a trap</p>
<p class="WD_scripts"># one after the other...</p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # turn debugging on to make sure script is working.</p>
<p class="WD_scripts">&#160;&#160;&#160; # once it works, you might want to turn debugging</p>
<p class="WD_scripts">&#160;&#160;&#160; # off to get better performance.</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugflag 1</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugfile sample1.dbg</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # get list of devices in the map</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; set deviceList [SA_getdevicelist]</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # loop through the list and make each device send the trap</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; foreach devname $deviceList {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # lock the device context</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext $devname</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send the trap</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 0 0 }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # release the device context</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_releasedevcontext</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p class="WD_PlainText">&#160;</p>
<p class="WD_Normal">Please note that the first line in the script should be %MAPTCLSCRIPT.</p>
<p class="WD_PlainText">&#160;</p>
<p class="WD_PlainText">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">29)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I support tftp server functionality ?</p>
<p class="WD_PlainText">&#160;</p>
<p class="WD_Normal">SimpleSoft provides a separate add-on module for additional cost that renders the tftp server functionality.&#160; You would need to contact SimpleSoft to receive the saptftpd executable.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The&#160; saptftpd executable will look for the MODULEKEY keyword in the sapro/bin/config.inp file.&#160; Please get a license key for the hostid of the machine on which you would be running the SimpleAgentPro and saptftpd from SimpleSoft.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To run the saptftpd process on UNIX, simply go to the bin directory and start the daemon process.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_consolecode">&#160; &gt; cd &lt;install_dir&gt;/sapro/bin</p>
<p class="WD_consolecode">&#160; &gt; ./saptftpd &amp;</p>
<p style=" margin-left:1.0in;" class="WD_consolecode">&#160;</p>
<p class="WD_Normal">To run the saptftpd process on Windows as a service, go to the bin directory in a DOS prompt and start the daemon process.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_consolecode">&#160; &gt; cd &lt;install_dir&gt;\SimpleAgentPro\bin</p>
<p class="WD_consolecode">&#160; &gt; saptftpd –s install</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The saptftpd will create a saptftpd.log file which has the current status of saptftpd process.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To stop the saptftp process, you can do the following:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_consolecode">&#160; &gt; cd &lt;install_dir&gt;/sapro/bin</p>
<p class="WD_consolecode">&#160; &gt; ./saptftpd -s stop</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You may have to stop the tftpd daemon that is running.&#160; To permanently disable it, you can edit the /etc/inetd.conf and comment out the tftp service.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once the saptftpd process is started, it basically waits for registration requests from the simulated devices.&#160; A simulated device, if it wishes to have tftp server support on its IP address, would register itself with the saptftpd using the following tcl commands, or in SAPro 6.0 and above, specify similar information during device definition itself.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160; SA_start_tftp&#160; &lt;root_directory&gt; &lt;tftp_port&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; enables a TFTP server to service requests for the simulated</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; device.&#160; Optional argument allows you to specify the root</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; directory, and port if other than standard (69).&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160; SA_stop_tftp</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; disables support for TFTP for the simulated device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In older versions, device which needs to support tftp can have a modelling file associated with it that looks like</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; %init_action</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # turn debugging on to make sure script is working.</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # once it works, you might want to turn debugging</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # off to get better performance.</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;set myip [SA_getmyip]</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_settcldebugflag 1</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_settcldebugfile tftp.$myip.dbg</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # register with the saptftpd server</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_start_tftp /tftpboot/$myip</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The root_directory argument allows you to specify different root directories for different simualted devices.&#160; Thus when a tftp client connects to 10.10.10.1, it could go to /tftpboot/10.10.10.1 directory, and if it were to connect to 10.10.10.2 it would go to /tftpboot/10.10.10.2 directory.&#160;&#160; This allows both those directories to contain the a file called "myconfiguration", but with different contents.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If no rootdirectory argument is specified, it would use the /tftpboot directory by default.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">When the device is stopped, it will automatically deregister the tftp service for that device.&#160;</p>
<p class="WD_PlainText">&#160;</p>
<p class="WD_PlainText">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">30)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I add new rows to a table where the instance is has to be 1 larger than the largest existing row ?</p>
<p class="WD_Normal">&#160;&#160;&#160;</p>
<p class="WD_Normal">In this tcl example, the script does a getnext walk to determine all the existing rows and retrieves the largest index, and when the set occurs on a particular variable, a new row gets added to the table.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A sample modelling file is shown below:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # turn debugging on to make sure script is working.</p>
<p class="WD_scripts">&#160;&#160;&#160; # once it works, you might want to turn debugging</p>
<p class="WD_scripts">&#160;&#160;&#160; # off to get better performance.</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; set myIP [SA_getmyip]</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugflag 1</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugfile $myIP.tcl.dbg</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # define procedures to be used later for adding rows</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; proc add_row_to_tableB { index } {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setvar [list [list tableBCol1.$index&#160; Integer&#160;&#160;&#160;&#160; 1&#160;&#160; ] \</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list tableBCol2.$index&#160; OctetString 0x0102]]</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # procedure to get the max index in the table</p>
<p class="WD_scripts">&#160;&#160;&#160; # assumes that index is the last subid in the instance.</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; proc get_max_index { } {</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; # walk through the table till the end is reached.</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; # set firstoid to tableBCol1(1.3.6.1.4.1.786.1.1.1)</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; set firstoid 1.3.6.1.4.1.786.1.1.1</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; set forever 1</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; set lastoid $firstoid</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; while { $forever } {</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if [catch {SA_gnextvar [list $lastoid]} varbind] {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set curvb [lindex $varbind 0]</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set curoid [lindex $curvb 0]</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set retval [string first $firstoid $curoid]</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $retval == -1 } {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set lastoid $curoid</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; # extract the instance component from the oid</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; if {$lastoid == $firstoid} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return 0</p>
<p class="WD_scripts">&#160; &#160;&#160;&#160;&#160;&#160;}</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; set oidlist [split $lastoid .]</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; set inst [lindex $oidlist end ]</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; return $inst</p>
<p class="WD_scripts">&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># check for set requests for someOtherVariable</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">%after_all_set_action someOtherVariable</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; set varbind [SA_getreqvb]</p>
<p class="WD_scripts">&#160;&#160;&#160; set curvb [lindex $varbind 0]</p>
<p class="WD_scripts">&#160;&#160;&#160; set curoid [lindex $curvb 0]</p>
<p class="WD_scripts">&#160;&#160;&#160; set curval [lindex $curvb 2]</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # check if the value is ipsec.1</p>
<p class="WD_scripts">&#160;&#160;&#160; if {$curval == "specificValue"} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # get max row index</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set maxVal [get_max_index]</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set newindex [expr $maxVal + 1]</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # add row to tableB.....</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; add_row_to_tableB $newindex</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">31)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> If my machine has multiple interfaces, how do I add simulated devices to a particular interface ?</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The SimpleAgentPro allows you to specify which interface you want to add the multihomed IP addresses to.&#160; The config.inp file has an INTERFACE entry to allow you to specify the desired interface.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:10.0pt; margin-left:0in;" class="WD_DirStructure"><span style=" font-family:'Times New Roman' ,'serif';">On Solaris:</span></p>
<p class="WD_Normal">Find out which interfaces you have currently by running the ifconfig command as root.&#160;</p>
<p class="WD_consolecode">&#160;&#160;&#160; &gt; ifconfig</p>
<p class="WD_Normal">Lets say you have 2 interfaces hme0 and hme1, and you want to add addresses to hme1.&#160; Simply&#160; add the line</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; INTERFACE = hme1</p>
<p class="WD_Normal">to the config.inp file in the bin directory.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>On Windows</b>:</p>
<p class="WD_Normal">Find out the description of the different interfaces you have on your system by running the msifconf command that is present in the &lt;SAPro&gt;/bin directory, in a DOS shell.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_consolecode">&#160;&#160;&#160; &gt; msifconf</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For the particular adapter of interest to you, see the description string.</p>
<p class="WD_Normal">&#160; eg:&#160;&#160;</p>
<p class="WD_consolecode">Index:&#160;&#160;&#160;&#160;&#160;&#160; 16777219</p>
<p class="WD_consolecode">Description: Intel(R) PRO Adapter</p>
<p class="WD_consolecode">Type:&#160;&#160;&#160;&#160;&#160;&#160;&#160; 6</p>
<p class="WD_consolecode">PhysAddress: 00 02 b3 61 ec 2d</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If you want to add addresses to this interface, set the INTERFACE string to the description string. ie</p>
<p class="WD_Normal">&#160;&#160; INTERFACE = Intel(R) PRO Adapter.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">When the SimpleAgentPro adds addresses, it will look at the INTERFACE string if present and select accordingly. You can also set the interface in the Map-&gt;Properties dialog box.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Sometimes, the two interfaces have identical description strings.&#160; In that&#160; case you can also use the unique index value by specifying the interface string as INDEX=1677219.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">32)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> On Lunix and Solaris, how do I support ftp server functionality ?</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For Linux the SimpleAgentPro can work with the publicly available “proftpd” FTP server that supports virtual hosts.&#160; The proftpd is available as an optional package to install from RedHat. the Package Manager window to install the proftpd package. The proftpd is also available on many websites. One possible site is:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">ftp://www.proftpd.org/historic/packages/RPMS/</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You would need&#160; to install it using the rpm utility:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_code">rpm –I proftpd-1.2.10.1.fc1.i386.rpm</p>
<p class="WD_Normal">After the installation is complete, you would also need to make a couple of changes to the proftpd configuration file:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-bottom:.0001pt;" class="WD_code"># Set the user and group under which the server will run.</p>
<p style=" margin-bottom:.0001pt;" class="WD_code">User&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; root</p>
<p class="WD_code">Group&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; root</p>
<p class="WD_Normal">And also add the following line to the end of the configuration file (Note that saproftp.ini will be created by the SimpleAgentPro when the simulation is started):</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_code">include /opt/sapro/bin/saproftp.ini</p>
<p class="WD_Normal">If there is an existing FTP server running, you will have to stop it. Typically inetd will be configured to start the FTP server. Find the inetd configuration file for ftp and make the following change:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_code">Disable&#160;&#160;&#160;&#160;&#160; = yes</p>
<p class="WD_Normal">and restart inetd (by invoking “service xinetd restart”)..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The next time you boot the system, the proftpd will start automatically as a background task, or you can start it manually by typing the following as user “root:”</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_code">service proftpd start</p>
<p class="WD_Normal">Note that the client users configured for FTP must already exist as user accounts.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">On Solaris, the SimpleAgentPro can work with a publicly available wu-ftpd process that supports virtual users.&#160; The wu-ftpd is available at http://www.wu-ftpd.org.&#160; You would need&#160; to get the source and make it with the following configure options. (This has been tried with 2.6.1 version.)</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">&gt;./configure --enable-virtual --enable-passwd</p>
<p style=" margin-left:.5in;" class="WD_code">&gt;make</p>
<p class="WD_Normal">After the installation is complete, you would also need to check your /etc/inetd.conf file and&#160; comment out your Solaris ftpd and substitute it with the wu-ftpd.&#160; You will something like this...</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">#ftp&#160;&#160;&#160; stream&#160; tcp nowait&#160; root&#160;&#160;&#160; /usr/sbin/in.ftpd&#160;&#160; in.ftpd -a</p>
<p style=" margin-left:.5in;" class="WD_code">ftp stream&#160; tcp nowait&#160; root&#160;&#160;&#160; /usr/sbin/wu-ftpd&#160;&#160; wu-ftpd -a</p>
<p class="WD_Normal">The SimpleAgentPro now needs to be configured to use wu-ftpd. To do this add the following line to the config.inp file:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_code">FTPSERVERTYPE=WUFTPD</p>
<p class="WD_Normal">Now when a device is started, and in an associated modelling file you have contents that look like the following:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; set myip [SA_getmyip]</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; SA_startftpdaemon /tmp/$myip</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; SA_setftpusers "joe root jane"</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">So, if the simulated device's IP address is 192.168.10.1, this will configure the wu-ftpd to allow ftp server access on 192.168.10.1 for users joe, root and jane, and will have the root directory associated with 192.168.10.1 to be /tmp/192.168.10.1.&#160; This allows different simulated devices to have different root directories.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">33)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> On Windows, how do I support ftp server functionality ?</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The SimpleAgentPro can work with the publicly available “proftpd” FTP server that supports virtual hosts.&#160; The proftpd is available as part of Cygwin. Install Cygwin by pointing your web browser to <a href="http://www.cygwin.com/">http://www.cygwin.com/</a> and downloading the “setup.exe” utility. This tool gives several installation options, but the easiest option is to install from the Internet. Install the base Cygwin subsystem and then install “proftpd” which is part of the “Net” category. You may also want to install “cygrunsrv” which is part of the “Admin” category. This utility will allow you to run proftpd as a service under Windows. The proftpd installation includes a readme file that explains how to use “cygrunsrv.”</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">After the installation is complete, there will be a file in Cygwin called, “/etc/proftpd.conf.default.” Make a copy of the file called, “/etc/proftpd.conf.” You will then need to make a couple of changes to the proftpd.conf file. Uncomment the following lines:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code"># Set the user and group under which the server will run.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">User&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SYSTEM</p>
<p style=" margin-left:.5in;" class="WD_code">Group&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;Administrators</p>
<p class="WD_Normal">And also add the following line to the end of the configuration file in order to tell proftpd to read the configuration statements that are to be added by the SimpleAgentPro (Note that saproftp.ini will be created and maintain automatically by the SimpleAgentPro when the simulation is started):</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_code">include /cygdrive/c/Program Files/SimpleAgentPro/bin/saproftp.ini</p>
<p class="WD_Normal">Now when a device is started, associate a modelling file that contains the following:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; set myip [SA_getmyip]</p>
<p class="WD_scripts">&#160;&#160;&#160; &#160;SA_startftpdaemon C:\tmp\$myip</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; SA_setftpusers "joe root jane"</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">So, if the simulated device's IP address is 192.168.10.1, this will configure the proftpd to allow ftp server access on 192.168.10.1 for users joe, root and jane, and will have the root directory associated with 192.168.10.1 to be /tmp/192.168.10.1.&#160; This allows different simulated devices to have different root directories.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Another option is to use a commercially available FTP servers that supports virtual hosts.&#160; One of them is the WS_FTP Server from IpSwitch. More information is available at http://www.ipswitch.com/. In this case, the SimpleAgentPro does not provide any special interface functions/tcl commands to interface with WS_FTP.&#160; So it will need to be manually pre-configured to support the various devices.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">34)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> When I run a command SA_getvar, how do I see the results ?</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To see the results of the command extensions, you can define a variable whose value would be set to the results.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; set result [SA_getvar {sysDescr.0} ]</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">35)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> When I am running a script in Map-&gt;Setup window, I see a message "Check debug files (if any) for details".&#160; Where can I find these debug files?</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The setup file typically sends commands to the device tcl interpretor to carry out.&#160; The debugging information is hence present in the debug files of the specific device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can turn device level tcl debugging on via the tcl commands</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">&#160;&#160; SA_settcldebugflag 1</p>
<p class="WD_scripts">&#160;&#160; SA_settcldebugfile abc.tcl.dbg</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">in the above case a file called "abc.tcl.dbg" will be created in the sapro/log directory.&#160; (this file can be named anything you like).&#160; When tcl commands are interpreted in the interpretor associated with that device, then the debug tracing for those commands will get written to that file.&#160; The output of SA_puts</p>
<p class="WD_Normal">commands is also written to this file.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">36)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How can I declare variables in Tcl, like in C I can say "int val = 1". What are some good books on Tcl ?</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">"Practical Programming in Tcl and Tk" by Brent B. Welch.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Some other books on Tcl are mentioned at our website&#160; http://www.smplsft.com/otherinfo.html</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">As regards to "int val=1", you can do that with</p>
<p class="WD_scripts">&#160;&#160; set val 1</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">37)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Can I load a script with "%init_action" or "%timer_action" in the Device Tcl Script dialog window ?</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">No, you cannot.&#160; Basically two things are encoded in the modelling file.&#160; What tcl script to interpret and When to interpret it.&#160; The "%timer_action" etc are not tcl commands, but are SimpleSoft keywords that tell it when to interpret the tcl scripts that follow.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In the Device-&gt;TclScript dialog box, you need to only specify the script.&#160; When the Send button is clicked,</p>
<p class="WD_Normal">the script will be sent to the device to make it interpret it right away.&#160; So there is not need to include the</p>
<p class="WD_Normal">"When to interpret part" which is not Tcl code anyways.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">38)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I change the value of a Read Write variable ?</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can use the SA_setvar tcl command to change the value of variables that are associated with a valuetype of lastset, r_lastset or rowstatus.&#160; Lets say you have a variable called myCurrentState.0 and you want to set its value to 5.&#160; You can simply run the command</p>
<p class="WD_scripts">&#160;&#160; SA_setvar {{myCurrentState.0 Integer 5}}</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">39)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I change the value of a ReadOnly variable ?</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can use the SA_setvaltype tcl command to change the valuetype associated with a read-only variable of type other than lastset, r_lastset or rowstatus. Lets say you have a ReadOnly variable called myOperState.0 which is of type Integer and has a valuetype of fixed(2) and you would like to change to 1.&#160; You can use the command</p>
<p class="WD_scripts">&#160;&#160; SA_setvaltype {{myOperState.0 OctetString "fixed(1)"}}</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Please note that although the variable was to type Integer, the datatype specified in the SA_setvaltype command is OctetString since the value is a string "fixed(1)" and not an integer 1.&#160; We are changing the valuetype tochange the value.&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">40)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I add a new row to a table ?</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You need to first enable "dyanmic row creation templates" when creating the variable file.&#160; Then for the table you are interested in dynamically adding/deleting rows to, you need to uncomment the specific template by removing the starting # sign for it.&#160; The dynmaic row template section in the chapter on Variable File Format, has additional information.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">41)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Is it possible to define a variable to be RW in the var file, even if the variable is defined as RO in&#160;&#160; the MIB.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Yes.&#160; You can change the RW/RO access for a variable by making the change to the variable file directly.&#160; Make sure that for RW variables, the valuetype is lastset or r_lastset.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">42)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I look into SNMP packets received by the agent and what it did for them.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can turn debugging on by running the following tcl commands.&#160; The snmp packet trace will be present in abc.dbg in the sapro/log directory.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">SA_setsnmpdebugflag 2</p>
<p class="WD_scripts">SA_setsnmpdebugfile abc.dbg</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">Alternatively, you can also associate the snmpdbg.tcl file present in the sapro/tcl directory as the modelling file of the device.</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">43)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> On Windows, how do I make the SimpleAgentPro create the temp files on a different drive.</p>
<p style=" margin-left:.5in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal3">The SimpleAgentPro creates temporary files by using the value of an environment variable called TMP. If you change the value of TMP to point to D:\temp instead of C:\temp, then the SAPro will create abc* temporary files on the D drive.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">44)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I add telnet support to some of my devices.</p>
<p style=" margin-left:0in;" class="WD_Normal3">SimpleAgentPro has added telnet/CLI support to the simulator.&#160; For the device(s) that needs telnet support, simply specify a telnet file when the device is defined</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">The sapro/telnet directory, should have a sample file called c1538.tel.&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">45)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I learn telnet responses from a device and save it in a format that the SAPro can utilize from the command line.</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">SimpleAgentPro has added command line support for the telnet learner as well.&#160; It is achieved via the saptclsh tcl interpretor which has telnet client tcl command support built in.&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">Sample tcl files that do the learning are provided in the util directory.&#160; To run one of them, on UNIX simply run the file</p>
<p class="WD_scripts">&#160;&#160;&#160; ./tel_sim.tcl</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">On Windows, you need to go to the util directory in a DOS box and type</p>
<p class="WD_scripts">&#160;&#160; ..\bin\saptclsh tel_sim.tcl</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in;" class="WD_Normal3">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">46)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> When I run SA_start_telnet, I get an error requesting a license key.</p>
<p class="WD_Normal">To run the telnet/CLI interface, you need to get a MODULEKEY from SimpleSoft.&#160;&#160; Let SimpleSoft know your hostid by running the “hostid” command on UNIX or the “getmyid” command on Windows, and your registration number of the SimpleAgentPro copy, and Simplesoft can provide a MODULEKEY for you</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Once you have received the MODULEKEY from SimpleSoft, you can insert that key into the config.inp file in the bin directory</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Example:</p>
<p style=" text-indent:.5in;" class="WD_Normal">MODULEKEY = 6f9327……</p>
<p style=" text-indent:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">47)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I change the default max number of logical interfaces on Solaris</p>
<p class="WD_Normal">By default, the Solaris operating system allows only 255 logical interfaces to be added per physical interface.</p>
<p class="WD_algorithm">&#160;</p>
<p class="WD_Normal">To change the number of logical interfaces supported per physical interface card, from 255 to 1024, you can use the ndd command.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;COMMAND TO SEE THE NUMBER CURRENTLY SET</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; &gt; ndd /dev/ip ip_addrs_per_if</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; 256</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;COMMAND TO CHANGE THE NUMBER CURRENTLY SET</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; &gt; ndd -set /dev/ip ip_addrs_per_if 1024</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;CHECK IF IT HAS CHANGED</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; &gt; ndd /dev/ip ip_addrs_per_if</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160; &#160;1024</p>
<p style=" text-indent:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">48)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> My tcl processing is taking too long and the response is not generated until the processing is complete.&#160; What should I do ?</p>
<p class="WD_Normal">The tcl processing in the %after_set_action etc gets done before the response is actually generated and sent to the manager.&#160; If the tcl processing takes a long time, the manager might timeout.&#160;&#160; Also sometimes, a trap etc might have to be sent after the SNMP response.&#160; To facilitate that, the %after_snmp_response entry point has been added.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A sample modelling file is shown below:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugflag 1</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugfile abc.tcl.dbg</p>
<p class="WD_scripts">&#160;&#160;&#160; set lastoid 0</p>
<p class="WD_scripts">&#160;&#160;&#160; set lastval 0</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts"># process set request</p>
<p class="WD_scripts">%after_set_action someVariableABC</p>
<p class="WD_scripts">&#160;&#160;&#160; set varbind [SA_getreqvb]</p>
<p class="WD_scripts">&#160;&#160;&#160; set curvb&#160;&#160; [lindex $varbind 0]</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # just save the state and move on…</p>
<p class="WD_scripts">&#160;&#160;&#160; set lastoid [lindex $curvb 0]</p>
<p class="WD_scripts">&#160;&#160;&#160; set lastval [lindex $curvb 2]</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_setafterresponseid 1</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts"># process set request for some other variable</p>
<p class="WD_scripts">%after_set_action someVariablePQR</p>
<p class="WD_scripts">&#160;&#160;&#160; set varbind [SA_getreqvb]</p>
<p class="WD_scripts">&#160;&#160;&#160; set curvb&#160;&#160; [lindex $varbind 0]</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # just save the state and move on…</p>
<p class="WD_scripts">&#160;&#160;&#160; set lastoid [lindex $curvb 0]</p>
<p class="WD_scripts">&#160;&#160;&#160; set lastval [lindex $curvb 2]</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_setafterresponseid 2</p>
<p class="WD_scripts">&#160;&#160;&#160;</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># actually do additional work, now that SNMP response</p>
<p class="WD_scripts"># has been sent…</p>
<p class="WD_scripts">%after_snmp_response</p>
<p class="WD_scripts">&#160;&#160;&#160; set myid [SA_getafterresponseid]</p>
<p class="WD_scripts">&#160;&#160;&#160; if {$myid == 1} {</p>
<p style=" margin-left:85.5pt;" class="WD_scripts"># do work for setting someVariableABC&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setafterresponseid 0</p>
<p class="WD_scripts">&#160;&#160;&#160; } elseif {$myid == 2 }&#160; {</p>
<p style=" margin-left:85.5pt;" class="WD_scripts"># do work for setting someVariablePQR&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SA_setafterresponseid 0</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;</font></span></p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">49)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Sometimes my tcl processing is taking too long and the manager retries and sends additional requests that get processed unnecessarily.&#160;&#160;&#160; Can I have the SimpleAgentPro drop certain requests, if they have not yet been&#160; processed ?</p>
<p class="WD_Normal">A new tcl command called “SA_setpacketdroptimeout “ was recently added to SimpleAgentPro.&#160; You can invoke it in the init_action section and requests in the device request queue that have not been processed for a time longer than that time specified, would get discarded without spending CPU time processing them.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">A sample modelling file is shown below:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugflag 1</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugfile abc.tcl.dbg</p>
<p class="WD_scripts">&#160;&#160;&#160; # set packetdrop timeout to 10 seconds</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_setpacketdroptimeout 10</p>
<p class="WD_scripts">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">50)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> I want to send a lot of traps, but interpreting trap tcl commands is taking too long.&#160; How can I improve the performance ?</p>
<p class="WD_Normal">If you look at the time required to send a trap, it can be broken up into three parts. Parsing the arguments and mapping the object descriptors to object identifiers, encoding a PDU, and sending it out.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To reduce the amount of time used in parsing, you can use object identifiers directly instead of object descriptors.&#160; So using 1.3.6.1.2.1.1.1.0 instead of sysDescr.0 would speed things up.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Sometimes, the number of traps is more important then the content.&#160; Since the SAPro parses the arguments, creates a PDU and then goes through the list of managers and sends the encoded packet to each of the managers, you can specify the same name of the manager 5 times in the list of trap managers.&#160; Now the trap manager, after an initial delay will get the remaining 4 traps very quickly since the time required to send a packet out is very small.&#160;&#160; So instead of saying SA_sendtrap 5 times…</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_sendtrap { 1.2.3 0 0 }</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_sendtrap { 1.2.3 0 0 }</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_sendtrap { 1.2.3 0 0 }</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_sendtrap { 1.2.3 0 0 }</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_sendtrap { 1.2.3 0 0 }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">You can do</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settrapmgrs {1.1.1.1, 1.1.1.1, 1.1.1.1, 1.1.1.1, 1.1.1.1}</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_sendtrap { 1.2.3 0 0 }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_Normal">In the latest version, the SA_settrapcount &lt;number&gt; tcl command, also allows you to set the trap burst count.&#160; If the trap burst count is set to 10, then every sendtrap tcl command will cause 10 traps to be sent out instead of just 1.</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_Normal">Another option is to create the pdu before hand and then simply send the precreated packet.&#160; You can use the SA_gettrapdpu tcl command to get a trap encoded pdu and then use the SA_sendtrappdu call to actually send it out.&#160; In the example shown below, the pdu is created in the init_action command and the pre-created pdu is sent out in the timer_action.&#160; Please note that the timestamp inside the pdu will be set when the pdu is created.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; set pdu [SA_trapgetpdu [list 1.3.6.1.768.1.351.110 6 60901 \</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list sysName.0 OctetString abc]]]</p>
<p class="WD_scripts">%timer_action 5</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_sendtrappdu $pdu</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In Version 11.5, an optional argument has been added to the SA_sendtrappdu call, that if set to 1, will tell SimpleAgentPro to patch the value of the timestamp in SNMPv1 traps or the value of sysUpTime in SNMPv2c notifications, if possible.&#160; The ASN.1/BER encoded pdu given in the first argument is patched to update it with the current timestamp.&#160; To use it, you can do the following:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">%timer_action 5</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; SA_sendtrappdu $pdu 1</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_Normal">Tcl also includes the creation of an intermediate form of bytecode for subsequent invocations.&#160; To speed overall tcl interpretation, it might also help to define procedures and use them in the timer action, as for subsequent invocations, tcl does not have to parse the text but can use the bytecode directly..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">So instead of having</p>
<p class="WD_scripts">%timer_action 5</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_sendtrap [list 1.3.6.1.768.1.351.110 6 60901 \</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list sysName.0 OctetString abc]]</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_Normal">You can have</p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; …</p>
<p class="WD_scripts">&#160;&#160;&#160; proc mytrapsend {} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap [list 1.3.6.1.768.1.351.110 6 60901 \</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list 1.3.6.1.2.1.1.1.0 OctetString abc]]</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">%timer_action 5</p>
<p class="WD_scripts">&#160;&#160;&#160; mytrapsend</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">51)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I make the simulated devices generate different types of SNMP errors when processing requests ?</p>
<p class="WD_Normal">The SimpleAgentPro can be set up to generate a variety of errors, so that you management applications can be tested against them.&#160; A sample modeling file that generates some of the errors is shown below:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # turn debugging on to see what is happening.</p>
<p class="WD_scripts">&#160;&#160;&#160; # for better performance, once the script is</p>
<p class="WD_scripts">&#160;&#160;&#160; # working, you can turn it off</p>
<p class="WD_scripts">&#160;&#160;&#160; set myIP [SA_getmyip]</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugflag 1</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugfile tcl_$myIP.dbg</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; # example where each request will generate multiple</p>
<p class="WD_scripts">&#160;&#160;&#160; # responses (this case 3). To reset it back, set it to 1.</p>
<p class="WD_scripts">&#160;&#160;&#160; #</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_setnumresponses 3</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># example where there is no response sent</p>
<p class="WD_scripts"># when a get is made on sysDescr.0</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">%getvalue_action sysDescr.0</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_seterrorstatus 9999</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># example where there is an error sent when a get is</p>
<p class="WD_scripts"># made on sysObjectID.0.&#160; Some v1 errors are</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160;&#160; tooBig&#160;&#160;&#160;&#160; (1)</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160;&#160; noSuchName (2)</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160;&#160; badValue&#160;&#160; (3)</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160;&#160; readOnly&#160;&#160; (4)</p>
<p class="WD_scripts">#&#160;&#160;&#160;&#160;&#160; genError&#160;&#160; (5)</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">%getvalue_action sysObjectID.0</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_seterrorstatus 5</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># example where a particular varbind is skipped in</p>
<p class="WD_scripts"># the response.&#160; This one skips sysUptime.0</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">%getvalue_action sysUpTime.0</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_setskipcurvbflag 1</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># example where there is ovewriting of values in the</p>
<p class="WD_scripts"># var file.&#160; This one changes value component</p>
<p class="WD_scripts"># when a get is made on sysContact.0</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">%getvalue_action sysContact.0</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_setcurvalue ppppp</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># example where there is ovewriting of values in the</p>
<p class="WD_scripts"># var file.&#160; This one changes datatype component</p>
<p class="WD_scripts"># when a get is made on sysName.0</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">%getvalue_action sysName.0</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_setcurtype Integer</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># example where there is ovewriting of values in the</p>
<p class="WD_scripts"># var file.&#160; This one changes oid component</p>
<p class="WD_scripts"># when a get is made on sysLocation.0</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">%getvalue_action sysLocation.0</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_setcuroid 1.3.6.1.2.1.1.2.0</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts"># example where the request id in the response is</p>
<p class="WD_scripts"># made different from the request id</p>
<p class="WD_scripts">#</p>
<p class="WD_scripts">%getvalue_action sysServices.0</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_setreqid 54321</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">FAQ (26) includes an example where every 5<sup>th</sup> packet is dropped to simulate intermittent connectivity.</p>
<p class="WD_Normal">&#160;</p>
<p style=" text-indent:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">52)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> On Windows, if my interface card is not connected, it disappears.&#160; I can no longer run the simulation since it has no interface card to add addresses to.</p>
<p class="WD_Normal">Windows contains a “media sensing” feature which checks the link state of the adapter.&#160; To disable this feature, you need to make changes to the registry.&#160; Please take a look at “How to Disable Media Sense for TCP/IP in Windows” at</p>
<p class="WD_Normal"><a href="http://support.microsoft.com/default.aspx?scid=http://support.microsoft.com:80/support/kb/articles/Q239/9/24.ASP&amp;NoWebContent=1">http://support.microsoft.com/default.aspx?scid=http://support.microsoft.com:80/support/kb/articles/Q239/9/24.ASP&amp;NoWebContent=1</a></p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">53)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How can I share one .var file among many devices, where the data needs to be different for things other than the device’s IP address.</p>
<p class="WD_Normal">SimpleAgentPro Version 7.5 has added support for dynamic substitution at runtime of certain special tokens in the variable file.&#160; The values for these tokens can be specified in the device definition screens in the Topology Data field.&#160; The tokens can be present in both the value component as well as the oid component of an instance.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If the topology data string is set to “1.1.1.1,0x010203040506,card in slot1, and in the variable file associated with this device, you have used $$MYTOKENS001$$, $$MYTOKENS002$$ and $$MYTOKENS003$$, then $$MYTOKENS001$$ will be substituted by 1.1.1.1, $$MYTOKENS002$$ will be substituted by 0x010203040506 and so on.&#160; This allows one variable file to be shared by many devices, and sections in it to be dynamically, at runtime, substituted with a different set of values.&#160;</p>
<p class="WD_scripts">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">54)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I get all the simulated devices in my maps get automatically discovered by things like HP OpenView ?</p>
<p class="WD_Normal">IP Discovery programs typically talk with a seed router and recursively examine MIB2 SNMP data like interfaces table, IP Addr table, Routing tables and ARP cache entries.&#160; To facilitate the discovery of all the simulated devices currently running on your machine, the SimpleAgentPro can create a fake gateway whose MIB2 data reflects the devices simulated.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">So lets say you have 3 maps each with 3 devices.&#160; MAP_A contains devices with IP addresses 192.168.10.1, 192.168.10.2, 192.168.10.3.&#160; MAP_B contains DHCP devices which at runtime get IP addresses of 192.168.200.20, 192.168.200.21 and 192.168.200.22.&#160; MAP_C contains devices with IP addresses 10.10.75.1, 10.10.75.2, 10.10.75.3.&#160;&#160;&#160; Lets say the machine on which you are running SimpleAgentPro is 192.168.220.5.&#160; If you want these devices to be discovered and displayed in 3 separate subnets, you can create another map called MAP_D.&#160; In it you can have one device with the following info:</p>
<p class="WD_Normal">&#160;&#160;&#160; IP Address:&#160; &#160;&#160; IP address of the machine where you are running SimpleAgentPro.&#160;</p>
<p class="WD_Normal">&#160;&#160; CMF File:&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; mib2.cmf</p>
<p class="WD_Normal">&#160;&#160; VAR file:&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160; gateway.var (a dummy file that you create in the var directory)</p>
<p class="WD_Normal">&#160;&#160; Modelling file: &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; gateway.tcl.</p>
<p class="WD_Normal">The gateway.tcl file should contain the following lines:</p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugflag 1</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settcldebugfile gateway.dbg</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_updatemygatewayinfo</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This overwrite and creates a new gateway.var which contain MIB data to make the machine on which you are running the SAPro appear to be a router with 4 interfaces and 4 IP addresses (192.168.220.5 (original), and 192.168.10.254, 192,168.200.254, 10.10.75.254), and in the arp cache entries it will list all the simulated devices.&#160; So an IP discovery program that interrogates this gateway will be able to discover all the simulated devices.&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts">&#160;</p>
<p style=" margin-left:0in;" class="WD_scripts">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">55)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I write a tcl script that formats the current time in the standard DateAndTime Textual Convention ?</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can make use the built-in clock tcl command that is part of the standard Tcl command set.&#160; A sample procedure that could be done is shown below:</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># sample procedure to format dateandtime</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">proc get_current_time_in_dateandtime_tc { } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # get current time in seconds</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set seconds [clock seconds]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # now extract all the pieces</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # get year without century and add 2000 (0x07d0)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set curYear [clock format $seconds -format %y -gmt true]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set strYear [append 0x07 [format "%02x" [expr $curYear + 0xd0]]]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # get month</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set curMonth [clock format $seconds -format %m -gmt true]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set strMonth [format "%02x" $curMonth]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # get day</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set curDay [clock format $seconds -format %d -gmt true]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set strDay [format "%02x" $curDay]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # get hour</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set curHour [clock format $seconds -format %H -gmt true]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set strHour [format "%02x" $curHour]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # get minutes</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set curMin [clock format $seconds -format %M -gmt true]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set strMin [format "%02x" $curMin]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # get seconds</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set curSec [clock format $seconds -format %S -gmt true]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set strSec [format "%02x" $curSec]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # use 00 for deci-seconds</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set strDSec 00</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # put it all together</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; return $strYear$strMonth$strDay$strHour$strMin$strSec$strDSec</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">56)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I setup SimpleAgentPro to use Diffie-Hellman kickstart table ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">There are multiple steps that are required to be carried out before kickstart table support can be accomplished.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:13.5pt; text-indent:-13.5pt;" class="WD_hyphbullet">1) Use a tool such as SimpleTester's DH Random Number&#160; Generator to create a pair of keys/numbers:</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">mgr_public_num1 =</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0xfe 0x4b 0x00 0xb6&#160; 0x0c 0xb8 0xaf 0xd1&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x98 0x53 0x63 0xba&#160; 0x02 0xbb 0x7a 0x75&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x8f 0x7d 0x0b 0x39&#160; 0xf4 0x60 0xa6 0x41&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0xa1 0x7a 0xa8 0xba&#160; 0x07 0xbb 0x7e 0xf0&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0xf1 0xe1 0x18 0xa7&#160; 0xab 0xc3 0xc9 0x4a&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x0b 0xe2 0x8e 0x92&#160; 0x37 0x01 0x99 0xbf&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x74 0x4a 0xcb 0x95&#160; 0x87 0xb0 0x1d 0x43&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0xe2 0xe2 0x56 0x55&#160; 0x22 0x7a 0xb2 0x6f&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x2c 0x8e 0xb8 0x58&#160; 0x88 0xa7 0x16 0xe9&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x1c 0xfd 0x0f 0x75&#160; 0xc4 0xb0 0xf8 0x6f&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x15 0x30 0xf4 0xe9&#160; 0x74 0x79 0xe7 0x40&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x9e 0xfd 0x0c 0xeb&#160; 0xfe 0x47 0xd8 0xf9&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0xfd 0xaf 0x7b 0x75&#160; 0x70 0xd6 0x36 0x94&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0xef 0x67 0x42 0x9d&#160; 0x2f 0x76 0xa9 0x66&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x39 0xf4 0xca 0x71&#160; 0xc9 0xa0 0x4d 0x43&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x15 0x49 0xdf 0x88&#160; 0x78 0x1f 0x03 0xd8&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">mgr_random_num1 =</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0xa2 0xfa 0x48 0xa2&#160; 0x35 0x09 0x64 0x70&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x31 0xe7 0xf8 0x21&#160; 0x8a 0x21 0xdd 0x49&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x2f 0xcb 0x40 0xfd&#160; 0x50 0xd1 0x2f 0xa8&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0xb4 0xbc 0x98 0xfd&#160; 0xc0 0xf1 0x18 0x77&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x75 0x6b 0x97 0xd5&#160; 0xde 0xe7 0x9c 0x13&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x2b 0xef 0xe8 0xe7&#160; 0xe4 0x5a 0xe9 0x6a&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x78 0x8f 0x15 0x6b&#160; 0xae 0xd5 0x85 0x21&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x2e 0x7f 0x3b 0xc4&#160; 0x8b 0xd7 0x32 0x76&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x44 0x59 0x00 0x7a&#160; 0x64 0xea 0x83 0x6e&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0xdd 0x47 0xe9 0x54&#160; 0xe1 0x97 0x36 0x5c&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x1e 0x6e 0xd3 0x9a&#160; 0xeb 0x64 0x0c 0xad&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x19 0xe1 0x06 0xe4&#160; 0x0a 0xdb 0xa5 0xc6&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0xda 0x10 0x30 0x23&#160; 0x29 0xe2 0x38 0xa4&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x2e 0xf9 0x74 0x4e&#160; 0x75 0xef 0xae 0x0e&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x55 0x70 0xbc 0xe5&#160; 0x3c 0x28 0xc8 0x4c&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">0x4e 0x89 0xd9 0x79&#160; 0xe4 0x12 0xaa 0x9c&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">2)&#160; When you define the device, in SimpleAgentPro, specify the SNMPv3 parameters as noAuth/noPriv with User of "dhKickstart".</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">3) Associate the dh_kickstart.var and dh_kickstart.tcl files with the device.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># dh_kickstart.var should have the following 3 lines</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># in the approriate spot.&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># The usmDHKickstartMgrPublic value should be set to</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># the value retrieved in step 1,</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># The usmDHKickstartSecurityName should be set to</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># what your manager is configured for.&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># When the SA_dhenablekickstart tcl command is interpreted,</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># it will setup the value of usmDHKickstartMyPublic field.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># kickstart table</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#usmDHKickstartMyPublic</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.3.101.1.2.1.1.2.1&#160;&#160;&#160;&#160; , OctetString , RO , fixed(0x00)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#usmDHKickstartMgrPublic (should be all on one line)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.3.101.1.2.1.1.3.1&#160;&#160;&#160;&#160; , OctetString , RO , fixed(0xfe4b00b60cb 8afd1985363ba02bb7a758f7d0b39f460a641a17aa8ba07bb7ef0f1e118a7abc3c94a0 be28e92370199bf744acb9587b01d43e2e25655227ab26f2c8eb85888a716e91cfd0f</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;5c4b0f86f1530f4e97479e7409efd0cebfe47d8f9fdaf7b7570d63694ef67429d2f76a</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;96639f4ca71c9a04d431549df88781f03d8)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#usmDHKickstartSecurityName</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.3.101.1.2.1.1.4.1&#160;&#160;&#160;&#160; , OctetString , RO , fixed(docsisManager)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # the dh_kickstart.tcl should look like the following</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%init_action</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # SA_settcldebugflag 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # SA_settcldebugfile dh.tcl.dbg</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # SA_setsnmpdebugflag 2</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # SA_setsnmpdebugfile snmpdev1.dbg</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_dhenablekickstart</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:13.5pt; text-indent:-13.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">4) Configure your management application with userName of docsisManager, and Manager Random Number got in step 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:13.5pt; text-indent:-13.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">5) Now the manager should be able to find the matching entry in the kickstart table, and use the derived keys for SNMPv3 auth/priv communication.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">6) The user docsisManager gets automatically added to SAPro’s user list with Auth/Priv security level.&#160; Subsequent communication can use this user profile.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">57)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I write a device modeling file that updates the associated router and switch’s MIB information when it starts up.&#160; It should also also contain examples of row appearing and disappearing from the tcpConnectionTable with the connection status changing ?</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The device modeling file, in conjunction with the User data field allows you to share the same script, yet pass it arguments via the user data field of each device.&#160; In this example, the associated Routers and Switches and their interfaces could be different for different devices, yet they could all share the same script to dynamically update their associated MIB2 tables.&#160; The sample tcl script shown below also shows how every 5 seconds you can have rows in a table appear and disappear using two methods.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%init_action</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set myMAC [SA_getmymac]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set my_ed_flag 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set my_ad_flag 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # turn tcl debugging on during development.&#160; Afterwards</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # comment out these lines for better performance</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_settcldebugfile $myIP.tcl.dbg</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # sample procedure to add/del rows from tcpConnTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # make sure the required columns are included in the set request</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; proc add_row_to_tcpConnTable { index } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setvar [list [list tcpConnState.$index Integer 2 ] ]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; proc del_row_from_tcpConnTable { index } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_deleterow tcpConnState.$index</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # sample procedure to convert hex mac address into subids.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; proc getmacsubid { mac } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set macsubid ""</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; for {set i 0} {$i &lt; 12} {incr i 2} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i != 0} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append macsubid .</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tmpid [string range $mac $i [expr $i+1]]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; scan $tmpid %x tmpintid</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;append macsubid $tmpintid</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; return $macsubid</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # Now add our entry to the associated router's ARP cache.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # The user data field has the name of the associated</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # router and port number information.&#160; Make sure that the</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # associated router's var file has ipNetToMedia declared as</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # dynamic by having its dynamic row template enabled</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # sample template</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;</font></span> <span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;#%drow&#160; 1.3.6.1.2.1.4.22.1&#160;&#160; newinstance</span></p>
<p class="WD_scripts"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; #%dcol&#160; ipNetToMediaIfIndex&#160;&#160;&#160;&#160;&#160;&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; RW dfixed(1)</span></p>
<p class="WD_scripts"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; #%dcol&#160; ipNetToMediaPhysAddress&#160;&#160; Req&#160;&#160; OctetString&#160; RW r_lastset(6, 6, 0x010203040506)</span></p>
<p class="WD_scripts"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; #%dcol&#160; ipNetToMediaNetAddress&#160;&#160;&#160; NotReq IpAddress&#160;&#160;&#160; RW dfixed(1.2.3.4)</span></p>
<p class="WD_scripts"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; #%dcol&#160; ipNetToMediaType&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RW r_lastset(1, 4, 1)</span></p>
<p class="WD_scripts"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; #%setaction ipNetToMediaType&#160;&#160;&#160;&#160;&#160; Integer&#160;&#160; 2&#160; deleterow()</span></p>
<p class="WD_scripts"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; #</span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # Add a row to ipNetToMedia Table with</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # ipNetToMediaPhysAddress(1.3.6.1.2.1.4.22.1.2) set to our mac</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # ipNetToMediaType(1.3.6.1.2.1.4.22.1.4) set to 3 (dynamic)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # and instance set to &lt;router interface&gt;.&lt;our ip&gt;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set routerip&#160;&#160; [SA_gettokenfromuserdata "ROUTER_IP"]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set routerport [SA_gettokenfromuserdata "ROUTER_IF"]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; if {$routerip != ""} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_sendsnmp $routerip 161 SNMPv1 set private [list \</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list 1.3.6.1.2.1.4.22.1.2.$routerport.$myIP OctetString $myMAC] \</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list 1.3.6.1.2.1.4.22.1.4.$routerport.$myIP Integer 3] ]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # Now add our entry to the associated switch's transparent</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # bridging table. The user data field has the name of the</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # associated switch and port number information.&#160; Make sure</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # that the associated switches var file has dot1dTpFdbTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # declared as dynamic by having its dynamic row template enabled</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # sample template</font></span></p>
<p class="WD_scripts"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; #%drow&#160; 1.3.6.1.2.1.17.4.3.1&#160;&#160; newinstance</span></p>
<p class="WD_scripts"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; #%dcol&#160; dot1dTpFdbAddress&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq OctetString&#160; RO dfixed(0x010203040506)</span></p>
<p class="WD_scripts"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; #%dcol&#160; dot1dTpFdbPort&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RW lastset(1)</span></p>
<p class="WD_scripts"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; #%dcol&#160; dot1dTpFdbStatus&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; RW lastset(1)</span></p>
<p class="WD_scripts"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; #%setaction dot1dTpFdbStatus&#160;&#160;&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; 2 deleterow()</span></p>
<p class="WD_scripts"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; #</span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # Add a row to dot1dTpFdbTable with</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # dot1dTpFdbPort(1.3.6.1.2.1.17.4.3.1.2) set to switch's portnum</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # dot1dTpFdbStatus(1.3.6.1.2.1.17.4.3.1.3) set to 3 (learned)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # and instance set to our mac</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set switchip&#160;&#160; [SA_gettokenfromuserdata "SWITCH_IP"]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set switchport [SA_gettokenfromuserdata "SWITCH_IF"]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; if {$switchip != ""} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; set macid [getmacsubid $myMAC]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_sendsnmp $switchip 161 SNMPv1 set private [list \</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list 1.3.6.1.2.1.17.4.3.1.2.$macid Integer $switchport] \</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list 1.3.6.1.2.1.17.4.3.1.3.$macid Integer 3] ]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># example of get action that overwrites the value</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># type information in the variable file.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%getvalue_action tcpConnState</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # generate a random number between 1 and 11</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set a_number [expr [expr int([expr rand()] * 11)] + 1]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_setcurvalue $a_number</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># example timer based script that is evaluated every 5 secs</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%timer_action&#160; 5</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # to have rows come and go in the tcpConnetion table,</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # the variable file should define this table as dynamic</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # It should have the following template enabled...</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # template for dynamic row. To use, please remove the starting hash signs</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #%drow&#160; 1.3.6.1.2.1.6.13.1&#160;&#160; newinstance</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #%dcol&#160; tcpConnState&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RW r_lastset(1, 12, 1)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #%dcol&#160; tcpConnLocalAddress&#160;&#160;&#160;&#160;&#160;&#160; NotReq IpAddress&#160;&#160;&#160; RO dfixed(1.2.3.4)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #%dcol&#160; tcpConnLocalPort&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; RO dfixed(0)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #%dcol&#160; tcpConnRemAddress&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq IpAddress&#160;&#160;&#160; RO dfixed(1.2.3.4)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #%dcol&#160; tcpConnRemPort&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; RO dfixed(0)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #%setaction tcpConnState&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; 12 deleterow()</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # in this example, existing rows in tcpConnection table</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # appear and disappear.&#160; This is more efficient than</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # adding and deleting rows. Note that these rows already</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # exist in the variable file</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; if {$my_ed_flag == 0} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_disablerow tcpConnLocalAddress.1.2.3.4.1.1.2.3.4.2</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_disablerow tcpConnLocalAddress.1.2.3.4.1.1.2.3.4.4</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set my_ed_flag 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; } else {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_enablerow tcpConnLocalAddress.1.2.3.4.1.1.2.3.4.2</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_enablerow tcpConnLocalAddress.1.2.3.4.1.1.2.3.4.4&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set my_ed_flag 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # in this example, new rows are added and deleted from the</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # tcpConnection table. Since SAPro has to do validation</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # of set request and allocate memory, this requires more</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # CPU resources.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; if {$my_ad_flag == 0} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; add_row_to_tcpConnTable 192.168.100.20.161.10.10.1.1.2000</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; add_row_to_tcpConnTable 192.168.100.21.2004.10.10.1.5.2009</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set my_ad_flag 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; } else {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; del_row_from_tcpConnTable 192.168.100.20.161.10.10.1.1.2000</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; del_row_from_tcpConnTable 192.168.100.21.2004.10.10.1.5.2009</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set my_ad_flag 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">58)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I make the mac address in the var file the same as the mac address associated with the simulated device ?</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can use the special token $$MYMAINMACADDR$$ in the var file, and at runtime, this token will get substituted by the mac address associated with the simulated device.&#160; If the mac address is not specified during device definition (none), then a value of 010203040506 gets used during substitution.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">59)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How can I use sapwalk2 command line utility to walk only a specific subtree.</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Lets say you only wanted to learn a few specific variables from a device and not spend time learning/walking the entire MIB.&#160; For instance, you only wanted to learn sysObjId.0 (1.3.6.1.2.1.1.2) - one scalar,&#160; and&#160; the entire interfaces table</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">(ifEntry =1.3.6.1.2.1.2.2.1).</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Then you can write a small script that uses the compare flag (-f)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">./sapwalk2 -i 1.1.1.1 -v v1 -c public -s 1.3.6.1.2.1.1.2&#160; -f 1 &gt; mywalk</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">./sapwalk2 -i 1.1.1.1 -v v1 -c public -s 1.3.6.1.2.1.2.2.1 -f 1 &gt;&gt;mywalk</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">and mywalk will contain the walk info for only these variables...</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">60)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do I make a TL1 session send autonomous messages on demand.</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">When a TL1 session is initiated with a TL1 manager, if you want the TL1 client to send autonomous messages upon user request, one can do the following:</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">In the Tl1 modeling file, in the init_action section, you need to use the&#160;&#160;&#160; SA_telnet_addudpmsgsocket&#160; tcl command to add a message socket that the TL1 client will listen to, in addition to the TL1 manager socket.&#160; Any messages received on this socket, will be interpreted as tcl commands to be interpreted.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160; ….</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160; SA_telnet_addudpmsgsocket 2450</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Then, via the GUI, using Device-&gt;Tcl Script option, you can send a specific udp message to the specified port that will cause the TL1 client to evaluate the command, as a result of which the autonomous message will get sent…</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts">SA_sendudppacket 192.168.16.10 2450 "SA_TL1_setauto_default;SA_TL1_setauto_alarmcode \"A\";SA_TL1_setauto_atag \"56550\";SA_TL1_setauto_verb \"REPT\";SA_TL1_setauto_modifiers \"EVT OC12\";SA_TL1_setauto_textblock \"\\\"DG5-OC12A-1:T-ESL,TC,,,NEND,,25,25,16-MIN:,:,\\\"\"; SA_TL1_sendautomsg"</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">61)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do I handle acknowledgements received on a specific UDP port</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can use the SA_asyncudp* tcl commands to setup a socket and associate a callback function.&#160; The SA_asyncudpopen opens a socket, which the SA_asyncudprecv associates a callback function with it.&#160; The callback procedure has to be specified in the init_action section itself.&#160;&#160; SA_asyncudpsend allows you to send messages, and when a packet is received, the callback function will get called.&#160; SA_asyncudpclose closes any open socket.&#160; In the example shown below, a SNMP request is sent to an agent, every 5 seconds and the callback function will get called with the response packet.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_asyncudpopen 5493</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_asyncudprecv myCallback</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; proc myCallback {pkt} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "Got response on callback. pkt = $pkt"</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">%timer_action 5</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_asyncudpsend 192.168.16.11 161 0x302502010004067075626c6963a118020100020100020100300d300b06072b0601020101030500</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">%stop_action</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_asyncudpclose</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">62)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do I change the maximum number of simultaneous telnet sessions ?</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">By default, SimpleAgentPro supports up to 5 simultaneous telnet sessions per simualted device.&#160; You can change this number by specifying MAXTELNETSESSIONS=N in the config.inp file&#160; The maximum number of sessions allowed will now be set to N.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">63)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to clone devices, but for one variable like device serial number, I want all the cloned devices to have unique values. How do I do this without having thousands of variable files ?</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Each of the cloned device has a unique IP address and MAC address (if you have specified one).&#160; You can use their values to derive unique strings.&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">For instance, if the following tcl modeling file is associated with all the cloned devices, when each of the cloned devices are started, the init_action section tcl code will get evaluated and it will get its IP address and use it to derive a unique serial number string that can be set as the value of some variable.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># example of a tcl script that changes the value of a variable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># based on the value of the current IP address in the init_action section</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%init_action</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # remove this later</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_settcldebugfile namechange_tcl.dbg</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set ipsublist [split $myIP .]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # create a new serial number string based on value of IP</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set serNum&#160; "800[lindex $ipsublist 0]-20[lindex $ipsublist 2]G00[lindex $ipsublist 3]"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # example that changes the value of ReadOnly variable at startup</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #SA_setvaltype [list [list sysDescr.0 OctetString fixed($serNum)]]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # example that changes the value of ReadWrite variable at startup</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_setvar [list [list sysContact.0 OctetString $serNum]]</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # example which tries both approaches..</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #now change the value of sysName.0 (if RO) to this unique string</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; if [ catch { SA_setvaltype [list [list 1.3.6.1.2.1.1.5.0 OctetString fixed($serNum)]] } res] {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # try SA_setvar if the object is RW in the var file</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setvar [list [list 1.3.6.1.2.1.1.5.0 OctetString $serNum]]</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">64)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to send link up/link down traps every 5 seconds and also change the value of ifOperStatus.</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">A sample tcl file is shown below that does just that.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%init_action</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # set flag to original value</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set curval 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # set the trap receiver IP address</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_settrapmgrs 192.168.100.90</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%timer_action&#160; 5</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # keep toggling ifOperStatus every 5 seconds</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; if {$curval == 1} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send link up trap and set ifOperStatus to enable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap [list 1.3.6.1.4.1.786.1.1 3 0 [list ifIndex.1 Integer 1]]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setvaltype { { ifOperStatus.1 OctetString "fixed(1)" } }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set curval 2</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; } elseif {$curval == 2} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send link down trap, and set ifOperStatus to disable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap [list 1.3.6.1.4.1.786.1.1 2 0 [list ifIndex.1 Integer 1]]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setvaltype { { ifOperStatus.1 OctetString "fixed(2)" } }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set curval 1</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">65)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do I start sapns as a service on Windows ?&#160; When using dongles on a Windows machine, and using remote login, I experience problems if sapns is not already started on the server.</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">SimpleAgentPro has support for running sapns as a service.&#160; To install sapns as a service, do the following:</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Open up a command prompt dos box.</font></span></p>
<p style=" text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Go to the SimpleAgentPro/bin directory where sapns is present.</font></span></p>
<p style=" text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Run the command</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:Wingdings;"><font size="3" style="font-size:12pt;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">sapns –p 2100 –s install</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Then go to the Admin Tools-&gt;Service and start the service or reboot.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To uninstall the service, run the command</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:Wingdings;"><font size="3" style="font-size:12pt;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">sapns –p 2100 –s uninstall</font></span></p>
<p style=" margin-left:1.0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">66)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> During telnet simulation, the device prompts for “y” or “n” input to move ahead.&#160; How do I specify actions based on inputs which are not followed by a carriage return ?</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">SimpleAgentPro had recently added support for rawmode in telnet, where it gives all the characters it received to user call back functions.&#160; The example telnet script below, switches between regular mode and raw mode to support user input…</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%init_action</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # turn debugging on at the beginning.&#160; later on turn it off for better</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # performance</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_debugflag 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_debugfile tel.dbg</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # set the banner text</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_setbanner&#160; "\r\n\r\n\r\\r\n\r\nCisco console system\r\n\r\n&#160;&#160;&#160;&#160;&#160; CLI session with hub is open.\r\n&#160;&#160;&#160;&#160;&#160; To end the CLI session, enter \[Exit\].\r\n\r\n"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # enable login</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_setloginmode&#160; 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # set the allowed user</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_setloginuser admin</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # set the valid password for the above user</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_setloginpasswd abc</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # set valid password for enable mode</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_setaddloginpasswd bigfish</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # this is an example of the telnet tcl code accessing the snmp mib data.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # now get the value of sysName and use it as the command prompt</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; set snmpsysname [SA_telnet_getsnmpval {sysName.0}]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_setcmdprompt&#160; "$snmpsysname &gt;"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; set myflag 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%default_cmd_action</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; set ibuf [SA_telnet_getrawcommand]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; if {$myflag == 1} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; set ibuf [SA_telnet_getrawcommand]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; if {$ibuf == "0x79" } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "y"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;SA_telnet_resetinputbuffer</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setrawmode 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt&#160; "$snmpsysname &gt;"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts -nonewline "$snmpsysname &gt;"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #SA_telnet_puts $SAtcmd(0)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># processing of "show version" command</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%cmd_action&#160; show version</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_puts "Cisco 1538M Enterprise Edition Software"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_puts "Version 1.00.00"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_puts "Copyright (c) Cisco Systems, Inc. 1993-1999"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_puts "ROM: System Bootstrap, Version 1.01.00"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_puts "Host uptime is 0day(s) 1hour(s) 52minute(s) 34second(s)"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># processing of command that requires y/n input without carriage return</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%cmd_action&#160; abcd</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_puts "Some initial text"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_setcmdprompt&#160; "Enter y or n:"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_resetinputbuffer</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_setrawmode 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; set myflag 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># processing of Exit to close connection</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%cmd_action&#160; Exit</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_closeconnection</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%cmd_action&#160; exit</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_closeconnection</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">67)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> During telnet simulation, as a result of typing one command, the device prompts for additional input.&#160; Each of these input is followed by a carriage return.&#160; How do I create a telnet file to support this behavior ?</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Since the input given includes a carriage return, there is no need to change mode to raw character mode.&#160; You can use the default action section to process subsequent inputs and modify the prompt.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%init_action</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # login information</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_telnet_setloginmode 2</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_telnet_setloginpasswd cisco</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_telnet_setaddloginpasswd cisco</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # setting up banner</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_telnet_setbanner "\r\n\r\nUser Access Verification\r\n"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # setting up command prompt</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt "Router&gt;"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # intialize variables</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set ping_cmd_flag 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set ping_ip 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># response handler for&#160; ping 172.24.1.2</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%cmd_action ping ip</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt "Target IP address: "</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set ping_cmd_flag 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># action invoked when no corresponding command found</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%default_cmd_action</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; if {$ping_cmd_flag != 0} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$ping_cmd_flag == 1} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ping_ip $SAtcmd(0)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt "Repeat count \[5\]: "</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ping_cmd_flag 2</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$ping_cmd_flag == 2} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set repeat_count $SAtcmd(0)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;SA_telnet_setcmdprompt "Datagram size \[100\]:"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ping_cmd_flag 3</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$ping_cmd_flag == 3} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set datagram_size $SAtcmd(0)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt "Timeout in seconds \[2\]:"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ping_cmd_flag 4</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$ping_cmd_flag == 4} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set timeout_val $SAtcmd(0)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt "Extended commands \[n\]:"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ping_cmd_flag 5</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$ping_cmd_flag == 5} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set extended_cmds $SAtcmd(0)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt "Sweep range of sizes \[n\q]:"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ping_cmd_flag 6</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$ping_cmd_flag == 6} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set sweep_range $SAtcmd(0)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt "Type escape sequence to abort."</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ping_cmd_flag 7</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$ping_cmd_flag == 7} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set escape_sec $SAtcmd(0)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Sending 5, 100-byte ICMP Echos to $ping_ip, timeout is 2 seconds:"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SA_telnet_puts "!!!!!"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Success rate is 100 percent (5/5), round-trip min/avg/max = 1/1/4 ms"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ping_cmd_flag 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt "Router&gt;"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># processing additional login commands</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%cmd_action&#160; enable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_setaddloginmode 2</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># processing of Exit to close connection</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%cmd_action&#160; Exit</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; SA_telnet_closeconnection</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">68)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do I format a timestamp to be used in a syslog event message ?</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Tcl includes support for formatting time strings.&#160; You can use them when defining the syslog event to be sent out or you can use a SAPro builtin tcl command..</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">set myIP [SA_getmyip]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">SA_setsyslogmgrs 192.168.199.1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">SA_setsyslogudpport 514</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#set formatstring " %b %d %H:%M:%S "</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#set time [clock format [clock seconds] -format $formatstring]</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;#SA_sendsyslog "$time $myIP 15: *Mar&#160; 1 09:06:30: %SYS-5-CONFIG_I:....."</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tstamp [SA_getsyslogtstamp]</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendsyslog "&lt;181&gt;328: *${tstamp} :%SYS-5-CONFIG: configured by abc on vty9(1.1.1.1)"</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">69)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do I learn networks at customer sites by doing discovery ?</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">SimpleAgentPro includes command line utilities that can be taken with you to customer sites to learn devices from their network and bring the simulation files back to your lab to help you duplicate customer problems.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1) Take ssdiscover.exe, sapnwalk.exe, sapwalk2.exe and netlearn.bat on your laptop to customer site.&#160; Lets say C:\temp\sapro has these four files.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">2) Create a input file in this directory that specifies what you want&#160; to discover at these premises.&#160; The expected input file format is one or more lines that look like:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SUBNET&#160; ipaddress netmask</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPRANGE ipaddress1 ipaddress2</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SEED_IP ipaddress</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; CHASSIS ipaddress</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SNMP&#160;&#160;&#160; snmpversion community</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SNMP&#160;&#160;&#160; v3 seclevel username authtype authpass privpass</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; where</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; snmpversion can be (v1/v2c/v3)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; seclevel can be (nAnP/AnP/AP)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; auth type can be (MD5/SHA)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">eg: discover.inp file in c:\temp\sapro contains</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">-----(start of file)--------------</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">IPRANGE&#160; 192.168.100.1 192.168.100.100</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">SNMP&#160;&#160;&#160;&#160; v1&#160; public</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">SNMP&#160;&#160;&#160;&#160; v2&#160; admin</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">-----(end of file)----------------</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">3) Make a new directory underneath c:\temp\sapro called customer1_files</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">4) In a DOS command prompt</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; &gt; cd c:\temp\sapro</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; &gt; netlearn discover.inp customer1_files</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This will do discovery, create a list of devices that it found, and then start snmpwalks on each of the discovered devices.&#160;&#160; The device list is created in a file called "devlist" in the customer1_files sub-directory.&#160; Walk files will also be present in the same directory.&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Internally netlearn first calls "ssdiscover" to create a list of devices and their associated SNMP profiles.&#160; This list is then given to "sapnwalk" which calls "sapwalk2" in parallel to do SNMP walks on the individual devices and create their walk files.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">5) Once this process is completed, zip up the contents of customer1_files directory (customer1_files.zip) and bring it on the machine that has SimpleAgentPro installed.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">6) Create a directory "projects" underneath &lt;SimpleAgentPro&gt; at the same level as bin if it is not already there....&#160; Unzip the contents of the zip file in this directory to create &lt;SimpleAgentPro&gt;/projects/customer1_files</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">7) Now go to &lt;simpleAgentPro&gt;/bin directory</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">8) In a DOS command prompt</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160; &gt; netcrproj "..\projects\customer1_files" customer1</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Internally netcrproj calls "sapnw2var" which converts all the walk files to .var files and then creates the map and workspace files.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">9) The map and var files will get created under projects\customer1 directory.&#160; A workspace file will also get created under&#160; &lt;SimpleAgentPr&gt;/wsp directory.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">10)You can load this workspace in the SAPro gui by doing File-&gt;Open Workspace and selecting "customer1".&#160; The associated map files will get loaded.</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">70)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I do not want to run SimpleSoft’s discovery, but I want to provide my own list of devices to SimpleSoft’s utilities to do learning at customer sites.&#160; How do I do that ?</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The answer is very similar the 54.&#160; Basically ssdiscover creates a device list file. If you do not want to run ssdiscover but can dump out a list of devices along with their SNMP profile from your management application of choice, then you can still quickly and easily carry out “learning” at customer sites.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1) Take sapnwalk.exe, sapwalk2.exe on your laptop to customer site.&#160; Lets say C:\temp\sapro has these two files.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">2) Make a new directory underneath c:\temp\sapro called customer1_files</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">3) Create a file that contains the list of devices to learn along with their SNMP profiles, called “mydevlist” in this directory. The expected file format contains one device information on one line as follows:</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts">#&#160; ipaddress snmpversion community</p>
<p class="WD_scripts">#&#160; ipaddress snmpversion seclevel username authtype apass ppass</p>
<p class="WD_scripts">#&#160; where</p>
<p class="WD_scripts">#&#160;&#160;&#160; ipaddress can be ipaddress or ipaddress:proxyname</p>
<p class="WD_scripts">#&#160;&#160;&#160; snmpversion can be (v1/v2c/v3)</p>
<p class="WD_scripts">#&#160;&#160;&#160; seclevel can be (nAnP/AnP/AP)</p>
<p class="WD_scripts">#&#160;&#160;&#160; auth type can be (MD5/SHA)</p>
<p class="WD_scripts">192.168.100.2 v1&#160; public</p>
<p class="WD_scripts">192.168.100.3 v2&#160; private</p>
<p class="WD_scripts">192.168.100.5 v3 AP admin MD5 simple complex</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">4) In a DOS command prompt</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; &gt; cd c:\temp\sapro</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; &gt; sapnwalk –f customer1_files\mydevlist -w customer1_files –n 10</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This will start 10 sapwalks in parallel on the list of devices in the “mydevlist” file.&#160; The walk files will get created in the customer1_files directory.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">5) Once this process is completed, zip up the contents of customer1_files directory (customer1_files.zip) and bring it on the machine that has SimpleAgentPro installed.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">6) Create a directory "projects" underneath &lt;SimpleAgentPro&gt; at the same level as bin if it is not already there....&#160; Unzip the contents of the zip file in this directory to create &lt;SimpleAgentPro&gt;/projects/customer1_files</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">7) Now go to &lt;simpleAgentPro&gt;/bin directory</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">8) In a DOS command prompt</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160; &gt; netcrproj "..\projects\customer1_files" customer1</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Internally netcrproj calls "sapnw2var" which converts all the walk files to .var files and then creates the map and workspace files.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">9) The map and var files will get created under projects\customer1 directory.&#160; A workspace file will also get created under&#160; &lt;SimpleAgentPr&gt;/wsp directory.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">10)You can load this workspace in the SAPro gui by doing File-&gt;Open Workspace and selecting "customer1".&#160; The associated map files will get loaded.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">71)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want individual devices in a map to send random traps every so often.&#160; How do I do this ?</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">SimpleAgentPro setup tcl scripts can be used to orchestrate actions carried out by devices in a map.&#160; You can run a setup script that based on timer action, makes each device send a random trap.&#160; An example setup script is shown below.</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%MAPTCLSCRIPT</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%init_action</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # turn debugging off for better performance</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; SA_settcldebugfile test11.tcl.dbg</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # get the list of devices in the map</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set deviceList [SA_getdevicelist]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set numdevices [llength $deviceList]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #initialize myCounter</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set myCounter 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># do the following every one second</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%timer_action 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; incr myCounter</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; if {$myCounter &lt; $numdevices} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # select a device</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set devname [lindex $deviceList $myCounter]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # lock it</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext $devname</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; # specify the manager to send the traps to</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_settrapmgrs 192.168.100.44</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_settrapudpport 162</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # generate a random number between 0 and 3</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set newnumber [expr int([expr rand()] * 4)]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # based on this number, chose a trap to send</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$newnumber == 0} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ##TRAP=cold start</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendv2ctrap { 1.3.6.1.6.3.1.1.5.1 }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$newnumber == 1} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ##TRAP=warm start</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendv2ctrap { 1.3.6.1.6.3.1.1.5.2 }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$newnumber == 2} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ##TRAP=link down</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendv2ctrap { 1.3.6.1.6.3.1.1.5.3 { ifIndex.1 Integer 1 }}</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$newnumber == 3} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ##TRAP=link up</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendv2ctrap { 1.3.6.1.6.3.1.1.5.4 { ifIndex.1 Integer 1 }}</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #unlock the device</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_releasedevcontext</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # wait an additional 60 secs doing nothing after</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # all the devices in the map have sent a random trap</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; if {$myCounter &gt; [expr $numdevices + 60]} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; set myCounter 0</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">72)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> Some devices return NO_SUCH_NAME when I try to do a SET request with the device’s Read community string.&#160; Can I make the simulated devices also generate this type of an error ?</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The latest version of SimpleAgentPro (10.0) adds support for this type of behavior.&#160; To enable this behavior on a particular device, you need to specify “SETNOSUCHERR=1” in the devices User Data Field (in the general tab).</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">73)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I have the sapns running as a service on my Window Server 2003 and seem to have run into a limit as to how many maps I can start. Is there any way to configure a larger number of maps.</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The operating system limits the number of processes that a service can start. To disable this limit, do the following:</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Open the Services Window: Control Panel-&gt;Administrative Tools-&gt;Services</font></span></p>
<p style=" text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">2)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;Scroll down to SimpleAgentPro Name Server, right mouse click on it, and select Properties</font></span></p>
<p style=" text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">3)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Click on the Log On tab</font></span></p>
<p style=" text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">4)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Select the "Local System account" radio button and click on the "Allow service to interact with desktop" checkbox.</font></span></p>
<p style=" text-indent:-.25in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">5)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Press the Apply button and OK button</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">74)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span> I want to poll a real device and get many values for a set of variables which I then can to give to SimpleAgentPro so that its simulated devices can give the same values back to my poller application.&#160; How do I do this ?</p>
<pre>
 
</pre>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">In the SimpleAgentPro, you can specify different valuetypes for variables.&#160; One valuetype is "valuelistinonefile(&lt;filename&gt;)," where the values to be returned for that variable are specified in a comma separated list in the specified file.&#160; When the real application polls for these values from SimpleAgentPro's simulated device, SAPro will look up the values in this file and return each value one after the other.&#160; At the end of the list, it will simply cycle back to the first value and start all over again.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To automate the process of learning and integrating the polled values within the SimpleAgentPro, you can use command line utilities provided by SimpleSoft and follow the steps in the example below:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Device 192.168.10.5 supports many MIBs, and your poller application is interested in the ifTable.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:49.5pt; text-indent:-13.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1) Learn all the variables from the real device and create a walk file. Start the following in the sapro\bin directory.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:49.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&gt; sapwalk 192.168.10.5 public 1.3 &gt; ..\var\rtr_1.walk</font></span></p>
<p style=" margin-left:49.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; or</font></span></p>
<p style=" margin-left:49.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&gt; sapwalk2 -i 192.168.10.5 -v v1 -c public -s 1.3 -o ..\var\rtr_1.walk</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:49.5pt; text-indent:-13.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">2) Convert this walk file into a var file.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:49.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&gt; sapw2var ..\var\rtr_1.walk ..\cmf\mib2.cmf ..\var\rtr_1.var ssoft</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:49.5pt; text-indent:-13.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">3) Create a oidlist file that contains the list of oids that you would like to poll and get multiple values.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;</font></span></p>
<p style=" margin-left:49.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">---------&lt;start of oidlist file&gt;---------------</font></span></p>
<p style=" margin-left:49.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># get ifTable stuff</font></span></p>
<p style=" margin-left:49.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">N 1.3.6.1.2.1.2.2</font></span></p>
<p style=" margin-left:49.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">---------&lt;end of oidlist file&gt;-----------------</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:49.5pt; text-indent:-13.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">4) Run the sappoll utility to collect mulitple values. Lets say you want to poll 20 times every 5 mins(300 secs)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:49.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&gt; sappoll -i 192.168.10.5 -v v1 -c public -t 300 -n 20 -f oidlist -o ..\var\rtr_poll.pol</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:49.5pt; text-indent:-13.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">5) Modify the entries in the existing rtr_1.var to use the multiple values learnt by sappoll</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:49.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&gt; sapvfilter ..\var\rtr_1.var ..\var\rtr.var ..\var\rtr_poll.pol ..\cmf\mib2.cmf 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:49.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The last "1" tells sapvfilter to use the rtr_poll.pol file as the csv oid fiter list.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:49.5pt; text-indent:-13.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">6) Create a map with a device and associate the new var file (..\var\rtr.var) with it.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:49.5pt; text-indent:-13.5pt;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">7) You are ready to go..</font></span></p>
<p class="WD_script">&#160;</p>
<pre>
 
</pre>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">75)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I created a var file from a walk file that I generated with sapwalk, but now I want to add some additional MIB variables to the same var file. How can I do this? I have the MIB files which define the additional variables. Also, please note that I used&#160; mib2.cmf that ships with the SimpleAgentPro, along with the walk file to create the original var file.</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1) Create a new cmf file by compiling the new MIB files along with rfc1213.mib that ships with the SimpleAgentPro.<br />
&#160;<br />
2) Open the "Create From MIB" window (found under the Variable menu) and create a var file from this new MIB. Be sure to specify zero (0) for the number of rows in a table.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"><br />
3) Append the contents of the new var file to the end of the original var file that was created from the walk.&#160;<br />
<br />
4) Using sapvsort, found in the SimpleAgentPro's bin directory, sort the newly merged var file. Note the duplicate variables will be ignored. You need to use the CMF file generated at step one with this command.<br />
<br /></font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">5) Then use the output var file from sapvsort along with the cmf file generated in step one in the simulated device.</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">76)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do we configure the license for SimpleAgentPro running in a Windows&#160; environment when using VMWare?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1) Identify a machine on the network running native Windows 2000/XP/2003 .<br />
&#160;<br />
2) Install the license server on the machine identified above. The installation can be found in the WinNT\sapserve subdirectory on the CD.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"><br />
3) The license server only recognizes a license configured on a hardware key. This requires that the hardware driver be installed to recognize the key. The driver installation can be found where the license server is installed in a directory called dongle. Run sentinel.exe to initiate installation of the driver. Once the driver installation is complete, plug in the specially programmed hardware key and the license server will be ready. The dongle can support up to 6 licenses.<br />
<br />
4) Each installation of the SimpleAgentPro must be configured with the location of the license server, the server port number, and the registration I.D. of the license. This information is configured in the config.inp file found in the SimpleAgentPro’s bin directory. Add something like the following lines to the config.inp file:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">LICSERVERADDR = 192.168.0.10</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">LICSERVERPORT = 7878</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">REGID = 707351</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Specify the IP address of the server identified above and the registration I.D. found with the paper work for the SimpleAgentPro sent to you by SimpleSoft.</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">77)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> Why can’t I install or start SimpleAgentPro on Windows Vista?</p>
<p style=" margin-left:.5in;" class="WD_BodyText">Windows Vista has very stringent security features built into the operating system. Some of these security features prevent the SimpleAgentPro from starting up. The work around is to configure the application to run with Administrator privileges. To do this, open the Windows Explorer and navigate to the SimpleAgentPro’s bin directory, right mouse click on the SimpleAgentPro application, click on the Compatibility tab, select “Run this program as an Administrator,” and press the OK button to save the setting.&#160; Do the same for the “sathrd” and “sapns” executables.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_BodyText"><span style=" letter-spacing:0pt;">Early versions of Vista also had&#160; problems with the write permission in folders. Running the application with Administrator priviledges also helps with this.</span></p>
<p style=" margin-left:.5in;" class="WD_BodyText"><span style=" letter-spacing:0pt;">&#160;</span></p>
<p style=" margin-left:.5in;" class="WD_BodyText"><span style=" letter-spacing:0pt;">Even to edit the config.inp file, you need to make sure that you open Notepad as and administrator.&#160; You can do that with</span></p>
<p style=" margin-left:.5in;" class="WD_BodyText"><span style=" letter-spacing:0pt;">&#160;</span></p>
<p style=" margin-left:1.0in; text-indent:-.25in;">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Go to Start</p>
<p style=" margin-left:1.0in; text-indent:-.25in;">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> In the Search box, type: Notepad</p>
<p style=" margin-left:1.0in; text-indent:-.25in;">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Right click on Notepad</p>
<p style=" margin-left:1.0in; text-indent:-.25in;">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Select "Run As Administrator"</p>
<p style=" margin-left:.5in;">&#160;</p>
<p style=" margin-left:.5in;">Once you have opened Notepad as Administrator, you should be able to edit the config.inp file successfully.</p>
<p style=" margin-left:.5in;">&#160;</p>
<p style=" margin-left:.5in;">You might even have to run the installation program as administrator.&#160; To do this, open the Windows Explorer and navigate to the directory where the installation executable is located, right mouse click on the file, click on the Compatibility tab, select “Run this program as an Administrator,” and press the OK button to save the setting.</p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">78)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do I display the contents of a file as a result of running a telnet command ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can define a procedure in the %init_action section that can get called as a result of specific command, as shown below:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # Procedure to display any text file</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # on the telnet session</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; proc output_file { filename } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set fileId [open $filename r]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; while { [gets $fileId line] &gt;= 0 } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts $line</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; close $fileId</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; # Processing the command to display the running configuration</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; #</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; %cmd_action show running-config</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; output_file “myConfig.cfg”</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">79)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do I convert an hex string returned by SA_getvar to a displayable Ascii string ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can define a procedure in the %init_action section that can be called to do the conversion:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">proc convOct2Str { inOctStr } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # Initialize the output string</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set outString ""</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # Skip "0x" if @ start of input string</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; if { [string range $inOctStr 0 1] == "0x" } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set startIndex 2</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; } else {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set startIndex 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # Loop through the string and convert each octet to a character</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; for { set i $startIndex } { $i &lt; [string length $inOctStr] } { incr i 2 } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Extract the next Octet</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set j [expr $i + 1]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set octet [string range $inOctStr $i $j]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Convert the hex character string to an integer</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; scan $octet "%02x" intVal</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Convert the integer to an ASCII character and append it to the</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # return string. If the integer is greater than 127, then just</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # put a blank character in it's place.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;if { $intVal &gt; 127 } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append outString " "</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append outString [format %c $intVal]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; return $outString</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">}</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Later on you can call this procedure to do the conversion as shown below:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">set octetString 0x4142430a616263</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">set sysDescrStr [convOct2Str $octetSting]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">80)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to extract a list of oids from the snmp debug log files that have been retrieved by my management application and then feed that to sappoll utility so that it can get more values for these variables from real devices.&#160; How do I do that</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can use tcl to parse the debug file and get the output.&#160; A sample tcl file is show below.&#160; It looks for a snmp debug file called called “snmp.dbg” in the current working directory, and creates a file called “out1” in the current working directory that has a list of oids to be given to the sappoll program.&#160; Which oids are to be used can also be filtered based on their datatypes.&#160; By saying “all” you can get all the oids, while by saying “cg” you only get Counters and Gauges.&#160; You can run this tcl file using the saptclsh program in the bin directory by saying&#160;&#160; “saptclsh mytclfile”&#160; where mytclfile would contain the following code:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># procedure to look for oids in responses for</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># get/getnext/getbulk and use them as inputs</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># to the sappoll program</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># takes two arguments, the input snmp debug file</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># and the output oidlist file to be created</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">proc process_line { line type } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # go past the first equalto sign</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set sindex [string first "= " $line]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; incr sindex</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # get the rest of the string, and break it up</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set rstring [string range $line $sindex end]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set linelist [split $rstring "(," ]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # oid is the first part</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set oid [string trim [lindex $linelist 0]]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # check the type to see if we need to filter based</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # on datatype of the oid</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; if {$type == "all"} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; return $oid</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; } elseif {$type == "cg" } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set linelist [split $rstring "," ]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set otype [string trim [lindex $linelist 1]]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set otypelist [split $otype "=" ]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set otypestr [string trim [lindex $otypelist 1]]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {($otypestr == "Gauge") || \</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ($otypestr == "Counter") || \</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ($otypestr == "Counter64")} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return $oid</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;}</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; } elseif {$type == "cgi" } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set linelist [split $rstring "," ]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set otype [string trim [lindex $linelist 1]]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set otypelist [split $otype "=" ]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set otypestr [string trim [lindex $otypelist 1]]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {($otypestr == "Gauge") || \</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ($otypestr == "Counter") || \</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ($otypestr == "Integer") || \</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ($otypestr == "Counter64")} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return $oid</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; } elseif {$type == "cgio" } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set linelist [split $rstring "," ]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set otype [string trim [lindex $linelist 1]]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set otypelist [split $otype "=" ]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set otypestr [string trim [lindex $otypelist 1]]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {($otypestr == "Gauge") || \</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ($otypestr == "Counter") || \</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ($otypestr == "Integer") || \</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ($otypestr == "OctetString") || \</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ($otypestr == "Counter64")} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return $oid</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">}</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">proc get_oids_from_dbg { infile outfile type } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # set the default state</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set mystate 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # open up the files</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set ifile [open $infile r]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; set ofile [open $outfile w]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # keep reading each line in the debug file</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; while { [gets $ifile line] &gt;= 0 } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # look for get/getnext/getbulk requests</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $mystate == 0 } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {[string first "Get Request" $line] == 0} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mystate 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {[string first "GetNext Request" $line] == 0} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mystate 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {[string first "GetBulk Request" $line] == 0} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mystate 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; continue;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # now look for response for get/getnext/getbulk only</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $mystate == 1 } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {[string first "Response" $line] == 0} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mystate 2</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; continue;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # once the response has been found, look for oid</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $mystate == 2 } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {[string first "Oid" $line] == 0} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mystate 3</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set oid [process_line $line $type]</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$oid != ""} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set OidArray($oid) 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; continue;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # once one oid has been found, look for more oids</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;# or reset state if something else is found</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $mystate == 3 } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {[string first "Oid" $line] == 0} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mystate 3</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set oid [process_line $line $type]</font></span></p>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$oid != ""} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set OidArray($oid) 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mystate 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # close the debug file</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; close $ifile</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # now the oid array has all the oids, but they are not</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # sorted.&#160; Sort them prior to printing</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; while { [array size OidArray] &gt; 0 } {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set start 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # get the smallest lexicographic oid</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; foreach index [array names OidArray] {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$start == 0} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set start 1</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;set min $index</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; continue</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set flist [split $min .]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set slist [split $index .]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set flen [llength $flist]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set slen [llength $slist]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mlen $flen</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$mlen &gt; $slen} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mlen $slen</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; for {set i 0} {$i &lt; $mlen} {incr i} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set fnum&#160; [lindex $flist $i]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set snum&#160; [lindex $slist $i]</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$fnum &lt; $snum} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;break</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$fnum &gt; $snum} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set min $index</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i == $mlen} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$flen &gt; $slen} {</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set min $index</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # print the smallest and remove from the array</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $ofile "I $min"</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; unset OidArray($min)</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; # close the output oidlist file</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; close $ofile</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">}</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"># call to the procedure with two filenames</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">get_oids_from_dbg snmp.dbg out1 cg</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">81)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> My SA_tftpput and SA_tftpget TFTP client commands are giving an error.&#160; Is there a way to see what they are doing ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can turn debugging on by adding the following lines to the %init_action section of your modeling file.&#160;&#160; The &lt;mapname&gt;.log file will contain the debug information.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts">&#160;&#160;&#160; global SA_DebugModeFlag<br />
&#160;&#160;&#160; set SA_DebugModeFlag 1</p>
<p class="WD_scripts">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">82)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do I get the directory where my var files are located ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can get the current variable file name that you are using and then parse it to get the path as shown below.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts">&#160;&#160;&#160; set path ""</p>
<p class="WD_scripts">&#160;&#160;&#160; set vname [SA_getmyvarfilename]</p>
<p class="WD_scripts">&#160;&#160;&#160; set index [string last "/" $vname]</p>
<p class="WD_scripts">&#160;&#160;&#160; if {$index == -1} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; set index [string last "\\" $vname]</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;&#160;&#160; if {$index != -1 } {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160; set path [string range $vname 0 $index]</p>
<p class="WD_scripts">&#160;&#160;&#160; }</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">83)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> My timer action is taking too long to run.&#160; How do I speed things up ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Procedures in tcl are converted to bytecode the first time they run and then the bytecode is saved to prevent it from getting converted each time it is called.&#160; To make use of this, you can create a procedure out of what you would normally have done in the timer_action section and then simply call that procedure in the timer_action section.&#160; The following example shows this:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts">%init_action</p>
<p class="WD_scripts">&#160;&#160;&#160; global counter</p>
<p class="WD_scripts">&#160;&#160;&#160; set counter 0</p>
<p class="WD_scripts">&#160;&#160;&#160; SA_settrapmgrs 192.168.100.44</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;&#160;&#160; proc generate_traps {} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; global counter</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr counter</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$counter == 1} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendv3notify {1.2.1 {ifOperStatus.1 Integer 1}}</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$counter == 2} {</p>
<p class="WD_scripts">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;SA_sendv3notify {1.2.2 {ifOperStatus.1 Integer 2}}</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$counter == 3} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendv3notify {1.2.3 {ifOperStatus.1 Integer 3}}</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$counter == 4} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendv3notify {1.2.4 {ifOperStatus.1 Integer 4}}</p>
<p class="WD_scripts">&#160;&#160;&#160; &#160;&#160;&#160;&#160;} elseif {$counter == 5} {</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendv3notify {1.2.5 {ifOperStatus.1 Integer 5}}</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set counter 0</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; }</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">%timer_action 5</p>
<p class="WD_scripts">&#160;&#160;&#160; generate_traps</p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">84)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do I set the values of CACHE_SIZE and DYN_INST_SIZE in config.inp?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">First, the values for CACHE_SIZE and DYN_INST_SIZE in the config.inp are the default values used when starting any map. Each map has properties associated with it (Map-&gt;Properties) In it, you can override the values&#160; in the config.inp file.&#160; So one map can have a CACHE_SIZE of 100,000 while another canhave it set to 1000.<br />
<br />
CACHE_SIZE is related to performance optimization for devices with very large var files.&#160; Lets take two cases...&#160; You have a device with 10,000 variables in the var file (roughly ten thousand lines in the var file... )&#160; and another with 100,000 variables in the var file... If the CACHE_SIZE is set to 1000, then in the first case,&#160; every 10th variable's oid and its associated offset in the var file will be saved in the cache, and for the 2nd device, every 100th variable, and its offset will saved in the cache.</font></span><span style=" font-family:'Times New Roman' ,'serif';"><br />
<br /></span><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">When a query comes in for a particular oid, a binary search is done over the CACHE, and the closest offset is determined. Then each line from the var file is read starting at that offset until it finds a match... So in the first case it has to linearly search through at most 10 entries to find a match, while for the 2nd case it has to linearly search through atmost 100 entries...&#160; So having a larger CACHE_SIZE helps in finding the match sooner (better performance).&#160; It will also have a larger memory footprint.&#160; So you are using memory to improve performance.&#160;&#160; Also, note that having a smaller CACHE_SIZE does not prevent the device with a large var file from being supported.&#160; It just will be a little slower.&#160;<br />
<br />
So my recommendation will be to reduce the default CACHE_SIZE to something like 10,000 and then if needed, on a map by map basis, increase it if you need better performance and have some memory left over.<br />
<br />
DYN_INST_SIZE is different.&#160; It determines how many new instances you can add to a device.. Lets say you have a table with 10 columns.&#160; If as part of your provisioning, you are going to add 100 new rows to this table, then you would need the DYN_INST_SIZE set to 100 * 10 = 1000.&#160; If this is not set to 1000, then the row addition WILL FAIL&#160; (if you add 100 rows and then delete 50 rows and then add 50 again, you still&#160; need to consider that you are only adding 100 new rows..) It is also a per device number.&#160; It is not for all devices.&#160; So if you had a map with 100 devices,&#160; in the above case, you do not need to set it to 1000 * 100.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">85)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> Which MIB variables are updated by the Topology Editor ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The topology editor converts the connectivity information displayed into values for MIB variables in the associated var files for the devices.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">For routers the following scalars and tables are updated:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; sysName.0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; ifNumber.0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; ifTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; atTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; ipAddrTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; ipRouteTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; ipNetToMedia</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; udpTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; If Cisco Router: cdpInterfaceTable, cdpCacheTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">For switches, the following scalars and tables are updated:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; sysName.0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; ifNumber.0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; ifTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; ipAddrTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; udpTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; dot1dBaseType.0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; dot1BridgePortTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; dot1dBaseNumPorts.0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; dot1dTpFdbTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; if Cisco Switch: cdpInterfaceTable, cdpCacheTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">For hosts, the following scalars and tables are updated:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; sysName.0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; ifNumber.0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; ifTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; atTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; ipAddrTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; ipNetToMediaTable</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; udpTable.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">86)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I am missing some libraries on 64 bit RedHat Linux when using SimpleAgentEnterprise.&#160;&#160; Where can I get them ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">A rhlib64.tar.gz is present in the usrlib directory.&#160; It contains some of the commonly required 64-bit libraries for RH Linux Enterprise v5. Also included is a script file to create symbolic links.&#160; To use it, please do the following:</font></span></p>
<p class="WD_scripts">&#160;</p>
<p style=" margin-left:1.0in;" class="WD_scripts"><br />
1) cd .../usrlib in the SAEnterprise directory<br />
2) uncompress the file:</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;&#160;&#160;&#160; gunzip rhlib64.tar.gz<br />
2) Extract the files from the resulting tar file:</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;&#160;&#160;&#160; tar xvf rhlib64.tar<br />
3) Give permission to "makelnks" script so that it can run: &#160;&#160;&#160;&#160;&#160; chmod a+x makelnks<br />
4) Create the links:</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;&#160;&#160;&#160; ./makelnks</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Please make sure that LD_LIBRARY_PATH is setup to point to this usrlib directory.&#160; In case of Bash shell, you might also have to export it. Or, for your convenience, there is a shell script in the SimpleAgentEnterprise bin directory called, “runsaent.” If you invoke this script with no parameters, it adds the LD_LIBRARY_PATH variable to your runtime environment and then calls “saent.”</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">87)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I am missing some libraries on RedHat Linux when using SimpleAgentPro.&#160; Where can I get them ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">A rhlib32.tar.gz is present in the usrlib directory.&#160; It contains some of the commonly required 32-bit libraries for RH Linux Enterprise v5. Also included is a script file to create symbolic links.&#160; To use it, please do the following:</font></span></p>
<p class="WD_scripts">&#160;</p>
<p style=" margin-left:1.0in;" class="WD_scripts"><br />
1) cd .../usrlib in the SAPro directory<br />
2) uncompress the required file:</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;&#160;&#160;&#160; gunzip rhlib32.tar.gz<br />
2) Extract the files from the resulting tar file:</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;&#160;&#160;&#160; tar xvf rhlib32.tar<br />
3) Give permission to "makelnks" script so that it can run: &#160;&#160;&#160;&#160;&#160; chmod a+x makelnks<br />
4) Create the links:</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;&#160;&#160;&#160; ./makelnks</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Please make sure that LD_LIBRARY_PATH is setup to point to this usrlib directory.&#160; In case of Bash shell, you might also have to export it. . Or, for your convenience, there is a shell script in the SimpleAgentEnterprise bin directory called, “runsapro.” If you invoke this script with no parameters, it adds the LD_LIBRARY_PATH variable to your runtime environment and then calls “sapro.”</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">88)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> My sapro process is crashing on Linux.&#160; How do I tell SimpleSoft support what is going on ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">By default, on Linux, when a process running as root abnormally terminates, there is no core dump.&#160; To enable the dumping of core, you can do the following in the shell where sapro was started.&#160; You need to do it before you start sapro.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> ulimit –c unlimited</p>
<p style=" margin-left:1.0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">When the process terminates, a core file will be created in the sapro/bin directory.&#160; It might have the process id appended to it.&#160; Look for a file called core.&lt;pid&gt; in the bin directory.&#160; Once you have located it, based on what has crashed, you can do the following:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> gdb sapro core.1234</p>
<p style=" margin-left:1.25in;" class="WD_scripts">&gt; where</p>
<p style=" margin-left:1.25in;" class="WD_scripts">&gt; quit</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The “where” command dumps out a stack trace.&#160; You can send the output of the “where” command to SimpleSoft support and it will help them understand the problem.&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">89)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> On Linux, although the libraries are present in the /opt/sapro/usrlib directory, my sapro process does not get started, complaining that it cannot find a library ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The LD_LIBRARY_PATH environment variable tells the OS where to look for additional libraries that it does not find in the usual locations.&#160; You need to set it to point to the /opt/sapro/usrlib directory.&#160; In certain shells like bash, you also need to export this environment variable, so that subsequent child processes also inherit it.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">When using bash shell:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> LD_LIBRARY_PATH=/opt/sapro/usrlib</p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> export LD_LIBRARY_PATH</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">When using csh:</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> setenv LD_LIBRARY_PATH /opt/sapro/usrlib</p>
<p style=" margin-left:1.0in;" class="WD_scripts">&#160;</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can also include the above instructions in the associated ~/.bashrc or ~/.cshrc files, so that next time you start the shell, it will already be set.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To see what what dynamic libraries your executable is using, you can use the ldd command.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> ldd sapro</p>
<p class="WD_scripts">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">90)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> My dongle is not being detected by SimpleAgentPro on Windows.&#160; What should I do ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">SimpleSoft gets the dongle and its associated driver software from a company called SafeNet Inc.&#160; You can check on their website for any updates to the dongle device drivers.&#160; Also, for Windows, they have a Sentinel Superpro Medic program, that checks if it can detect the dongle.&#160; To get it:</font></span></p>
<p class="WD_scripts">&#160;</p>
<p style=" margin-left:1.0in;" class="WD_scripts"><span style=" color:black;"><font color="black" >1) Point your internet browser to:</font></span> <a href="http://www.safenet-inc.com/support/tech/sentinel.asp">http://www.safenet-inc.com/support/tech/sentinel.asp</a><span style=" color:black;"><font color="black" ><br />
<br />
2) Click on Sentinel SuperPro<br />
<br />
3) Scroll down to "Other Downloads" and click on "Sentinel SuperPro Medic" to download the installation<br />
<br />
4) Install the Medic<br />
<br />
5) After invoking the Medic, click on the Find SuperPro button<br />
<br />
6) Under the Tools menu, select Display Session Info and notepad should open with the report. Send the report to SimpleSoft support team and we can try to assist you.</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">91)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I learnt a device using a compiled mib file that was created with just a few MIBs that the device supports.&#160; Now, I have got the other MIBs also and have created a new compiled MIB file.&#160; How do I apply the new MIB information to the previously created variable (.var) file ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can use the sapw2var utility to reconvert an existing var file.&#160; Normally, you use the sapw2var utility to convert walk files to var files.&#160; However it can also reconvert a var file, with new MIB information.&#160; You need to specify “ssvar” as the type of the input file specified.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_scripts"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> sapw2var old_var.var new_mib.cmf new_var.var ssvar</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This will use the information in the new_mib.cmf and apply it to old_var.var and create a new_var.var file.</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">92)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> What additional Linux settings are required to better support IPv6 simulation ?</p>
<p style=" margin-left:.5in;" class="WD_PlainText">You can change some system settings on your Linux box to better support IPv6 simulation.</p>
<p style=" margin-left:.5in;" class="WD_PlainText">&#160;</p>
<p style=" margin-left:.5in;" class="WD_PlainText">If you login as root and in a shell, type</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts">&gt; sysctl -A<br />
<br />
<span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">it will tell you the current configuration.&#160; It is generally set to 4K.&#160; You can change the upper limit of number of IPv6 addresses that can be added to 16K with the command:</font></span></p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts"><br />
&gt; sysctl -w net.ipv6.route.max_size=16384<br />
<br />
<br />
<span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Also to speed things up when starting addresses, you can try the following:<br />
<br />
1) Disable duplicate address detection (dad_transmits).&#160;&#160;&#160;If your network interface is called "eth0", do the following</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"><br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &gt; cat /proc/sys/net/ipv6/conf/eth0/dad_transmits<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 1<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &gt; echo "0" &gt; /proc/sys/net/ipv6/conf/eth0/dad_transmits<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &gt; cat /proc/sys/net/ipv6/conf/eth0/dad_transmits<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 0</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"><br />
2) Edit the &lt;sapro&gt;/bin/config.inp file and add the line<br />
&#160;&#160;&#160; IPSTARTDELAY=100</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">93)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I have a lot of map files that I have already created, and I now want to change the community strings for the devices in them.&#160; How do I do that ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You need to basically write a tcl script that will go through each of the maps and change the community string specified for the devices to a new one.&#160;</font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The Tcl script below, gets a list of map files in the current directory and replaces the community strings with the ones specified when the script is called. If you run the script with no parameters, it will print some help information. Basically the call looks like:<br />
<br />
ChangeCommStrings.tcl -r public1 -w private1<br />
<br />
Where:<br />
"-r string" specifies the new read community string<br />
"-w string" specifies the new read/write community string<br />
<br />
&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#!/usr/bin/tclsh</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># This script takes all the map files in the current directory and</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># changes the read and read/write community strings. Invoke this</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># script as follows:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># On Windows:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># tclsh ChangeCommStrings.tcl -r newComm1 -w newComm2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># On Unix</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># ChangeCommStrings.tcl -r newComm1 -w newComm2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Where:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160; -r&#160;&#160; Specifies the new read community string</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160; -w&#160;&#160; Specifies the new read/write community string</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># One or both of these parameters can be specified.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">##############################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Procedure Name:&#160;&#160; changeCommStrings</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Parameters:&#160;&#160;&#160;&#160;&#160;&#160; mapfile&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; File name of map file</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; readComm&#160;&#160;&#160;&#160;&#160;&#160;&#160; New read community string</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; readWriteComm&#160;&#160; New read/write community string</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Description:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># This procedure opens a map file, searches for the community strings and</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># replaces them with new ones.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">##############################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">proc changeCommStrings { mapfile readComm readWriteComm } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Open in source and destination files</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set inFile [open $mapfile "r"]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set outFile [open $mapfile.tmp "w"]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Let the user know which file we are working on</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts "Coverting community strings for $mapfile"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Loop thru the file and find the community string lines</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; while { [gets $inFile sourceLine] &gt;= 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # If the read comm string was specified, then replace the old one</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160; &#160;&#160;&#160;if { [string first ReadCommunity $sourceLine] &gt;= 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $readComm != "" } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $outFile "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ReadCommunity = \"$readComm\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $outFile $sourceLine</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # If the read/write comm string was specified, then replace the old one</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif { [string first WriteCommunity $sourceLine] &gt;= 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $readWriteComm != "" } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $outFile "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WriteCommunity = \"$readWriteComm\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $outFile $sourceLine</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Not a community string line, write it out as is</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $outFile $sourceLine</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Close the source and destination files</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; close $inFile</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; close $outFile</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Copy the temp file over the original and delete the temp file</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; file copy -force $mapfile.tmp $mapfile</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; file delete $mapfile.tmp</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">##############################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Main code begins here</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">##############################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># If no parameters are given, then print some help information</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">if { $argc == 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts "Usage: $argv0 -r newReadComm -w newReadWriteComm"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts "Where:"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts "&#160; -r newReadComm&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Specifies the new read community string"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts "&#160; -w newReadWriteComm&#160;&#160;&#160; Specifies the new read/write community string"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts "Examples:"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts "&#160; $argv0 -r public1 -w private1"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts "&#160; $argv0 -w private1"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts "&#160; $argv0 -r public1"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; exit 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Initialize the parameter parsing state</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set state flag</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Clear the new read and read/write community values</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set readComm ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set readWriteComm ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Parse the input parameters</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">foreach arg $argv {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; switch -- $state {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; flag {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; switch -- $arg {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -r&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {set state read}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -w&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; {set state readwrite}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; default&#160;&#160;&#160;&#160; {error "unknown flag $arg"}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; read {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set readComm $arg</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set state flag</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; readwrite {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set readWriteComm $arg</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set state flag</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Let the user know what we think the new values are</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">puts ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">puts "New Read Community = $readComm"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">puts "New Read/Write Community = $readWriteComm"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">puts ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Get a list of all the map files in the current directory</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set fileList [glob -nocomplain -- *.map]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Loop thru the list of map files and change the community strings for each</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">foreach mapfile $fileList {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; changeCommStrings $mapfile $readComm $readWriteComm</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Let the user know we are done</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">puts ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">puts "Done."</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">94)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I have a list of device ipaddresses along with their var files, and I want to create map files for them using a tcl script.&#160; How do I do that ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You need to basically write a tcl script that will go through the device list and for each device in the device list, it will add the devices to the map.&#160; You can also specify how many devices you want in each map, and it will break up the device list into multiple maps.&#160; The variable files for the devices are assumed to have the same naming convention (&lt;ipaddr&gt;.var).</font></span></p>
<p class="WD_scripts">&#160;</p>
<p class="WD_scripts">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">proc makemaps { ifile mapprefix maxdevs } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # set devcount</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set devcount 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set devinmap 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # set mapnameid</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set mapnameid 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # open the input file for reading</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set devlistFileId [open $ifile r]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { $devlistFileId == -1 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts "Error: Could not open input file [$ifile] for reading"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; return;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # read each line in the input (list of ips)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; while { [gets $devlistFileId ipinfo] &gt;= 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr devcount</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr devinmap</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {($devcount == 1 ) || ($devinmap &gt; $maxdevs)} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr mapnameid</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set devinmap 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$devcount != 1} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # close the old map file</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&lt;/DeviceMap&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; close $mapfileId</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # open a new map for writing</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mapfile ${mapprefix}_${mapnameid}.map</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mapfileId [open $mapfile w+]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $mapfileId == -1 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts "Error: Could not open map file [$mapfile] for writing"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&lt;DeviceMap"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160; Release = \"11.0\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160; Description = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160; UserData = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160; SetupFile = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160; Interface = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;puts $mapfileId "&#160;&#160;&#160;&#160; Separator = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160; StartInterfaceNum = \"0\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160; Username = \"mapgen\"&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # now add the device record for each line</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160; &lt;Device"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;General"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Name = \"$ipinfo\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MultiHome = \"1\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCP = \"0\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SubnetMask = \"255.255.255.0\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MacAddress = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Interface = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; UserData = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TopologyData = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DisplayTag = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ModelingFile = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160; &#160;&#160;&#160;puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Snmp"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ReadCommunity = \"public\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WriteCommunity = \"private\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MibFile = \"mib2.cmf\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AgentFile = \"${ipinfo}.var\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TrapMgr = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ResponseDelay = \"0\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpStr = \"V1V2V3\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MtuSize = \"1500\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpPort = \"161\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SecurityLevel = \"NoAuthNoPriv\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Telnet"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TelnetPort = \"23\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TelnetFile = \"${ipinfo}_telnet.tel\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Http"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; HttpDocumentRoot = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; HttpScriptRoot = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; HttpPort = \"80\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;SSH"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SSHUserName = "a1""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SSHPassword = "a1""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SSHSCPBaseDir = "/temp/2.2.2.1""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SSHVersion = "SSH-1.99-SSHSAPRO-4.3""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SSHFile = "c1538.tel""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;TL1"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TL1Port = "2180""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TL1File = "c1538.tl1""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;#puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;TFTP"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TftpRootDir = \"\\tftpboot\\${ipinfo}\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160; /&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&lt;/DeviceMap&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; close $mapfileId</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># make the call to the procedure with specifics</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">makemaps iplist tmap</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">95)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to use snmpwalk from the Net-SNMP utilities to do a MIB dump.&#160; What options should I use so that sapw2var can convert its output ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">snmpwalk from Net-SNMP does a lot of processing when generationg the walk output, based on the MIB information that it has loaded.&#160; To get the simplest form (numeric oid, type and raw value), you can try using the options:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">&#160; -ObenU</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160;&#160;&#160; b tells it output the instance component in raw mode.</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160;&#160;&#160; e tells it to output enumerated values as numbers</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160;&#160;&#160; n tells it to output oids as numbers</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160;&#160;&#160; U tells it to skip the units suffix for values</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">More info on the snmpcmd can be got at:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><br />
&#160;&#160;&#160; <a href="http://www.net-snmp.org/docs/man/snmpcmd.html">http://www.net-snmp.org/docs/man/snmpcmd.html</a></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">96)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> What is the best way to record multiple values of only those variables that my application requires.</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">When you “learn” from a real device, you get all the variables supported by the box.&#160; However your application might be interested in only a few of them. You can follow the steps given below to record multiple values for only those variables.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">First learn the entire real device using the built-in Variables-&gt;Learn from Device option, or by using sapwalk2 and then converting its output into a var file by using sapw2var.&#160;</font></span></p>
<p style=" margin-left:.75in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Create a markvars.tcl modeling file that has</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<pre style=" margin-left:1.0in;">
%init_action
</pre>
<pre style=" margin-left:1.0in;">
   # turn marking on
</pre>
<pre style=" margin-left:1.0in;">
   SA_setmarkvarsflag 1
</pre>
<pre style=" margin-left:1.0in;">
 
</pre>
<pre style=" margin-left:1.0in;">
%stop_action
</pre>
<pre style=" margin-left:1.0in;">
   #dump the accessed variables
</pre>
<pre style=" margin-left:1.0in;">
   SA_dumpgotvars vars_read.var
</pre>
<p class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Now create a device in the simulator with the newly learnt var file, and associate the markvars.tcl as its modeling file.&#160; Lets also assume that the compiled mib file used is mib2.cmf</font></span></p>
<p style=" margin-left:.75in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The run your application against the simulated device.&#160; Because of the SA_setmarkvarsflag being turned on, the device keeps track of which of its variables have been accessed.</font></span></p>
<p class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">5.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">After a while, you can stop the simulation.&#160; The stop_action in the modeling file is triggered, which will cause it to dump only those variables that have been accessed into a new file called vars_read.var.&#160; This file will be in the sapro/bin directory.</font></span></p>
<p class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">6.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can now use the sappoll utility to record multiple values from the real device for only those variables that are present in the vars_read.var file. Lets say you want to poll 20 times, every 5 mins (300 secs)</font></span></p>
<p class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&gt; sappoll -i 192.168.10.5 -v v1 -c public -t 300 -n 20 -f vars_read.var -o var_poll.pol –m ..\cmf\mib2.cmf</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">7.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">After the sappoll is run, you can combine the output of sappoll with the smaller var file to create a var file that has multiple recorded values from the real device to be given to the management application, by using the sapvfilter utility.&#160; The last “1” tells sapvfilter to use the var_poll.pol as a the csv oid filter list (with cyclic style)</font></span></p>
<p style=" margin-left:.75in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&gt; sapvfilter vars_read.var ..\var\new_var.var var_poll.pol ..\cmf\mib2.cmf 1</font></span></p>
<p style=" margin-left:.75in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">8.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Now you can change the simulated devices var file to new_var.var and the simulated device will have 20 values for each of the variables requested by the management application.&#160; If the values returned by the real device are constant, then they will be constant.</font></span></p>
<p class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">97)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to load a new var file for the device, but I want to keep the sysUpTime value moving forward without resetting.&#160; How do I do that ?</p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Following is an example script that swaps the var file every 60 secs but keeps the sysUpTime value moving forward…</font></span></p>
<p class="WD_scripts"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    # initialize the variables</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    set myFlag 1</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    set datafile "a11.var"</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    set origfile "a11.orig"</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    set newfile  "a11.new"</font></span>
</pre>
<p style=" margin-left:0in;" class="WD_scripts"><span style=" font-size:9.0pt; font-family:'Times New Roman' ,'serif';"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%timer_action  60</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"> </font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    # get the current value of sysUpTime.0</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    set varbind [SA_getvar {sysUpTime.0}]</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    set vb1 [lindex $varbind 0]</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    set val1 [lindex $vb1 2]</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"> </font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    # swap the data files in the filesystem here...</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    if {$myFlag == 1} {</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">        file copy -force $newfile  $datafile</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">        set myFlag 2</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    } else {</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">        file copy -force $origfile $datafile</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">        set myFlag 1</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    }</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"> </font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    # this tells the simulated device to reread its var file</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    SA_reloadvar</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"> </font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    # set the sysUpTime value to what it was before swap</font></span>
</pre>
<pre style=" margin-left:.5in;">
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">    SA_setvaltype [list [list sysUpTime.0 OctetString clock($val1)"]]</font></span>
</pre>
<pre style=" margin-left:1.0in;">
 
</pre>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">98)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;I want to start simulation via a script on Linux.&#160; How do I do that ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You first need to start sapns process, and then you can use sapcnsl to start the different maps.&#160; In order to wait for all the devices in the map to be started, before starting the next map, it uses a script called waitforlog which is present in the sapro/bin directory.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_script">cd /opt/sap120/sapro/bin<br />
echo "starting sapns..."<br />
./sapns 2100 0 &amp;<br />
echo "sapns started."<br />
sleep 10<br />
echo "starting sample.map..."<br />
rm -f ../log/sample.log<br />
./sapcnsl -p 2100 -m "/opt/sap120/sapro/map/sample.map" –l /opt/sap120/sapro/log/sample.log" -c start<br />
./waitforlog ../log/sample.log<br />
echo "sample.map started."<br />
echo "starting test1.map..."<br />
rm -f ../log/test1.log<br />
./sapcnsl -p 2100 -m "/opt/sap120/sapro/map/test1.map" -l "/opt/sap120/sapro/log/test1.log" -c start<br />
./waitforlog ../log/test1.log<br />
echo "test1.map started."</p>
<p style=" margin-left:1.0in;" class="WD_script">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">99)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;I am noticing that on Linux, when I stop one particular device, all the other device's IP addresses are removed from underlying tcp ip stack, while the devices still appear to be running in the GUI.</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">On Linux, the operating system treats the first address added in a subnet as a primary address and all subsequent ones as secondary.&#160; When a primary address is brought down, unless alias promotion is enabled, all secondary addresses are also brought down.&#160; To disable this "feature" in newer versions of the kernel, you can do the following:</font></span></p>
<p style=" margin-left:1.0in;" class="WD_script">&#160;</p>
<p style=" margin-left:1.0in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">1) edit the /etc/sysctl.conf and make sure that it has a line</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160;&#160;&#160;&#160; net.ipv4.conf.all.promote_secondaries = 1</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">2) to immediately change it, you can also use the sysctl</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; command to change the value</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160;&#160;&#160;&#160; sysctl -w net.ipv4.conf.all.promote_secondaries=1</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">3) you can then see the current settings by doing</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160;&#160;&#160;&#160; sysctl -a</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; and make sure that the change has taken place.</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">100)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;I want to simulate Cisco switches that support VLANs using community string indexing.&#160;&#160; Does SAPro have support&#160; for it ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">For some standard MIBs, it is assumed that only one instance of it can exist within a device.&#160;&#160; When a device supports multiple instances of a standard MIB, companies like Cisco have used a community string indexing scheme to access variables within the standard MIB.&#160; So "public" or public@1 will give access to the first instance of the standard MIB, but for additional instances, you need to use public@2 or public@vlan-5 etc to get the information.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">For supporting community string indexing within the context of the same device,</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">additional sections can be included within the variable file itself.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%csibegin &lt;oid&gt; &lt;community_id&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; list of variables</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%csiend</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The oid specifies the branch of the mib registration tree that is to be "overwritten" by the information in the %csi section for the specified community string.&#160; Currently only one branch can be overwritten.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The community_id would be the index that is appended to the original community string. In cases when the same information is available through multiple indexes (eg: 2 and vlan-2), then the community id can be "2 vlan-2".&#160; In this case, by default, if the main community string is public, then the overlayed information can be accessed by public@2 and public@vlan-2.&#160; If the community string needs to be 2@public and vlan-2, you can specify the community id as “SSN@SSM 2 vlan-2”.&#160;&#160; If the community string needs to be just “2” and “vlan-2”, you can specify the community id as “SSN@NONE 2 vlan2”.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Multiple %csibegin - %csiend sections are supported.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">For incoming SNMPv3 requests, the community strings like"2" and "vlan-2" are also automatically supported as SNMPv3 context-names, giving the information limited to the mib branch that is overwritten, as explained above.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">An example entry is shown below, where the csibegin/end section is added at the end of the variable file.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">…</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.4.1.9.9.48.1.1.1.7.9,&#160; Gauge&#160; , RO,&#160; utilization(8, 2, 12)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.4.1.9.9.48.1.1.1.7.10, Gauge&#160; , RO,&#160; utilization(8, 2, 12)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#vlan2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%csibegin 1.3.6.1.2.1.17 2 vlan-2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.2.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ,&#160;&#160; Integer,&#160; RO, fixed(3)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.3.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ,&#160;&#160; Integer,&#160; RO, fixed(2)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.4.1.1.[7-11] ,&#160;&#160; Integer,&#160; RO, fixed(1)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.4.1.2.[7-11] ,&#160;&#160; Integer,&#160; RO, fixed(1)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.4.1.3.[7-11] ,&#160;&#160; ObjectID, RO, fixed(0.0)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.4.1.4.[7-11] ,&#160;&#160; Counter,&#160; RO, randomup(0, 100)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.4.1.5.[7-11] ,&#160;&#160; Counter,&#160; RO, randomup(0, 100)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.4.3.1.1.1.4.2.[7-11].1.2,OctetString,RO,</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">indexstr(14,0,0x010402%02x0102)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.4.3.1.2.1.4.2.[7-11].1.2,Integer,RO, indexvalue(14)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.4.3.1.3.1.4.2.[7-11].1.2,Integer,RO, fixed(3)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%csiend</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#vlan3</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%csibegin 1.3.6.1.2.1.17 3 vlan-3</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.2.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ,&#160;&#160; Integer,&#160; RO, fixed(3)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.3.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ,&#160;&#160; Integer,&#160; RO, fixed(2)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.4.1.1.[7-11] ,&#160;&#160; Integer,&#160; RO, fixed(1)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.4.1.2.[7-11] ,&#160;&#160; Integer,&#160; RO, fixed(1)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.4.1.3.[7-11] ,&#160;&#160; ObjectID, RO, fixed(0.0)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.4.1.4.[7-11] ,&#160;&#160; Counter,&#160; RO, randomup(0, 100)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.1.4.1.5.[7-11] ,&#160;&#160; Counter,&#160; RO, randomup(0, 100)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.4.3.1.1.1.4.2.[7-11].1.2,OctetString,RO,</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">indexstr(14,0,0x010402%02x0102)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.4.3.1.2.1.4.2.[7-11].1.2,Integer,RO, indexvalue(14)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1.3.6.1.2.1.17.4.3.1.3.1.4.2.[7-11].1.2,Integer,RO, fixed(3)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">%csiend</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Learning vlan information</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">===================</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">When using sapwalk2 to the do the walk, if you use the</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160; -xv bridge</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">argument, then after doing a walk with "public", if it found that the device supported vlans, it will automatically do additional walks on the bridge mib with community string "public@2" etc and add the retrieved data to the end of the walk file.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The sapw2var utility will look at that and translate it to different %csibegin&#160; -- %csiend sections.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can also use a defaults rules file with the line</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; %AUTOVLANLEARN YES</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">when using the Variable-&gt;Learn from Device interface.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">101)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;I want to do telnet learning from a device that requires the user to press a key before the device sends a user name login prompt.&#160; How do I learn from such a device ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The telnet learning is tcl based.&#160; When doing telnet learning in the dialog, you can specify an "Optional Include File".&#160; This is a tcl file, in which you can specify the values of variables that can control the learning.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Having the file contain the following lines</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;.........start of prelogin.tcl..................&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; set preloginflag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; set preloginpromptchar ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160; set preloginstring "a"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&lt;.........end of prelogin.tcl..................&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">will cause the telnet learning to send a "a" string prior to waiting for the login prompt.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">102)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;How do I format my mac address differently ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can use the tcl built-in commands to reformat the mac address string.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The script below changes the associated mac address which is in a simple hex format to a displayable string.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">set myMAC [SA_getmymac]</span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">scan $myMAC {%02x%02x%02x%02x%02x%02x} a1 a2 a3 a4 a5 a6</span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">set myNewMAC [format {%02x-%02x-%02x-%02x-%02x-%02x} $a1 $a2 $a3 $a4 $a5 $a6].</span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">103)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;Does the SimpleAgentPro support the cloning of SNMPv3 users as specified in RFC3414, and if so, how is it done?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The SimpleAgentPro does support user cloning. You will have to include a modeling file to handle the SNMPv3 protocol to this. You can find a sample modeling file called, “cloneusr.tcl” in the SimpleAgentPro’s tcl directory. The following is the contents of that file:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">%init_action</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set myip [SA_getmyip]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; SA_settcldebugflag 1</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; SA_settcldebugfile tcl_${myip}.dbg</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; SA_setsnmpdebugflag 2</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; SA_setsnmpdebugfile snmp_${myip}.dbg</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set cloneUser ""</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set newAuthKey ""</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set newPrivKey ""</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; # Set up SNMP Engine ID MIB object to match the device's ID</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set myiplist [split $myip "."]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set ip1 [format "%02x" [lindex $myiplist 0]]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set ip2 [format "%02x" [lindex $myiplist 1]]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set ip3 [format "%02x" [lindex $myiplist 2]]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set ip4 [format "%02x" [lindex $myiplist 3]]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; SA_setvaltype [list [list snmpEngineID.0 OctetString "fixed(0x8000031201${ip1}${ip2}${ip3}${ip4})"]]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">proc extractUserName { oid } {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set oidList [split $oid "."]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">#&#160;&#160; Get the User Name from the index</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set engIDLen [lindex $oidList 12]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set usrIDLen [lindex $oidList [expr $engIDLen + 13]]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set usrIDIdx [expr $engIDLen + 14]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set usrName ""</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; <span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">for { set i $usrIDIdx } { $i &lt; [llength $oidList] } { incr i } {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; append usrName [format "%c" [lindex $oidList $i]]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160; }</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; return $usrName</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">}</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">proc updateV3UserProto {cloneUser instance} {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set v3UserInfo [SA_getv3userinfo $cloneUser]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set secLevel [lindex $v3UserInfo 1]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set authType [lindex $v3UserInfo 2]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; if { $secLevel == 1 } {&#160;&#160;&#160;&#160;&#160; ;# secLevel = noAuth/noPriv</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.1"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.1"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; } elseif { $secLevel == 2 } {;# secLevel = Auth/noPriv</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $authType == 1 } {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# authType = MD5</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.2"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.1"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; &#160;&#160;&#160;&#160;} else {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# authType = SHA</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.3"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.1"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; } elseif { $secLevel == 3 } {;# secLevel = Auth/Priv</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $authType == 1 } {&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;;# authType = MD5</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.2"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.2"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# authType = SHA</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.3"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.2"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; }</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; SA_setvar [list \</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; [list 1.3.6.1.6.3.15.1.2.2.1.5.$instance ObjectID $authProto] \</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; [list 1.3.6.1.6.3.15.1.2.2.1.8.$instance ObjectID $privProto]]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">}</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">%after_set_action usmUserAuthKeyChange</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set varbind [SA_getreqvb]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set curvb&#160; [lindex $varbind 0]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set curOid [lindex $curvb 0]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set newAuthKey [lindex $curvb 2]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set newUser [extractUserName $curOid]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; SA_changev3authkey $newUser $newAuthKey</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">%after_set_action usmUserPrivKeyChange</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set varbind [SA_getreqvb]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set curvb&#160; [lindex $varbind 0]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set curOid [lindex $curvb 0]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set newPrivKey [lindex $curvb 2]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set newUser [extractUserName $curOid]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; SA_changev3privkey $newUser $newPrivKey</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">%after_set_action usmUserCloneFrom</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set varbind [SA_getreqvb]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set curvb&#160; [lindex $varbind 0]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set cloneUser [extractUserName [lindex $curvb 2]]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">%after_all_set_action usmUserStatus</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set crntVB [SA_getreqvb]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; SA_puts "\nusmUserStatus = [lindex [lindex $crntVB 0] 2]\n"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set usmUserStatus &#160;[lindex [lindex $crntVB 0] 2]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; if { $usmUserStatus == 5 ||</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; $usmUserStatus == 4 } { ;# Status is create and wait</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set crntOID [lindex [lindex $crntVB 0] 0]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set instance [string range $crntOID 25 end]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set newUser [extractUserName $crntOID]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "cloneUser = \"$cloneUser\"\n"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setafterresponseid 1</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; }</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">%after_snmp_response</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; set myid [SA_getafterresponseid]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; if {$myid == 1} {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $cloneUser != ""&#160; } {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_clonev3user $cloneUser $newUser</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; updateV3UserProto $cloneUser $instance</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set cloneUser ""</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:31.5pt;" class="WD_code">&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">104)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;I want to return lexicographical errors in traversing a table.&#160; How do I do that since the var file is expected to be properly sorted ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">SimpleAgentPro expects the entries in the var file to be lexicographically sorted.&#160; To give back lexicographical errors, you have to use a modeling file..&#160; A sample modeling file is shown below.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # turn debugging off later on</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugfile oidorder.dbg</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # broken lexicographical table order to be returned</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myTable { \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; {&#160; 1.3.6.1.2.1.4.786.1.1.22088.10.45.128.48 Integer 22088 } \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; {&#160; 1.3.6.1.2.1.4.786.1.1.22094.10.45.145.20 Integer 22094 } \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; {&#160; 1.3.6.1.2.1.4.786.1.1.22065.172.17.32.5&#160; Integer 22065 } \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; {&#160; 1.3.6.1.2.1.4.786.1.2.22088.10.45.128.48 OctetString 0x010203040507 } \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; {&#160; 1.3.6.1.2.1.4.786.1.2.22094.10.45.145.20 OctetString 0x010203040508 } \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; {&#160; 1.3.6.1.2.1.4.786.1.2.22065.172.17.32.5&#160; OctetString 0x010203040506 } \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; {&#160; 1.3.6.1.2.1.4.786.1.3.22088.10.45.128.48 IpAddress 10.45.128.48 } \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; {&#160; 1.3.6.1.2.1.4.786.1.3.22094.10.45.145.20 IpAddress 10.45.145.20 } \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; {&#160; 1.3.6.1.2.1.4.786.1.3.22065.172.17.32.5&#160; IpAddress 172.17.32.5 } \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; {&#160; 1.3.6.1.2.1.4.786.1.4.22088.10.45.128.48 Integer 1 } \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; {&#160; 1.3.6.1.2.1.4.786.1.4.22094.10.45.145.20 Integer 1 } \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; {&#160; 1.3.6.1.2.1.4.786.1.4.22065.172.17.32.5&#160; Integer 1 } }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set numTableRows [llength $myTable]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># procedure to compare oids</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># return 0 if same, 1 if oid1 &gt; oid2, 2 if oid1 &lt; oid2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">proc cmp_oids { oid1 oid2 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set oid1list [split $oid1 .]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set oid1len&#160; [llength $oid1list]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set oid2list [split $oid2 .]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set oid2len&#160; [llength $oid2list]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set cmplen $oid1len</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if { $oid1len &gt; $oid2len } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set cmplen $oid2len</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; for { set i 0 } { $i &lt; $cmplen } { incr i } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set sub1 [lindex $oid1list $i]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set sub2 [lindex $oid2list $i]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $sub1 &gt; $sub2 } {&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $sub1 &lt; $sub2 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if { $oid1len == $oid2len } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; return 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if { $oid1len &gt; $oid2len } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; return 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if { $oid1len &lt; $oid2len } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; return 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># the var file has resorted table entries so that</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># SNMP get requests will work correctly.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># we just return different oids if GetNext is done</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># by overwriting the instance given by the var file</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># for all instances underneath the tableEntry..</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%getvalue_action 1.3.6.1.2.1.4.786.1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set ptype [SA_getreqpdutype]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if { $ptype == "GetNext" } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set varbind [SA_getreqvb]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set curoid&#160; [lindex [lindex $varbind 0] 0]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; for {set i 0 } {$i &lt; $numTableRows } { incr i} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set vb [lindex $myTable $i]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set vbinst [lindex $vb 0]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$vbinst == $curoid} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # found match.&#160; use the next one if possible</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i != [expr $numTableRows - 1]} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set vb [lindex $myTable [expr $i + 1]]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcuroid&#160;&#160; [lindex $vb 0]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcurtype&#160; [lindex $vb 1]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcurvalue [lindex $vb 2]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;# end of table.&#160; do real next on var</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set varbind [SA_gnextvar [list 1.3.6.1.2.1.4.786.1.5]]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcuroid&#160;&#160; [lindex [lindex $varbind 0] 0]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcurtype&#160; [lindex [lindex $varbind 0] 1]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SA_setcurvalue [lindex [lindex $varbind 0] 2]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i == $numTableRows} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # no match found ...&#160; see if next found</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; for {set i 0 } {$i &lt; $numTableRows } { incr i} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set vb [lindex $myTable $i]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set vbinst [lindex $vb 0]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set res [cmp_oids $vbinst $curoid]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $res == 1 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set vb [lindex $myTable $i]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;SA_setcuroid&#160;&#160; [lindex $vb 0]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcurtype&#160; [lindex $vb 1]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcurvalue [lindex $vb 2]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i == $numTableRows} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # no match found ...&#160; do real getnext</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set varbind [SA_gnextvar [list 1.3.6.1.2.1.4.786.1.5]]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcuroid&#160;&#160; [lindex [lindex $varbind 0] 0]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcurtype&#160; [lindex [lindex $varbind 0] 1]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcurvalue [lindex [lindex $varbind 0] 2]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">105)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;When testing, I want the simulated device to send a specific preexisting packet.&#160; How can I use the simulator to do this ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can use a simulated device within SimpleAgentPro to open up a specific UDP port, and when it receives a packet, it can respond with another packet to the original sender.&#160; To do something like this, you can use the following modeling file, where the value of spkt is the packet you want to send…</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugfile udpsend_tcl.dbg</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_asyncudpopen 5493</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_asyncudprecv myCallback</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; proc myCallback {pkt} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set sip [SA_getasyncudplastsrcip]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set sprt [SA_getasyncudplastsrcport]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set spkt 0x302c020100040…</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_asyncudpsend $sip $sprt $spkt</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%stop_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_asyncudpclose</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">106)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;It takes a long time to start devices on Windows 2008 Server and Vista. How can I speed things up ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The Windows OS seems to check to see if the added address is duplicate (duplicate address detection), each time a multihomed IP address is added.&#160; To disable this feature, you can do the following in a command prompt, dos box.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">1) netsh interface ipv4 show interface</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Find the interface number of the interface on which you are adding the multihomed IP addresses.&#160; Lets say it is 10.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">2) netsh interface ipv4 set interface 10 dadtransmits=0 store=persistent</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This will disable dad (duplicate address detection) and speed things up.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To see if the change has taken effect, you can type</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">&gt; netsh interface ipv4 show interface 10</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.75in; text-indent:-.25in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">3)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">you can also add the line IPSTARTDELAY=0 to the config.inp file.</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Stopping the following services seems to help the SAPro performance on a</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Machine running Windows Server 2008:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">Background Intelligent Transfer Serice</p>
<p style=" margin-left:.5in;" class="WD_script">CertPropSvc</p>
<p style=" margin-left:.5in;" class="WD_script">COM+ Event System</p>
<p style=" margin-left:.5in;" class="WD_script">Cryptographic Service</p>
<p style=" margin-left:.5in;" class="WD_script">DNSCache</p>
<p style=" margin-left:.5in;" class="WD_script">Function Discovery Resource Publication</p>
<p style=" margin-left:.5in;" class="WD_script">IP Helper</p>
<p style=" margin-left:.5in;" class="WD_script">IPSec Policy Agent</p>
<p style=" margin-left:.5in;" class="WD_script">KtmRm for Distributed Transaction Coordinator</p>
<p style=" margin-left:.5in;" class="WD_script">Print Spooler</p>
<p style=" margin-left:.5in;" class="WD_script">TCP/IP NetBIOS Helper</p>
<p style=" margin-left:.5in;" class="WD_script">Server</p>
<p style=" margin-left:.5in;" class="WD_script">Windows Remote Management</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Also, the following services are only require while the server is booting. Enter the following commands in the Startup folder to stop these services onceyou login in:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">net stop netprofm</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">net stop nlasvc</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">107)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;Sometimes the Map Clone feature does not allow me to change all the things I want changed in the cloned maps.&#160; Is there an alternate way ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can use a tcl script to create the map files on your own.&#160; A sample tcl script is given below. You can put in the sapro/bin directory and then run it by using the command “saptclsh makeownmaps.tcl”</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">##############################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># procedure to increment ip</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">##############################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">proc increment_ip { ip } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set ipsublist [split $ip .]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set num [llength $ipsublist]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set newip ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if {$num == 4} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set i1 [lindex $ipsublist 0]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set i2 [lindex $ipsublist 1]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set i3 [lindex $ipsublist 2]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set i4 [lindex $ipsublist 3]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr i4</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # skip x.x.x.255 and x.x.x.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i4 &gt;= 255} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set i4 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr i3</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i3 &gt; 255} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set i3 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr i2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i2 &gt; 255 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set i2 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr i1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set newip "$i1.$i2.$i3.$i4"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; } elseif {$num == 3} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set i1 [lindex $ipsublist 0]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set i2 [lindex $ipsublist 1]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set i3 [lindex $ipsublist 2]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr i3</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i3 &gt; 255} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set i3 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr i2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i2 &gt; 255 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set i2 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr i1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set newip "$i1.$i2.$i3"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; return $newip</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">##############################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># procedure to increment macs</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">##############################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">proc increment_mac { mac } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # address is like 010203040506</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set m1 0; set m2 0; set m3 0; set m4 0; set m5 0; set m6 0;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set ret [scan [string range $mac 0 1] "%02x" m1]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set ret [scan [string range $mac 2 3] "%02x" m2]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set ret [scan [string range $mac 4 5] "%02x" m3]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set ret [scan [string range $mac 6 7] "%02x" m4]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set ret [scan [string range $mac 8 9] "%02x" m5]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set ret [scan [string range $mac 10 11] "%02x" m6]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr m6</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if {$m6 &gt; 255} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set m6 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr m5</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$m5 &gt; 255} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set m5 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr m4</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$m4 &gt; 255} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set m4 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr m3</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$m3 &gt; 255} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set m3 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr m2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if {$m2 &gt; 255} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set m2 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr m1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set newmac [format "%02x%02x%02x%02x%02x%02x" $m1 $m2 $m3 $m4 $m5 $m6]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; return $newmac</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">##############################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># procedure to make maps with cloned devices</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">##############################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">proc makebigmap { mapname dcount } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set devip 10.9.8.0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set mac&#160;&#160; 010203040505</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # open a new map for writing</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set mapfile $mapname.map</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set mapfileId [open $mapfile w+]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if { $mapfileId == -1 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts "Error: Could not open map file [$mapfile] for writing"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; return;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; puts $mapfileId "&lt;DeviceMap"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; Release = \"11.0\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; Description = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; UserData = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; SetupFile = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; Interface = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; Separator = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; StartInterfaceNum = \"0\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; Username = \"mapgen\"&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; for {set i 0} { $i &lt; $dcount } { incr i} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set newip [increment_ip $devip]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set newmac [increment_mac $mac]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set devip $newip</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mac&#160;&#160; $newmac</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; # set up the var, cmf and modeling files</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set agfile "dev1.var"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set cmfile "mib2.cmf"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mfile&#160; ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # now add the device record for each line</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; &lt;Device"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;General"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Name = \"$devip\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MultiHome = \"1\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCP = \"0\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SubnetMask = \"255.255.255.0\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MacAddress = \"$mac\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Interface = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; UserData = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TopologyData = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;DisplayTag = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ModelingFile = \"$mfile\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Snmp"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ReadCommunity = \"public\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WriteCommunity = \"private\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MibFile = \"$cmfile\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AgentFile = \"$agfile\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TrapMgr = \"\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ResponseDelay = \"0\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpStr = \"V1V2V3\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MtuSize = \"1500\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpPort = \"161\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SecurityLevel = \"NoAuthNoPriv\""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; /&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; puts $mapfileId "&lt;/DeviceMap&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; close $mapfileId</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># make the call to the procedure with specifics</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">makebigmap mymap 50</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">108)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> I want to use community string based indexing sections, but my community strings do not follow the public@&lt;vlan_id&gt; format.</p>
<p style=" margin-left:.5in;" class="WD_Normal">Ver 15.5 has added support for different community string formats.&#160;&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">Normally if you specify&#160;&#160;&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160; %csibegin 1.3.6.1.2.1.17 2 vlan-2</p>
<p style=" margin-left:.5in;" class="WD_Normal">By default it will append the community strings specified(2 and vlan-2) on the csibegin line to read_community string associated with the device using the @ character.(eg public@2, public@vlan-2)</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">But if you specify</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; %csibegin 1.3.6.1.2.1.17 SSN@NONE slot1 slot1_i</p>
<p style=" margin-left:.5in;" class="WD_Normal">It will interpret the special SSN@NONE string to indicate that it needs to use the community strings that follow (slot1 and slot1_i) as they are without appending them to the read_community string associated with the device. (eg slot1, slot1_i)</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">And if you specify</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; %csibegin 1.3.6.1.2.1.17 SSN@SSM 2 vlan-2</p>
<p style=" margin-left:.5in;" class="WD_Normal">It will interpret the special SSN@SSM string to indicate that it needs to reverse the appending rules and append the read_community string associated with the device to the community strings that follow (slot1 and slot1_i) resulting in (2@public, vlan-2@public)</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">109)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to support the “—More—“ processing in my telnet responses. How do I that ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can do this in multiple ways.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Method 1:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can display the first page and then go into raw mode, and then handle the remaining part in the default_cmd_action section.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set cmdFlag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set sectionFlag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># processing of "show bigoutput" command</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action&#160; show bigoutput</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "line1..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "line2..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "........"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "--More--"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setcmdprompt ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_resetinputbuffer</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setrawmode 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set cmdFlag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set sectionFlag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># default action processig for raw mode</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%default_cmd_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set ibuf [SA_telnet_getrawcommand]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_debugputs $ibuf</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; if {$cmdFlag == 1} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; # look for space char (20)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; if {[string first "20" $ibuf] != -1} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$sectionFlag == 1} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "line11..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "line12..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SA_telnet_puts "........"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "--More--"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_resetinputbuffer</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set sectionFlag 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$sectionFlag == 2} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "line21..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "line22..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "endofinfo.."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_resetinputbuffer</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setrawmode 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt $cmdPrompt</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts -nonewline $cmdPrompt</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set cmdFlag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set sectionFlag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Method 2:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">If the information you wanted to display was to come from a file, you could use a variation of method1 to do so as shown below.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set cmdFlag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set sectionFlag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set count 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set maxlines 3</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># processing of "show bigout" command</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action&#160; show bigoutput</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set fileid [open "../bin/telout" r]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set count 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set filenotread 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; while { $filenotread } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; incr count</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160; &#160;&#160;if {$count &lt;= $maxlines} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { [gets $fileid line] &gt;=0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts $line</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set filenotread 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; close $fileid</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "--More--"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_resetinputbuffer</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setrawmode 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set cmdFlag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># default action processig for raw mode</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%default_cmd_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; if {$cmdFlag == 1} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set ibuf [SA_telnet_getrawcommand]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; # look for space char (20)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; if {[string first "20" $ibuf] != -1} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # continue reading the file</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set count 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set filenotread 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; while { $filenotread } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;incr count</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$count &lt;= $maxlines} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { [gets $fileid line] &gt;=0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts $line</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set filenotread 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_resetinputbuffer</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setrawmode 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt $cmdPrompt</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts -nonewline $cmdPrompt</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set cmdFlag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; close $fileid</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "--More--"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_resetinputbuffer</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; break</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Method 3:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">In Version 15.5 a new telnet command called SA_telnet_waitforchars has been added to facilitate the processing of such commands in the command action itself, without having to switch to raw mode.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># processing of "show bigoutput" command</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action&#160; show bigoutput</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "line1..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "line2..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "........"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "--More--"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set ichars [SA_telnet_waitforchars]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_debugputs $ichars</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; if {[string first "20" $ichars] != -1} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "line11..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "line12..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "........"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "--More--"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set ichars [SA_telnet_waitforchars]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; if {[string first "20" $ichars] != -1} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "line21..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "line22..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;SA_telnet_puts "endofinfo"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">110)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to save some configuration changes during one telnet session and then use the new values in a subsequent telnet session. How do I that ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To keep data across multiple telnet sessions, you will have to store that data in a file and read that data at initialization time.&#160; If the file is not present, you can use some default data.&#160; The section describes one way of doing this.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; # now look for a file with updated values if present</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set fid [file exists "${myIP}_upval.tcl"]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; if {$fid == 0} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; # no file present. set the default value of the variables</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set EW_name "startingname"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; # file is present, source it, which will set the variable values</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; source "${myIP}_upval.tcl"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># processing of "show info" command</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action&#160; show info</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "energywise name $EW_name"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># processing of "energywise name" command</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action energywise name</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set EW_name $SAtcmd(2)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "energywise name changed to $EW_name"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; # also save the info in the file</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set fileId [open "${myIP}_upval.tcl" a]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; puts $fileId "set EW_name $EW_name"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; close $fileId</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">111)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> When I try to start SimpleAgentPro on Linux CentOS, I got the following error: “./sapro: error while loading shared libraries: libqt-mt.so.3: cannot open shared object file: No such file or directory”.&#160; The error happens even LD_LIBRARY_PATH is set correctly to /opt/sapro/usrlib</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Instead of setting LD_LIBRARY_PATH to /opt/sapro/usrlib, you can create a symbolic link to the libqt-mt library in the default directory, like /usr/lib.&#160; The loader will be looking there by default and then there will be no need to add other directories to the search path, like what LD_LIBRARY_PATH does.&#160; To do this you can, as user root, add a symbolic link in /usr/lib to the libqt-mt.so.3.1.1 library in the /opt/sapro/usrlib directory.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&gt;cd /usr/lib</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&gt;ln –s /opt/sapro/usrlib/libqt-mt.so.3.1.1 libqt-mt.so.3</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Now go to the /usr/sapro/bin directory and use ldd on sapro to see if the linker can find the library.&#160; (Note that you will still need to make sure that the setuid bit is set on sapro, sapns, and sathrd because they need to run as root)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">112)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> How do I disable the local telnet on my Linux box where I have installed SAPro, so that I can connect to the simulated device’s telnet server ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">If the local telnet server is running, it will bind to port 23 on all the IP addresses, thus preventing the telnet servers inside the simulated devices from accepting the connections.&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To stop the local telnet on RedHat linux box, you can do the following</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">1)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">Go to the /etc/xinetd.d directory</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">2)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">Look for a file called “*telnet*</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">3)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">Edit this file and change “disable = no” to “disable = yes”.</font></span></p>
<p style=" margin-left:1.25in; text-indent:-.25in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">4)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">Restart the xinetd sevice by saying “service xinetd restart” or send kill –HUP &lt;to_the_pid_of_xinetd&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">113)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> My device supports many levels of exit, where the command prompt keeps changing.&#160; How do I do that ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You have to keep tabs of the levels that you descend and then pop the stack with each exit until you come to the topmost level where an exit will close the connection.&#160; The section describes one way of doing this.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set snmpsysname “Router101”</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set cmdlevel 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set cmdprompt($cmdlevel) "${snmpsysname}&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># processing additional login</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action&#160; enable</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setaddloginmode 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># processing additional login</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action&#160; en</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setaddloginmode 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># doing action after the additional login is successful</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%after_addlogin_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; # change the prompt to have a #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setcmdprompt&#160; "${snmpsysname}#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; incr cmdlevel</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set cmdprompt($cmdlevel) "${snmpsysname}#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># processing exit from enabled mode</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action&#160; disable</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; # change the prompt to have a &gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setcmdprompt&#160; "${snmpsysname}&gt;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set cmdlevel 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># processing config t</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action&#160; config t</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Enter configuration commands, one per line. End with CNTL/Z."</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setcmdprompt&#160; "${snmpsysname}(config)#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; incr cmdlevel</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set cmdprompt($cmdlevel) "$snmpsysname}(config)#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># processing line vty</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action&#160; line vty 0 4</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setcmdprompt&#160; "${snmpsysname}(config-line)#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; incr cmdlevel</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set cmdprompt($cmdlevel) "${snmpsysname}(config-line)#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action&#160; exit</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; if {$cmdlevel == 0} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_closeconnection</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr cmdlevel -1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt $cmdprompt($cmdlevel)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">114)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I have created a large map that I want to breakup into smaller maps using a script.&#160; How do I do that ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can use tcl to read the original file and then break it up into smaller maps as shown below.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">proc opt_map { mapname prefix dcount } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # open the input file</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set ifileid [open $mapname r]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set mid 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # create the first output file</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set ofileid [open ${prefix}_${mid}.map w]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # set the current device count to 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set ccount 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set startinfo ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set gotfirst 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; while {[gets $ifileid line] &gt;= 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # read each line</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # look for the "&lt;Device" tag</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {([string first "&lt;Device" $line] != -1) &amp;&amp;&#160; \</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ([string first "&lt;DeviceMap" $line] == -1)} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # mark when you get the first one</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$gotfirst == 0} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set gotfirst 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # increment the count and see if it exceeds mapcount</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr ccount</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$ccount &gt; $dcount} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # need to create a new map</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # first close the old one and terminate it</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $ofileid "&lt;/DeviceMap&gt;\n"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; close $ofileid</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # reset the current device count</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ccount 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr mid</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # open a new map</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ofileid [open ${prefix}_${mid}.map w]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # put the beginning stuff</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $ofileid $startinfo</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $ofileid $line</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # still the old map, add the line</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $ofileid $line</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;} else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # put the line in the current output map</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $ofileid $line</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # collect the beginning stuff that is common</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$gotfirst == 0} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160; if {$startinfo != ""} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append startinfo "\n"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append startinfo $line</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; close $ofileid</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; close $ifileid</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># call the proc for your setup..</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># first arugment is the map you want to breakup</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># second argument is the prefix</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># third argument is num devices in a map</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">opt_map ../map/test11.map ../map/tt 50</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">115)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> In my telnet interaction, I have to process a command as a result of which the device asks me to verify various fields and then does a tfpt put.&#160; How do I add support for this ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can enable the tftp client commands within the telnet tcl interpretor and then use the default_cmd_action section for processing subsequent prompts as shown below..</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; # add tftp client commands to telnet interpretor</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_addtftpclientcmds</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set cmdPrompt “&gt;”</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set tftp_cmd_flag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># response handler for&#160; copy flash</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#&#160;&#160; ex:copy flash:aa.bin tftp://10.104.240.121/aa.bin</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action copy flash***</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set localtftpinfo $SAtcmd(1)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set remotetftpinfo $SAtcmd(2)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # extract the local pieces</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set locallist [split $localtftpinfo :]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set lfile [lindex $locallist end]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # extract the remote tftp pieces</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set complist [split $remotetftpinfo /]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set complen [llength $complist]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set tftpip [lindex $complist [expr $complen -2]]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set tftpfile [lindex $complist end]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # set the command prompt</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt "Address or name of remote host \[$tftpip\]?"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set tftp_cmd_flag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#action invoked when no corresponding command found</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%default_cmd_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if {$tftp_cmd_flag != 0} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # copy flash tftp</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$tftp_cmd_flag == 1} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if [info exists SAtcmd(0)] {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tftpip $SAtcmd(0)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt "Destination filename \[$tftpfile\]? "</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tftp_cmd_flag 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$tftp_cmd_flag == 2} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if [info exists SAtcmd(0)] {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tftpfile $SAtcmd(0)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "$tftpfile !!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;# do an actual tftp put</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; catch { SA_tftpput -h $tftpip -local $lfile -remote $tftpfile } res</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts $res</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tftp_cmd_flag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # changed command prompt back to original</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt&#160; $cmdPrompt</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">116)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> In my telnet interaction, I want to simulate the rebooting of a device.&#160;&#160; How do I add support for this ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To simulate a reboot of the box, you have to stop responding to pings, wait for a certain amount of time and then start responding again.&#160; For doing this, you can send a message to yourself and then close the telnet session, as shown below.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; ..</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">%cmd_action reboot</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160; SA_telnet_puts "rebooting device"</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160; SA_sleep 1000</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160; SA_telnet_puts ".."</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160; SA_partialreset1&#160; "SA_sleep 5000; SA_partialreset2"</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160; SA_telnet_closeconnection</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">117)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to make a random device in my map send a random trap.&#160; How do I add support for this ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can use a setup file to randomly select a device and then have it randomly send a trap from a previously defined set.&#160; A sample setup file is shown below.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%MAPTCLSCRIPT</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># I want to send a random trap from a random device</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># every 10 seconds.&#160; How do I do that ?</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # turn debugging on to make sure the script is working</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # once it is OK, you can turn it off</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugfile random_trap_tcl.dbg</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # get list of devices in the map</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set deviceList [SA_getdevicelist]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set numdevices [llength $deviceList]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; foreach devname $deviceList {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # set who you want the traps to go to</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext $devname</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_settrapmgrs 192.168.100.52</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext $devname</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># this will cause the following code to be evaluated</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># every 10 seconds... You can change 10 to another number</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%timer_action 10</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # generate a random number between 0 and numdevices</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set devnum [expr int([expr rand()] * $numdevices)]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # loop through the list and make the device whose index</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # matches the random number generated above, send a</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # random trap</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set curdev 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; foreach devname $deviceList {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; # check if current device is the same as random number</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; if {$curdev == $devnum} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # lock the device context</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext $devname</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # generate a random number between 0 and 4</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set trapnum [expr int([expr rand()] * 5)]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # this will determine which trap to send</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$trapnum == 0} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send trap 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 6 51 }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;} elseif {$trapnum == 1} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send trap 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 6 52 }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$trapnum == 2} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send trap 3</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;SA_sendtrap { 1.2.3 6 53 }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$trapnum == 3} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send trap 4</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 6 54 }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$trapnum == 4} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # send trap 5</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_sendtrap { 1.2.3 6 55 }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # release the device context</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_releasedevcontext</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; # done with for loop</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; break</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; incr curdev</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">118)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do I manually add sapns as a service on Linux ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The installation script should have already created a file called "saprod" in the /etc/init.d directory.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can edit this file and make sure that the paths in it are correct.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Please make sure you are logged in as root prior to running the commands given below.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To install this service use the command</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160; &gt; chkconfig --add saprod</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To start this service</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160; &gt; service saprod start</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To stop this service</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160; &gt; service saprod stop</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To uninstall this service</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160; &gt; service saprod stop</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160; &gt; chkconfig --del saprod</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To restart the service</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160; &gt; service saprod restart</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To check the status of the service</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160; &gt; service saprod status</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">119)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> How do I have the saptftpd service start automatically on LInux?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">The installation script should have already created a file called "saprotftprod" in the /etc/init.d directory. If&#160; it is not present, you can use saprod as a basis to create a similar file, where the name of the program is changed to saptftpd instead of sapns with no arguments.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To install this service use the command</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160; &gt; chkconfig --add saprotftpd</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To start this service without a reboot</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160; &gt; service saprotftpd start</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">120)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> When I try to start sample.map for the first time, it does not start and I get a red “X” next to the device on Windows.&#160; What do I do ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">You can follow the instructions below to see if they help.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1) Look into sample.log file for the reasons.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Click on the "Edit Log file" tool bar icon or view the file.&#160; The file will be present in the SimpleAgentPro\log directory.&#160;&#160; Inside it, towards the end, you will see the reason why the&#160; SimpleAgentPro is unable to start the devices. Typical reasons&#160; for failure are invalid license keys, cannot add the multi-homed address, or cannot bind to port 161.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">2) Make sure you are running with Administrative priviledges.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Since SimpleAgentPro adds IP addresses to the underlying TCP/IP stack, it needs admin priviledges to run. Check if you are logged in as Administrator or if your user profile has administrative priviledges.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;Operating Systems like Windows Vista/Windows 7 also have very stringent security features built into the operating system.&#160;&#160; To make sure that you are running with Admin priviledges, you can open the Windows Explorer and navigate to the SimpleAgentPro’s bin directory, right mouse click on the SimpleAgentPro application,click on the Compatibility tab, select “Run this program as an Administrator,” and press the OK button to save the setting.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Do the same for the “sathrd.exe” and “sapns.exe” executables.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">3) Check if you have SNMP service running.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To find this out, you can use Settings-&gt;Control Panel-&gt;Services. Stop the service if running, as it will have bound to port 161for "all" IPs, preventing SimpleAgentPro for binding. You can also run "netstat –an" in a DOS box and look for 161 amongst the open ports. SNMP trap service should also be stopped if running. Usually, if you see an error code of 10048 in the map.log file, then that would point to this type of a problem.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">4) Check if SimpleAgentPro is adding IP addresses to the correct interface.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;Do you have multiple network interfaces? Check this by running the “msifconf.exe” program in the SimpleAgentPro\bin directory.&#160; SimpleAgentPro will try to add addresses to the first card it finds.&#160; If this is not the correct interface card to add addresses to, you can specify the interface by either specifying the description string or index value associated with the interface in the output of the</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;msifconf program. For specifying the index value, you have to use the string “INDEX=12345…” where 12345.. is the index number in the output of the msifconf program. Then edit the config.inp file in the SimpleAgentPro\bin directory and add the line “INTERFACE=INDEX=12345”,&#160; at the end of the file, and SimpleAgentPro will then add the addresses to that interface. You can determine the correct interface to use, by also running "ipconfig" and identifying the mac address of the interface you want to use that has a TCP/IP stack. Then find the corresponding interface in the msifconf output and determine the index value for it. Usually, if you see an error code of 10049 in the map.log file, then that would point to this type of a problem.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">5) Do you have a anti-virus software running on the PC.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Sometimes, anti-virus software will not allow SimpleAgentPro to&#160; run and add addresses. First disable it temporarily and see if SimpleAgentPro can function correctly. If it can, then it might be related to the anti-virus.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">If this does not help, run the getdiags script which will create file called sysdiag.info in the SimpleAgentPro\bin directory. Send the sysdiag.info file as an email attachment to support@simplesoft.com and describe your problem, and the support department at SimpleSoft will assist you.</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">121)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I am noticing that on Linux, when I start large number of devices, when the devices support telnet/ssh etc, sometimes we get errors indicating that the system cannot fork any more processes.</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">On Linux, the system configuration needs to be tweaked to allow large number of processes/threads to get started by a user.&#160; Some of the changes on RedHat system that assist in this is the following:</font></span></p>
<p style=" margin-left:1.0in;" class="WD_script">&#160;</p>
<p style=" margin-left:1.0in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">1) edit the /etc/sysctl.conf and make sure that it has a line</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160;&#160;&#160;&#160; kernel.pid_max = 4194303</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">2) to immediately change it, you can also use the sysctl</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; command to change the value</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160;&#160;&#160;&#160; sysctl -w kernel.pid_max=4194303</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;</p>
<p style=" margin-left:.5in;" class="WD_script">3) you can then see the current settings by doing</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160;&#160;&#160;&#160;&#160; sysctl -a</p>
<p style=" margin-left:.5in;" class="WD_script">&#160;&#160; and make sure that the change has taken place.</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">122)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to simulate snmp retrieval on a network with variable load causing the snmp responses to get delayed by random intervals.&#160; How do I do that ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">From SAPro version 16.0 onwards, support has been added to specify a range of snmp delays instead of just one fixed number.&#160; The SA_snmpdelay accepts both a number like 1000 (to delay each SNMP response by 1000 milliseconds), or a string like “0,1000” to specify that SAPro generate a random number between 0 and 1000 for each request, and delay the response by that amount.&#160; When defining the device, in the device properties field, you can also specify a string like 0,1000 instead of just one number as before.</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">123)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to remember the state of a variable in a telnet session, across multiple login/logouts, but I do not want to save the state in a file.&#160; Is there a way where I can save the state in the device memory to make things faster ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">From SAPro version 16.0 onwards, support has been added for three new tcl commands:&#160; SA_telnet_cleardevstring, SA_telnet_getdevstring and SA_telnet_appenddevstring.&#160; These commands allow you to save states in memory.&#160; A simple example of a telnet modeling file using these commands is shown below.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; ……</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; #initialize the variable</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set myState initial</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; #now evaluate the string in memory which will update the value</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; eval [SA_telnet_getdevstring]</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># handle commands like “set mystate abcd” by changing the value</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># and also saving the state in memory for subsequent sessions</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action set mystate</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set myState $SAtcmd(2)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "My current state is set to $myState"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_appenddevstring "set myState $myState;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action get mystate</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "My current state is $myState"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">124)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> My Windows PC has multiple interfaces.&#160; I want to run SAPro so that it uses one of the interfaces for its processes, while the other interface could come and go.&#160; How do I tell SAPro which interface it should use, not just for adding multihomed IP addresses, but for other processes like sapns, license server connections etc…</p>
<p style=" margin-left:.5in;" class="WD_Normal">To change the order of the interfaces used in determining the IP address of a windows machine when using the gethostbyname call, you can do the following:</p>
<p style=" margin-left:.5in;" class="WD_Normal"><b>Step1:</b></p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">Depending on the Windows OS:</p>
<p style=" margin-left:.5in;" class="WD_Normal">Right-click the <b>My Network Places</b> icon and choose <b>Properties</b>.</p>
<p style=" margin-left:.5in;" class="WD_Normal">Or <b>Control Panel</b> icon, then choose <b>Network Connections.<br /></b> Or <b>All Programs</b> then choose <b>Accessories</b> then <b>Communications</b> then select <b>Network Connections</b>.</p>
<p style=" margin-left:.5in;" class="WD_Normal">Or <b>Control Panel</b> icon, then choose <b>Network and Internet</b>, then go to <b>Network and Sharing Center</b>, then in the left pane select <b>Manage network connections</b></p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">You should see a similar Network Connections screen as shown below.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><img border="0" width="624" height="466" src="pro_205_files/image215.jpg" alt="netcon1.bmp" /></p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"><b>Step2:</b></p>
<p style=" margin-left:.5in;" class="WD_Normal">From the menu of the Network Connections window, choose <b>Advanced &gt; Advanced Settings</b> as shown in the figure above.</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"><b>Step3:</b></p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">On the Adapter and Binding tabs, in the Connections area, ensure that the primary NIC is listed first.&#160; If it is not then highlight the Primary NIC (the one that is going to stay) and use the up arrow on the right hand side to move the primary NIC to the top.</p>
<p class="WD_Normal">&#160;</p>
<p align="center" style=" text-align:center;" class="WD_Normal"><img border="0" width="400" height="443" src="pro_205_files/image217.jpg" alt="netcon2.bmp" /></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p style=" margin-left:.5in;" class="WD_Normal"><b>Step4:</b></p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">Run the getmyip program and see if it consistently gives the IP that you want, with and without the interface that would be enabled/disabled.</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">125)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> When I try to start the map on Windows, I get a red x on the device and when I look into the &lt;mapname&gt;.log file , I see that <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">WSAGetLastError returned code 10049.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">If you have multiple interfaces on your PC, perhaps SAPro is trying to add multihomed IP addresses on the wrong interface.&#160; You can specify the interface to have SAPro add addresses to by doing the following:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">1) Open a dos command prompt.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">2) CD to SimpleAgentPro/bin directory (where you installed sapro..)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">3) run "msifconf"</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">4) The output will look something like</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">Index:&#160;&#160;&#160;&#160;&#160;&#160; 1</span></p>
<p style=" margin-left:1.0in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">Description: MS TCP Loopback interface</span></p>
<p style=" margin-left:1.0in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">Type:&#160;&#160;&#160;&#160;&#160;&#160;&#160; 24</span></p>
<p style=" margin-left:1.0in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">PhysAddress: 00 00 00 00 00 00</span></p>
<p style=" margin-left:1.0in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">OperStatus : 5</span></p>
<p style=" margin-left:1.0in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p style=" margin-left:1.0in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">Index:&#160;&#160;&#160;&#160;&#160;&#160; 2007</span></p>
<p style=" margin-left:1.0in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">Description: Intel(R) PRO/100 VE Network Connection - Packet Scheduler Miniport</span></p>
<p style=" margin-left:1.0in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">Type:&#160;&#160;&#160;&#160;&#160;&#160;&#160; 6</span></p>
<p style=" margin-left:1.0in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">PhysAddress: 00 12 20 1b 53 19</span></p>
<p style=" margin-left:1.0in;" class="WD_script"><span style=" font-family:'Times New Roman' ,'serif';">OperStatus : 5</span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">5) Choose the interface that is valid for you..&#160; Lets say it is the second interface with index 2007...</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">6) Edit the config.inp file in the sapro/bin directory and specify</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">INTERFACE=INDEX=2007</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">(replace 2007 with the value of index that is correct for you)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">7) Then restart sapro and they try to start your map once again...</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">126)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> When simulating IPv6 devices on Windows 2008 Server, I get a red x and it also takes a long time to start.&#160; How can I speed things up ?</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">In the case of IPv6,&#160; just like we determined the interface index to add addresses to in the earlier FAQ (125), you need to add a separate line to the config.inp with that information. (in addition to say the INTERFACE=INDEX=10)</font></span></p>
<p style=" margin-left:.5in; text-indent:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">IPV6IPINDEX=10</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (replace 10 or 2007 with the value of index that is correct for you)</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">As for IPv4, for IPv6 also, the Windows OS seems to check to see if the added address is duplicate (duplicate address detection), each time a multihomed IP address is added.&#160; To disable this feature, you can do the following in a command prompt, dos box.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">1) netsh interface ipv6 show interface</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Find the interface number of the interface on which you are adding the multihomed IP addresses.&#160; Lets say it is 10.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">2) netsh interface ipv6 set interface 10 dadtransmits=0</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">This will disable dad (duplicate address detection) and speed things up.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">To see if the change has taken effect, you can type</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">&gt; netsh interface ipv6 show interface 10</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">you can also add the line IPSTARTDELAY=250 to the config.inp file.</font></span></p>
<p class="WD_script"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Stopping the following services seems to help the SAPro performance on a</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Machine running Windows Server 2008:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script">Background Intelligent Transfer Serice</p>
<p style=" margin-left:.5in;" class="WD_script">CertPropSvc</p>
<p style=" margin-left:.5in;" class="WD_script">COM+ Event System</p>
<p style=" margin-left:.5in;" class="WD_script">Cryptographic Service</p>
<p style=" margin-left:.5in;" class="WD_script">DNSCache</p>
<p style=" margin-left:.5in;" class="WD_script">Function Discovery Resource Publication</p>
<p style=" margin-left:.5in;" class="WD_script">IP Helper</p>
<p style=" margin-left:.5in;" class="WD_script">IPSec Policy Agent</p>
<p style=" margin-left:.5in;" class="WD_script">KtmRm for Distributed Transaction Coordinator</p>
<p style=" margin-left:.5in;" class="WD_script">Print Spooler</p>
<p style=" margin-left:.5in;" class="WD_script">TCP/IP NetBIOS Helper</p>
<p style=" margin-left:.5in;" class="WD_script">Server</p>
<p style=" margin-left:.5in;" class="WD_script">Windows Remote Management</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Also, the following services are only require while the server is booting. Enter the following commands in the Startup folder to stop these services onceyou login in:</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">net stop netprofm</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">net stop nlasvc</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">127)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> When I try to start sapro/saent on Linux, I get an error message that it has trouble loading a shared library like libqt-mt.so.3…</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Some of the shared libraries that SAPro uses are present in the &lt;sapro&gt;/usrlib directory.&#160; You need to tell the shell from where you are executing the sapro/saent program that it needs to also look at the usrlib directory for missing shared library files.&#160; To do that, you need to set the LD_LIBRARY_PATH environment variable and export it.&#160; If you are using the bash shell, you can edit the .bashrc file as shown below…</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">In the .bashrc file on the machine where the sapro is installed enter the following commands:</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">LD_LIBRARY_ PATH=&lt;sapro installation dir&gt;/sapro/usrlib</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">export LD_LIBRARY_PATH</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&lt;sapro installation dir&gt; is the directory where the sapro is installed (typically in /opt/sapro).</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">If you install SAPro/SAent on CentOS Linux, you may have to create a symbolic link to the libqt-mt library into a default directory, like /usr/lib. The loader will be looking there by default and then there will be no need to add other directories to the search path, like what LD_LIBRARY_PATH does.</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">To do this you can, as user root, add a symbolic link in /usr/lib to the libqt-mt.so.3.1.1 library in /opt/sapro/usrlib:</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">cd /usr/lib</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">ln -s /opt/sapro/usrlib/libqt-mt.so.3.1.1 libqt-mt.so.3</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">Now go to /usr/sapro/bin and use ldd on sapro to see if the linker can find the library. Note that you will still need to make sure that the setuid bit is set on sapro, sapns, and sathrd, because they need to run as root.</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">128)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> When running a telnet simulation, I want to simulate a device that support command completion (typing a ? shows the options available).&#160; I also want to support multiple levels of “exit” depending on what commands have been entered before.</p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">SAPro telnet simulator normally only processes commands once the carriage return has been received.&#160; In case of command completion, it needs to process the command once the ? character has been entered without needing to wait for the carriage return as is done in Cisco IOS.&#160; The following telnet modeling file shows how to enable it in init_action, and it also shows how to keep a exit state on a stack that gets popped when the exit command is entered causing the command prompt to change.</font></span></p>
<p style=" margin-left:.5in;" class="WD_script"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; …</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; set cmdPrompt "MY_DEVICE&gt;"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setcmdprompt&#160; $cmdPrompt</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; set exit_level 0</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; # set command completion flag</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setcmdcompflag 1</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;"># processing additional login</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%cmd_action&#160; enable</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setaddloginmode 2</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;"># doing action after the additional login is successful</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%after_addlogin_action</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; # change the prompt to have a #</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; set cmdPrompt "MY_DEVICE#"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setcmdprompt&#160; $cmdPrompt</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; set exit_level 1</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;"># processing of Exit to close connection</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%cmd_action&#160; Exit</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; if {$exit_level == 0} {</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_closeconnection</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; } elseif {$exit_level == 1} {</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set cmdPrompt "MY_DEVICE&gt;"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt&#160; $cmdPrompt</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set exit_level 0</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; } elseif {$exit_level == 2} {</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set cmdPrompt "MY_DEVICE#"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt&#160; $cmdPrompt</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set exit_level 1</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%cmd_action&#160; exit</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; if {$exit_level == 0} {</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_closeconnection</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; } elseif {$exit_level == 1} {</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set cmdPrompt " MY_DEVICE&gt;"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt&#160; $cmdPrompt</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set exit_level 0</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; } elseif {$exit_level == 2} {</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set cmdPrompt " MY_DEVICE#"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt&#160; $cmdPrompt</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set exit_level 1</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;"># conf t</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%cmd_action conf t</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "Enter configuration commands, one per line.&#160; End with CNTL/Z."</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set cmdPrompt " MY_DEVICE(config)#"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt&#160; $cmdPrompt</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;set exit_level 2</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;"># command completion example..</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;"># crypto ipsec transform-set n ?</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%cmd_action crypto ipsec transform-set n ?</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; ah-md5-hmac&#160;&#160;&#160;&#160;&#160; AH-HMAC-MD5 transform"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; ah-sha-hmac&#160;&#160;&#160;&#160;&#160; AH-HMAC-SHA transform"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; ah-sha256-hmac&#160;&#160; AH-HMAC-SHA256 transform"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; ah-sha384-hmac&#160;&#160; AH-HMAC-SHA384 transform"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; ah-sha512-hmac&#160;&#160; AH-HMAC-SHA512 transform"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; comp-lzs&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IP Compression using the LZS compression algorithm"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; esp-3des&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ESP transform using 3DES(EDE) cipher (168 bits)"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; esp-aes&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ESP transform using AES cipher"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; esp-des&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ESP transform using DES cipher (56 bits)"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; esp-gcm&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ESP transform using GCM cipher"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; esp-gmac&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ESP transform using GMAC cipher"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; esp-md5-hmac&#160;&#160;&#160;&#160; ESP transform using HMAC-MD5 auth"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; esp-null&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ESP transform w/o cipher"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; esp-seal&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ESP transform using SEAL cipher (160 bits)"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; esp-sha-hmac&#160;&#160;&#160;&#160; ESP transform using HMAC-SHA auth"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; esp-sha256-hmac&#160; ESP transform using HMAC-SHA256 auth"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; esp-sha384-hmac&#160; ESP transform using HMAC-SHA384 auth"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "&#160; esp-sha512-hmac&#160; ESP transform using HMAC-SHA512 auth"</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;"># crypto ipsec transform-set n</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%cmd_action crypto ipsec transform-set n</font></span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_telnet_puts "% Incomplete command."</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">129)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I am trying to use a dongle on Windows guest host in a VmWare environment, but SAPro does not detect the dongle.&#160; What should I do ?</p>
<p class="WD_Normal"><sup>&#160;</sup></p>
<p style=" margin-left:.5in;" class="WD_Normal">ESX 4.1 added support for accessing USB devices. The feature allows only one guest host to access a local USB device at any give time. For SimpleSoft products running in a guest host the uses the dongle licensing option, the dongle driver must be install, like one would do in a physical server, and ESX must be configured to assign access of the dongle to the guest host running the SimpleSoft application. Use the following steps to configure ESX using the vSphere Client:</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_Normal">1)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> Plug the dongle into one of the USB port one the server.</p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_Normal">2)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> After logging into the ESX server, select the guest host running the SimpleSoft Application in left pane.</p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_Normal">3)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> Click on the “Getting Started” tab in the right pane and click on “Edit virtual machine settings.”</p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_Normal">4)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> In the properties window that opens, click on the “Hardware” tab and click on the “Add…” button</p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_Normal">5)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> In the Add Hardware window, click on the USB Device line in the middle pane and click on the “Next ≥” button.</p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_Normal">6)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> In the USB device list you will see “Rainbow USB UltraPro.” Select that line and click on the “Next ≥” button.</p>
<p style=" margin-left:1.0in; text-indent:-.25in;" class="WD_Normal">7)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> Now click on the “Finish” button and the guest host will now have access, and ultimate the SimpleSoft application will have access, to the dongle.</p>
<p style=" margin-left:1.0in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">130)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> When installing SAPro on a 64-bit linux box, the installation script complains when running uudecode about a bad ELF interpreter.&#160; What should&#160; I do ?</p>
<p style=" margin-left:.5in;" class="WD_Normal">When installation 32bit SAPro on a 64 bit RedHat box, and you get errors like “uudecode: /lib/ld-linux.so.2: bad ELF interpreter: No such file or directory “ and “gzip: /tmp/sapro.tar.gz: No such file or directory” etc… it might be because the “ld-linux.so.2” library is missing.&#160; To get it, you can do:</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; &gt; yum install ld-linux.so.2</p>
<p style=" margin-left:.5in;" class="WD_Normal">and it will install the library for you. Once this library is installed, you can run the installation script once again and it should proceed without the above error.</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">131)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to convert an ipv6 address into the instance component of a SNMP variable which is indexed by the ipv6 address.&#160; Do you have a sample Tcl script to do that ?</p>
<p style=" margin-left:.5in;" class="WD_Normal">A sample tcl script is shown below:</p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">###############################################################################</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#&#160;&#160; Procedure:&#160;&#160;&#160;&#160;&#160; ipv6toinst</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#&#160;&#160; Input:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IPv6 Address</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#&#160;&#160; Output:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Corresponding instance string</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#&#160;&#160; Description:&#160;&#160;&#160; This procedure converts an IPv6 address to a corresponding</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; instance string.</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#&#160;&#160; Note:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; This procedure does not validate the IPv6 address being</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; converted.</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">###############################################################################</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">proc ipv6toinst { ipv6Addr } {</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # Split the address into sub-addresses</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;set addrList [split $ipv6Addr :]</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # Calculate the number of hex bytes specified. This is used later</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # determine how many zero valued sub-identifiers to the instance</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # string</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set addrListLen [expr ([llength $addrList] * 2) - 2]</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # Initialize the instance string variable</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set retInst ""</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # Loop thru the list of sob-addresses and convert each one into</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # two sub-identifiers</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set index 0</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; foreach subAddr $addrList {</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # if this is not the first sub-address, then append a period</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # to the returned instance string</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$index &gt; 0 } {</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append retInst "."</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr index</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # if a hex value is present, then convert it and append the</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # decimal sub-identiers to the instance string</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {[string length $subAddr] &gt; 0} {</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Convert the hex value to an integer</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; scan $subAddr "%04x" result</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Extract the most significant byte and append it to the</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # instance string and add a period to separate the bytes.</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append retInst [expr $result / 256] "."</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Extract the least significant byte and append it to the</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # instance string</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append retInst [expr $result % 256]</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {&#160;&#160;&#160; ;# No sub-address was present, add zeroes to the string</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set zeroCount [expr 16 - $addrListLen]</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; for {set i 0} {$i &lt; $zeroCount} {incr i} {</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # if this is not the first sub-identifier, then append a period</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # to the returned instance string</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i &gt; 0} {</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append retInst "."</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Append a zero sub-identifier to the instance string</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append retInst "0"</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # Return the instance string to the caller</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; return $retInst</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">}</font></span></p>
<p style=" text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">132)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> When installing 32-bit SAPro on a 64-bit linux box, I am missing some dynamic libraries.&#160;&#160;&#160; What should&#160; I do ?</p>
<p style=" margin-left:.5in;" class="WD_Normal">If you have a server running a 64-bit Linux OS (RHEL, Fedora, or CentOS) and you purchased the SimpleAgentPro, which is a 32-bit application, you may find that the following packages will be missing:</p>
<p style=" margin-left:.5in;" class="WD_Normal">ld-linux.so.2</p>
<p style=" margin-left:.5in;" class="WD_Normal">libXt.so.6</p>
<p style=" margin-left:.5in;" class="WD_Normal">libXext.so.6</p>
<p style=" margin-left:.5in;" class="WD_Normal">libXrender.so.1</p>
<p style=" margin-left:.5in;" class="WD_Normal">libXft.so.2</p>
<p style=" margin-left:.5in;" class="WD_Normal">libstdc++.so.5</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">To include one or all of these shared libraries to your operating system, use a command line utility called, “yum”, to install individual packages that you will need:</p>
<p style=" margin-left:.5in;" class="WD_Normal">&gt; yum install ld-linux.so.2</p>
<p style=" margin-left:.5in;" class="WD_Normal">You can also install the entire list of shared libraries at once by listing them all on the same command line:</p>
<p style=" margin-left:.5in;" class="WD_Normal">&gt; yum install ld-linux.so.2 libXt.so.6 libXext.so.6 libXrender.so.1 libXft.so.2 libstdc++.so.5</p>
<p style=" margin-left:.5in;" class="WD_Normal">Setup the correct library path</p>
<p style=" margin-left:.5in;" class="WD_Normal">Make sure to setup the loader library path for the SimpleAgentPro software. See example below for bash:</p>
<p style=" margin-left:.5in;" class="WD_Normal">&gt; LD_LIBRARY_PATH=/opt/sapro/usrlib</p>
<p style=" margin-left:.5in;" class="WD_Normal">&gt; export LD_LIBRARY_PATH</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">133)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to make the simulated devices support other protocols like WMI. Is there a way I can do that ?</p>
<p style=" margin-left:.5in;" class="WD_Normal">SimpleAgentPro includes support for tcp forwarding sockets.&#160; The simulated device can open up a specified tcp port, and when a connection is made to it, it in turn makes a connection with another real server, and from that point on, simply forwards the requests it receives to the real server and returns the responses it receieves from the real server back to the client connecting to it.&#160; You can make use of this simple scheme for providing basic WMI simulation support.</p>
<p style=" margin-left:.5in;" class="WD_Normal">To use this scheme you can create a modeling file and associate it with the simulated device.&#160; Inside the modeling file you can have the following contents.</p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">%init_action</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_settcldebugfile wmi_${myIP}.dbg</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_tcpserver_forwarder_open 135 192.168.100.3 135</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal">The SA_tcpserver_forwarder_open tells SAPro to open port 135, and listen for incoming connections, and when one comes in, SAPro will make a connection to 192.168.100.3 on port 135 which is a real WMI server and pass on the incoming requests to it, and pass back the responses to the client that connected with the simulated device.</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">134)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I have a topology of connected devices and I want to simulate traffic flow on certain paths on this connected network and have the corresponding interface counters reflect this traffic.&#160; Do you have an example that shows how to do something like this ?</p>
<p style=" margin-left:.5in;" class="WD_Normal">Within SimpleAgentPro you can run tcl scripts at the map level in a setup file and change the counter values in the individual devices in the map in a coordinated manner so that the data flow from device 1 to device 2 device 3 shows up in the appropriate counter values for the connected ports.</p>
<p style=" margin-left:.5in;" class="WD_Normal">In the example shown below, a sample topology is created by using the topology editor and the topology data file is shown below.&#160;&#160; The setup file that you can use to create traffic is shown next.</p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&lt;!DOCTYPE TopologyDocument&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&lt;Doc&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&lt;DeviceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;Device x="278" y="52" Type="0" ID="1" &gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;DeviceProperties telnetModelingFile="" userDefinedTelnet="NO" MACAddress="010203040506" snmpEnabled="YES" tclModelingFile="" IPAddress="10.1.1.1" vendorVarName="" cmfName="" userDefinedCmfVar="YES" maxInterfaces="10" vendorLogo="..\images\saptopo\router.bmp" vendorName="No Device Selected" systemName="Router_1" telnetVendorName="" subnet="10.1.1.0" vendorCmfName="" telnetPort="23" mask="255.255.255.0" telnetEnabled="NO" varName="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040506" IPAddress="10.1.1.1" InterfaceNumber="1" Mask="255.255.255.0" subnet="10.1.1.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040507" IPAddress="10.1.2.1" InterfaceNumber="2" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;&lt;Interface MACAddress="010203040508" IPAddress="10.1.3.1" InterfaceNumber="3" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040509" IPAddress="" InterfaceNumber="4" Mask="" subnet="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304050a" IPAddress="" InterfaceNumber="5" Mask="" subnet="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304050b" IPAddress="" InterfaceNumber="6" Mask="" subnet="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304050c" IPAddress="" InterfaceNumber="7" Mask="" subnet="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304050d" IPAddress="" InterfaceNumber="8" Mask="" subnet="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304050e" IPAddress="" InterfaceNumber="9" Mask="" subnet="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304050f" IPAddress="" InterfaceNumber="10" Mask="" subnet="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;/InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;/Device&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;Device x="400" y="166" Type="2" ID="2" &gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;DeviceProperties telnetModelingFile="" userDefinedTelnet="YES" MACAddress="010203040510" snmpEnabled="YES" tclModelingFile="" IPAddress="10.1.2.2" vendorVarName="" cmfName="" userDefinedCmfVar="YES" maxInterfaces="50" vendorLogo="..\images\saptopo\netdevice.bmp" vendorName="No Device Selected" systemName="Switch_2" telnetVendorName="" subnet="10.1.2.0" vendorCmfName="" telnetPort="23" mask="255.255.255.0" telnetEnabled="NO" varName="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040510" IPAddress="10.1.2.2" InterfaceNumber="1" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040511" IPAddress="10.1.2.2" InterfaceNumber="2" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040512" IPAddress="10.1.2.2" InterfaceNumber="3" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040513" IPAddress="10.1.2.2" InterfaceNumber="4" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040514" IPAddress="10.1.2.2" InterfaceNumber="5" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040515" IPAddress="10.1.2.2" InterfaceNumber="6" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040516" IPAddress="10.1.2.2" InterfaceNumber="7" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040517" IPAddress="10.1.2.2" InterfaceNumber="8" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040518" IPAddress="10.1.2.2" InterfaceNumber="9" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040519" IPAddress="10.1.2.2" InterfaceNumber="10" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304051a" IPAddress="10.1.2.2" InterfaceNumber="11" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304051b" IPAddress="10.1.2.2" InterfaceNumber="12" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304051c" IPAddress="10.1.2.2" InterfaceNumber="13" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304051d" IPAddress="10.1.2.2" InterfaceNumber="14" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;&lt;Interface MACAddress="01020304051e" IPAddress="10.1.2.2" InterfaceNumber="15" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304051f" IPAddress="10.1.2.2" InterfaceNumber="16" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040520" IPAddress="10.1.2.2" InterfaceNumber="17" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040521" IPAddress="10.1.2.2" InterfaceNumber="18" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040522" IPAddress="10.1.2.2" InterfaceNumber="19" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040523" IPAddress="10.1.2.2" InterfaceNumber="20" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040524" IPAddress="10.1.2.2" InterfaceNumber="21" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040525" IPAddress="10.1.2.2" InterfaceNumber="22" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040526" IPAddress="10.1.2.2" InterfaceNumber="23" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040527" IPAddress="10.1.2.2" InterfaceNumber="24" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040528" IPAddress="10.1.2.2" InterfaceNumber="25" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040529" IPAddress="10.1.2.2" InterfaceNumber="26" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304052a" IPAddress="10.1.2.2" InterfaceNumber="27" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304052b" IPAddress="10.1.2.2" InterfaceNumber="28" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304052c" IPAddress="10.1.2.2" InterfaceNumber="29" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304052d" IPAddress="10.1.2.2" InterfaceNumber="30" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304052e" IPAddress="10.1.2.2" InterfaceNumber="31" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304052f" IPAddress="10.1.2.2" InterfaceNumber="32" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040530" IPAddress="10.1.2.2" InterfaceNumber="33" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040531" IPAddress="10.1.2.2" InterfaceNumber="34" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040532" IPAddress="10.1.2.2" InterfaceNumber="35" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040533" IPAddress="10.1.2.2" InterfaceNumber="36" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040534" IPAddress="10.1.2.2" InterfaceNumber="37" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040535" IPAddress="10.1.2.2" InterfaceNumber="38" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040536" IPAddress="10.1.2.2" InterfaceNumber="39" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040537" IPAddress="10.1.2.2" InterfaceNumber="40" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040538" IPAddress="10.1.2.2" InterfaceNumber="41" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040539" IPAddress="10.1.2.2" InterfaceNumber="42" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304053a" IPAddress="10.1.2.2" InterfaceNumber="43" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304053b" IPAddress="10.1.2.2" InterfaceNumber="44" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304053c" IPAddress="10.1.2.2" InterfaceNumber="45" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304053d" IPAddress="10.1.2.2" InterfaceNumber="46" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304053e" IPAddress="10.1.2.2" InterfaceNumber="47" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304053f" IPAddress="10.1.2.2" InterfaceNumber="48" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040540" IPAddress="10.1.2.2" InterfaceNumber="49" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040541" IPAddress="10.1.2.2" InterfaceNumber="50" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;/InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;/Device&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;Device x="156" y="166" Type="2" ID="3" &gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;DeviceProperties telnetModelingFile="" userDefinedTelnet="YES" MACAddress="010203040542" snmpEnabled="YES" tclModelingFile="" IPAddress="10.1.3.2" vendorVarName="" cmfName="" userDefinedCmfVar="YES" maxInterfaces="50" vendorLogo="..\images\saptopo\netdevice.bmp" vendorName="No Device Selected" systemName="Switch_3" telnetVendorName="" subnet="10.1.3.0" vendorCmfName="" telnetPort="23" mask="255.255.255.0" telnetEnabled="NO" varName="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040542" IPAddress="10.1.3.2" InterfaceNumber="1" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040543" IPAddress="10.1.3.2" InterfaceNumber="2" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040544" IPAddress="10.1.3.2" InterfaceNumber="3" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040545" IPAddress="10.1.3.2" InterfaceNumber="4" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040546" IPAddress="10.1.3.2" InterfaceNumber="5" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040547" IPAddress="10.1.3.2" InterfaceNumber="6" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040548" IPAddress="10.1.3.2" InterfaceNumber="7" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040549" IPAddress="10.1.3.2" InterfaceNumber="8" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304054a" IPAddress="10.1.3.2" InterfaceNumber="9" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304054b" IPAddress="10.1.3.2" InterfaceNumber="10" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304054c" IPAddress="10.1.3.2" InterfaceNumber="11" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304054d" IPAddress="10.1.3.2" InterfaceNumber="12" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304054e" IPAddress="10.1.3.2" InterfaceNumber="13" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304054f" IPAddress="10.1.3.2" InterfaceNumber="14" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040550" IPAddress="10.1.3.2" InterfaceNumber="15" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040551" IPAddress="10.1.3.2" InterfaceNumber="16" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040552" IPAddress="10.1.3.2" InterfaceNumber="17" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040553" IPAddress="10.1.3.2" InterfaceNumber="18" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040554" IPAddress="10.1.3.2" InterfaceNumber="19" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040555" IPAddress="10.1.3.2" InterfaceNumber="20" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040556" IPAddress="10.1.3.2" InterfaceNumber="21" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040557" IPAddress="10.1.3.2" InterfaceNumber="22" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040558" IPAddress="10.1.3.2" InterfaceNumber="23" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040559" IPAddress="10.1.3.2" InterfaceNumber="24" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304055a" IPAddress="10.1.3.2" InterfaceNumber="25" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304055b" IPAddress="10.1.3.2" InterfaceNumber="26" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304055c" IPAddress="10.1.3.2" InterfaceNumber="27" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304055d" IPAddress="10.1.3.2" InterfaceNumber="28" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304055e" IPAddress="10.1.3.2" InterfaceNumber="29" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304055f" IPAddress="10.1.3.2" InterfaceNumber="30" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040560" IPAddress="10.1.3.2" InterfaceNumber="31" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040561" IPAddress="10.1.3.2" InterfaceNumber="32" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040562" IPAddress="10.1.3.2" InterfaceNumber="33" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040563" IPAddress="10.1.3.2" InterfaceNumber="34" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040564" IPAddress="10.1.3.2" InterfaceNumber="35" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040565" IPAddress="10.1.3.2" InterfaceNumber="36" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040566" IPAddress="10.1.3.2" InterfaceNumber="37" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040567" IPAddress="10.1.3.2" InterfaceNumber="38" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040568" IPAddress="10.1.3.2" InterfaceNumber="39" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040569" IPAddress="10.1.3.2" InterfaceNumber="40" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304056a" IPAddress="10.1.3.2" InterfaceNumber="41" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304056b" IPAddress="10.1.3.2" InterfaceNumber="42" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304056c" IPAddress="10.1.3.2" InterfaceNumber="43" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304056d" IPAddress="10.1.3.2" InterfaceNumber="44" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304056e" IPAddress="10.1.3.2" InterfaceNumber="45" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="01020304056f" IPAddress="10.1.3.2" InterfaceNumber="46" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040570" IPAddress="10.1.3.2" InterfaceNumber="47" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040571" IPAddress="10.1.3.2" InterfaceNumber="48" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040572" IPAddress="10.1.3.2" InterfaceNumber="49" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040573" IPAddress="10.1.3.2" InterfaceNumber="50" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;/InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;/Device&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;Device x="86" y="274" Type="3" ID="4" &gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;DeviceProperties telnetModelingFile="" userDefinedTelnet="YES" MACAddress="010203040574" snmpEnabled="YES" tclModelingFile="" IPAddress="10.1.3.5" vendorVarName="" cmfName="" userDefinedCmfVar="YES" maxInterfaces="2" vendorLogo="..\images\saptopo\host.bmp" vendorName="No Device Selected" systemName="Host_4" telnetVendorName="" subnet="10.1.3.0" vendorCmfName="" telnetPort="23" mask="255.255.255.0" telnetEnabled="NO" varName="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="000000000000" IPAddress="" InterfaceNumber="1" Mask="" subnet="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040574" IPAddress="10.1.3.5" InterfaceNumber="2" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;/InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;/Device&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;Device x="220" y="271" Type="3" ID="5" &gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;DeviceProperties telnetModelingFile="" userDefinedTelnet="YES" MACAddress="010203040575" snmpEnabled="YES" tclModelingFile="" IPAddress="10.1.3.6" vendorVarName="" cmfName="" userDefinedCmfVar="YES" maxInterfaces="2" vendorLogo="..\images\saptopo\host.bmp" vendorName="No Device Selected" systemName="Host_5" telnetVendorName="" subnet="10.1.3.0" vendorCmfName="" telnetPort="23" mask="255.255.255.0" telnetEnabled="NO" varName="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="000000000000" IPAddress="" InterfaceNumber="1" Mask="" subnet="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040575" IPAddress="10.1.3.6" InterfaceNumber="2" Mask="255.255.255.0" subnet="10.1.3.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;/InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;/Device&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;Device x="338" y="272" Type="3" ID="6" &gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;DeviceProperties telnetModelingFile="" userDefinedTelnet="YES" MACAddress="010203040576" snmpEnabled="YES" tclModelingFile="" IPAddress="10.1.2.5" vendorVarName="" cmfName="" userDefinedCmfVar="YES" maxInterfaces="2" vendorLogo="..\images\saptopo\host.bmp" vendorName="No Device Selected" systemName="Host_6" telnetVendorName="" subnet="10.1.2.0" vendorCmfName="" telnetPort="23" mask="255.255.255.0" telnetEnabled="NO" varName="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="000000000000" IPAddress="" InterfaceNumber="1" Mask="" subnet="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040576" IPAddress="10.1.2.5" InterfaceNumber="2" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;/InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;/Device&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&lt;Device x="478" y="271" Type="3" ID="7" &gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;DeviceProperties telnetModelingFile="" userDefinedTelnet="YES" MACAddress="010203040577" snmpEnabled="YES" tclModelingFile="" IPAddress="10.1.2.6" vendorVarName="" cmfName="" userDefinedCmfVar="YES" maxInterfaces="2" vendorLogo="..\images\saptopo\host.bmp" vendorName="No Device Selected" systemName="Host_7" telnetVendorName="" subnet="10.1.2.0" vendorCmfName="" telnetPort="23" mask="255.255.255.0" telnetEnabled="NO" varName="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="000000000000" IPAddress="" InterfaceNumber="1" Mask="" subnet="" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &lt;Interface MACAddress="010203040577" IPAddress="10.1.2.6" InterfaceNumber="2" Mask="255.255.255.0" subnet="10.1.2.0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; &lt;/InterfaceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;/Device&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&lt;/DeviceList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&lt;LinkList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;Link interface1="2" interface2="1" devID1="1" ifType="6" devID2="2" redundant="0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;Link interface1="3" interface2="1" devID1="1" ifType="6" devID2="3" redundant="0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;Link interface1="2" interface2="2" devID1="3" ifType="6" devID2="4" redundant="0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;Link interface1="3" interface2="2" devID1="3" ifType="6" devID2="5" redundant="0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;Link interface1="2" interface2="2" devID1="2" ifType="6" devID2="6" redundant="0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160; &lt;Link interface1="3" interface2="2" devID1="2" ifType="6" devID2="7" redundant="0" /&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&lt;/LinkList&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&lt;/Doc&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">The sample setup file that manipulates the traffic counters is shown below:</p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%MAPTCLSCRIPT</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugfile traffic_tcl.dbg</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; router1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160; switch3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; switch2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # host4&#160; host5&#160;&#160;&#160; host6&#160;&#160;&#160; host7</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # this setup script is for small_net map which</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # has a router connected to two switches, and</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # the two switches are connected to two hosts</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # this setup script creates the scenario where</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # the host on one of the switch is talking with</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # host/server connected to the other switch</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # and at the same time, a host on the other switch</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # is also talking with the host/server</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # helper procs</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; proc sa_getonevalue {oid} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set varbind [SA_getvar [list $oid]]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set vb1&#160; [lindex $varbind 0]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set val1 [lindex $vb1 2]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; return $val1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; proc sa_update_ratevalue {oid newrate } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # first get its current value</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set cval [sa_getonevalue $oid]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; # now change it</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if [catch {SA_setvaltype [list [list $oid OctetString "seqtimeinc($cval, $newrate, 0)")]] } res] {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # initialize rate variables</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set host4port1_irate&#160;&#160; 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set host4port1_orate&#160;&#160; 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set switch3port3_irate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set switch3port3_orate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set switch3port1_irate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set switch3port1_orate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set router1port2_irate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set router1port2_orate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set router1port3_irate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set router1port3_orate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set switch2port1_irate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set switch2port1_orate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set switch2port2_irate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set switch2port2_orate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set switch2port3_irate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set switch2port3_orate 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set host6port1_irate&#160;&#160; 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set host6port1_orate&#160;&#160; 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set host7port1_irate&#160;&#160; 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set host7port1_orate&#160;&#160; 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # traffic pattern 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # upstream 100pkts/sec, downstream 50pkt/sec</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # host4(10.1.3.5)-port 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160; switch3(10.1.3.2)-port3</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160; switch3(10.1.3.2)-port1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160;&#160;&#160; router1(10.1.1.1)-port2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160;&#160;&#160; router1(10.1.1.1)-port3</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; switch2(10.1.2.2)-port1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; switch2(10.1.2.2)-port2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; host6(10.1.2.5)-port 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr host4port1_irate&#160;&#160; 50</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr host4port1_orate&#160;&#160; 100</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr switch3port3_irate 100</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr switch3port3_orate 50</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr switch3port1_orate 100</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr switch3port1_irate 50</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr router1port2_irate 100</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr router1port2_orate 50</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr router1port3_irate 50</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr router1port3_orate 100</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr switch2port1_irate 100</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr switch2port1_orate 50</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr switch2port2_irate 50</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr switch2port2_orate 100</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr host6port1_irate&#160;&#160; 100</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr host6port1_orate&#160;&#160; 50</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # traffic pattern 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # upstream 200pkts/sec, downstream 150pkt/sec</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # host7(10.1.2.6)-port 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160; switch2(10.1.2.2)-port3</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160; switch2(10.1.2.2)-port2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160;&#160;&#160;&#160; host6(10.1.2.5)-port1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr host7port1_irate&#160;&#160; 150</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr host7port1_orate&#160;&#160; 200</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr switch2port3_irate 200</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr switch2port3_orate 150</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr switch2port2_irate 150</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr switch2port2_orate 200</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr host6port1_irate&#160;&#160; 200</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; incr host6port1_orate&#160;&#160; 150</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # now update the values</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # host4</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_lockdevcontext 10.1.3.5</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifInUcastPkts.1&#160; $host4port1_irate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifOutUcastPkts.1 $host4port1_orate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # switch3</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_lockdevcontext 10.1.3.2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifInUcastPkts.3&#160; $switch3port3_irate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifOutUcastPkts.3 $switch3port3_orate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifInUcastPkts.1&#160; $switch3port1_irate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifOutUcastPkts.1 $switch3port1_orate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # router1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_lockdevcontext 10.1.1.1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifInUcastPkts.2&#160; $router1port2_irate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifOutUcastPkts.2 $router1port2_orate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifInUcastPkts.3&#160; $router1port3_irate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifOutUcastPkts.3 $router1port3_orate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # switch2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_lockdevcontext 10.1.2.2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifInUcastPkts.1&#160; $switch2port1_irate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifOutUcastPkts.1 $switch2port1_orate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifInUcastPkts.2&#160; $switch2port2_irate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifOutUcastPkts.2 $switch2port2_orate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifInUcastPkts.3&#160; $switch2port3_irate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifOutUcastPkts.3 $switch2port3_orate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # host6</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_lockdevcontext 10.1.2.5</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifInUcastPkts.1&#160; $host6port1_irate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifOutUcastPkts.1 $host6port1_orate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # host7</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_lockdevcontext 10.1.2.6</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifInUcastPkts.1&#160; $host7port1_irate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; sa_update_ratevalue ifOutUcastPkts.1 $host7port1_orate</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">135)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> When adding rows to one table, I want to use the value of one of the columns as an instance. How do I do that in a modeling file ?</p>
<p style=" margin-left:.5in;" class="WD_Normal">You can use the SA_getvars to get all the variable bindings in a request and then look for the value of a particular column.&#160; If the value is an octet string in hex, you can convert it to a instance string as shown below.</p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">%init_action</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_settcldebugfile tcl_$myIP.dbg</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_setsnmpdebugflag 1</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_setsnmpdebugfile snmp_$myIP.dbg</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;"># this procedure converts a hex string like 0x010203040506</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;"># to either 1.2.3.4.5.6 if fixed length or</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;"># to 6.1.2.3.4.5.6 if variable length so that it</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;"># can be used as an instance subidentifier string</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">proc convertStrToOid { varLenFlag inOctStr } {</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # Initialize the output string</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set outString ""</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # Skip "0x" if @ start of input string</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set slen [string length $inOctStr]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; if { [string range $inOctStr 0 1] == "0x" } {</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set startIndex 2</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set numOctets [expr [expr $slen - 2] / 2]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set startIndex 0</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set numOctets [expr $slen / 2]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # add length if variablelength string</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set slen [string length $inOctStr]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160; &#160;&#160;if {$varLenFlag} {</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; append outString [format %d. $numOctets]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # Loop through the string</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; for { set i $startIndex } { $i &lt; $slen } { incr i 2 } {</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i != $startIndex} {</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append outString "."</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; &#160;&#160;# Extract the next Octet</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set j [expr $i + 1]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set octet [string range $inOctStr $i $j]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Convert the hex character string to an integer</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; scan $octet "%02x" intVal</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # add it to the output string</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; append outString [format %d $intVal]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; return $outString</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">}</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;"># look for row creation request on ipNetToMediaIfIndex</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;"># and inside it, look for ipNetToMediaPhysAddress column</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">#</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">%after_all_set_action ipNetToMediaIfIndex</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set vblist [SA_getreqvars]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; foreach vb $vblist {</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set curoid [lindex $vb 0]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set curval [lindex $vb 2]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "$curoid&#160; $curval\n"</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {[string first "1.3.6.1.2.1.4.22.1.2" $curoid] != -1} {</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set oidStr [convertStrToOid 0 $curval]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "fixed len = $oidStr\n"</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set oidStr [convertStrToOid 1 $curval]</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "var len = $oidStr\n"</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal">You can then use oidStr for doing other stuff as needed.</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">136)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> When sending a tcl script to a device for evaluation, is there a way to specify arguments and get the results back ?</p>
<p class="WD_Normal">There are multiple ways to do this. When using 16.0 and earlier versions of SAPro, one can use the following steps to send paramters to a Tcl script and receive a result string from that script. The key is to put the script within a procedure that can be called while the device is running.&#160; In this simple example&#160; the procedure has two parameters that are passed in: a and b. Then procedure merely returns what was passed in, along with the device's IP address. Two ways to define the procedure are given below:</p>
<p style=" margin-left:.5in;" class="WD_Normal">1) Include the procedure in the device modeling file under the %init_action clause. The result is that the procedure is compiled into the device's interpreter at initialization time:<span style=" font-family:'Helvetica' ,'sans-serif';"><br />
<br /></span><b><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">%init_action<br />
&#160;&#160;&#160; # Initializing parameter for the device<br />
&#160;&#160;&#160; global myparam<br />
&#160;&#160;&#160; set myparam 0<br />
<br />
&#160;&#160;&#160; # The following procedure is used by this device<br />
&#160;&#160;&#160; proc mytest { a b } {<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160; return "Params = $a : $b : [SA_getmyip]"<br />
&#160;&#160;&#160; }</font></span></b><b><span style=" font-family:Courier New;"><br /></span></b><span style=" font-family:'Helvetica' ,'sans-serif';"><br /></span>2) Create a file called mytest.tcl which defines the procedure, and first send it to the device for interpretation which will then add it to the interpretor.</p>
<p style=" margin-left:.5in;" class="WD_Normal"><b><span style=" font-family:Courier New; color:black;"><font color="black" >proc mytest { a b } {<br />
&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160; return "Params = $a : $b : [SA_getmyip]"<br />
}</font></span></b></p>
<p style=" text-indent:.5in;" class="WD_Normal">Then first send the file over for interpretation.</p>
<p style=" margin-left:.5in;" class="WD_Normal"><b><span style=" font-family:Courier New;">sapcnsl -p 2100 -m my.map -c tcl -d 192.168.1.1 -f mytest.tcl</span></b><b><span style=" font-family:'Helvetica' ,'sans-serif'; color:#3333FF;"><font color="#3333ff" ><br /></font></span></b><span style=" font-family:'Helvetica' ,'sans-serif';"><br /></span>What sapcnsl will print to standard out is:<span style=" font-family:'Helvetica' ,'sans-serif';"><br />
<br /></span><b><span style=" font-family:Courier New;">PACKET_EVALUATED: Tcl script is successfully evaluated.</span></b></p>
<p class="WD_Normal">Now that the procedure is compiled into the device's interpreter, it is just a matter of calling the procedure with specific parameters. The following example passes in "John" and "Smith" into the procedure:<span style=" font-family:'Helvetica' ,'sans-serif';"><br />
<br /></span><b><span style=" font-family:Courier New;">sapcnsl -p 2100 -m my.map -c tcl -d 192.168.1.1 -s "mytest John Smith"</span></b><b><span style=" font-family:'Helvetica' ,'sans-serif'; color:#3333FF;"><font color="#3333ff" ><br /></font></span></b><span style=" font-family:'Helvetica' ,'sans-serif';"><br /></span>What sapcnsl will print to standard out is what the procedure, in this case mytest,&#160; returns to the caller:<span style=" font-family:'Helvetica' ,'sans-serif';"><br />
<br /></span><b><span style=" font-family:Courier New; color:black;"><font color="black" >PACKET_EVALUATED: Params = John : Smith : 192.168.1.1</font></span></b></p>
<p class="WD_Normal">In 17.0 and above the sapcnsl utility has been enhanced to take arguments for tcl commands that evaluate scripts.&#160; If the script is written to take arguments from special variables and return value in a special variable, then sapcnsl invocation can pass those input values to the script from the argument list and display the return value.</p>
<p class="WD_Normal">If the script file called tclfile.tcl contains</p>
<p style=" margin-left:.5in;" class="WD_Normal"><b><span style=" font-family:Courier New; color:black;"><font color="black" >set a [lindex $SA_arg 0]</font></span></b></p>
<p style=" margin-left:.5in;" class="WD_Normal"><b><span style=" font-family:Courier New; color:black;"><font color="black" >set b [lindex $SA_arg 1]</font></span></b></p>
<p style=" margin-left:.5in;" class="WD_Normal"><b><span style=" font-family:Courier New; color:black;"><font color="black" >set SA_retVal "Params = $a : $b : [SA_getmyip]”</font></span></b></p>
<p class="WD_Normal"><span style=" font-family:'Helvetica' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal">Then you can directly call sapcnsl without creating a procedure by doing:</p>
<p class="WD_Normal"><b><span style=" font-family:Courier New;">sapcnsl -p 2100 -m my.map -c tcl -d 192.168.1.1 –f tclfile.tcl –a “John,Smith”</span></b><b><span style=" font-family:'Helvetica' ,'sans-serif'; color:#3333FF;"><font color="#3333ff" ><br /></font></span></b><span style=" font-family:'Helvetica' ,'sans-serif';"><br /></span>And sapcnsl will print to standard out is what is present in the $SA_retVal variable</p>
<p class="WD_Normal"><b><span style=" font-family:Courier New; color:black;"><font color="black" >PACKET_EVALUATED: Params = John : Smith : 192.168.1.1</font></span></b></p>
<p class="WD_Normal"><span style=" font-family:'Helvetica' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">137)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> When using SSH, is there a way to tell the modified opensshd not to wait for carriage return before passing the input characters to SAPro/SAEnt for processing ?</p>
<p class="WD_Normal">By default, the modified opensshd buffers its input.&#160; You can set the first line in the /etc/ssh_sapro file to</p>
<p class="WD_Normal">FLAG=NOBUFFERING</p>
<p class="WD_Normal">with the next line containing the full path to saprossh.ini file.&#160;</p>
<p class="WD_Normal">This tells the modified opensshd to not buffer the input.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">138)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> When doing learning for telnet responses, is there a way to turn debugging on and change some of the default parameters ?</p>
<p class="WD_Normal">When doing the learning, you can specify an option tcl include file that can overwrite some of the options given.&#160;&#160; An example “a.tcl” located in the bin directory is shown below:</p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set telnetport&#160; 23</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set userpromptflag 1</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set userpromptchar "n:"</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set username "release"</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set paswdpromptflag 1</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set paswdpromptchar "d:"</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set password "release"</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set cmdprompt1char "$"</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set cmdprompt2char "#"</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set timeout 10</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set addloginflag 0</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set getonlynewline 1</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set skipblankline 1</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set morerespstr " "</span></p>
<p style=" margin-left:.5in; text-autospace:none;" class="WD_Normal"><span style=" font-family:Courier New;">set morestringlist "--More--"</span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-family:Courier New;">set ST_DebugModeFlag 1</span></p>
<p class="WD_Normal">In the above file, the useprompt&#160; char is set to a multiple character string “n:” instead of just “:” to find the match with the prompt string correctly, especially if the banner also includes a “:” which might cause confusion.</p>
<p class="WD_Normal">The “set ST_DebugModeFlag 1” tells the underlying tcl code to generate a debug file called “sstellearn.dbg” which will contain debug information.</p>
<p class="WD_Normal">You can also specify this file as an argument to “tellearn” command line utility.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">139)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> I want to support different config files in a Cisco CLI interaction. Is there a sample telnet file that does some of these things ?</p>
<p class="WD_Normal">The sample telnet file shown below assumes that you have different files in the /sim directory that contain the stored configuration.</p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">########################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># sample telnet file</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">########################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; # get our own IP</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; SA_telnet_debugflag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; SA_telnet_debugfile tel.${myIP}.dbg</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; set tftp_cmd_flag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; # add tftp client commands to telnet interpretor</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; SA_telnet_addtftpclientcmds</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; # login information</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; SA_telnet_setloginmode 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; SA_telnet_setloginuser admin,Admin</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; SA_telnet_setloginpasswd abc,abc</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; # setting up banner</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; SA_telnet_setbanner "\r\nUser Access Verification\r\n"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; # setting up command prompt</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; # changed hostname/ip</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; SA_telnet_setcmdprompt "${myIP}#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; term length 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action term length 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; enable</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action enable</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; show version</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action show version</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Cisco Internetwork Operating System Software "</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "IOS (tm) C2900XL Software (C2900XL-C3H2S-M), Version 12.0(5)WC3, RELEASE SOFTWARE (fc1)"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Copyright (c) 1986-2002 by cisco Systems, Inc."</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Compiled Mon 04-Feb-02 06:13 by devgoyal"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Image text-base: 0x00003000, data-base: 0x0033744C"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "ROM: Bootstrap program is C2900XL boot loader"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "${myIP} uptime is 3 days, 20 hours, 47 minutes"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "System returned to ROM by reload"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "cisco WS-C2924-XL (PowerPC403GA) processor (revision 0x11) with 8192K/1024K bytes of memory."</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Processor board ID FAB0353S05H, with hardware revision 0x01"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Last reset from warm-reset"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Processor is running Enterprise Edition Software"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Cluster command switch capable"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Cluster member switch capable"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "24 FastEthernet/IEEE 802.3 interface(s)"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "32K bytes of flash-simulated non-volatile configuration memory."</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Base ethernet MAC Address: 00:B0:64:57:B1:00"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Motherboard assembly number: 73-3382-07"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Power supply part number: 34-0834-01"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Motherboard serial number: FAB035261KK"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Power supply serial number: PHI034000E2"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Model revision number: A0"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Model number: WS-C2924-XL-EN"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "System serial number: FAB0353S05H"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Configuration register is 0xF"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; show running</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action show running</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # first look for run_&lt;ip&gt;. if it exists use it,</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set lfile "/sim/run_${myIP}.txt"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { [file readable $lfile] != 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; set rfid [open $lfile r]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; while { [gets $rfid ibuf] &gt;= 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # might need to escape some chars</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts $ibuf</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; close $rfid</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; # next try to look for start_&lt;ip&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; set lfile "/sim/start_${myIP}.txt"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; if { [file readable $lfile] != 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set rfid [open $lfile r]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; while { [gets $rfid ibuf] &gt;= 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # might need to escape some chars</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts $ibuf</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; close $rfid</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # it too does not exist.&#160; use default</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Building configuration..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Current configuration:"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "version 12.0"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "no service pad"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "service timestamps debug uptime"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "service timestamps log uptime"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "no service password-encryption"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "hostname ${myIP}"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "username admin privilege 15 password 0 abc"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "ip subnet-zero"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/1"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/2"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/3"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/4"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/5"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/6"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/7"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/8"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/9"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/10"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts " description Port_10"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts " duplex full"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts " speed 100"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/11"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts " shutdown"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/12"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/13"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/14"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/15"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/16"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/17"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/18"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/19"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/20"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/21"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/22"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/23"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/24"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface VLAN1"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "end"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; show running-config</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action show running-config</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # first look for run_&lt;ip&gt;. if it exists use it,</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set lfile "/sim/run_${myIP}.txt"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { [file readable $lfile] != 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; set rfid [open $lfile r]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; while { [gets $rfid ibuf] &gt;= 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # might need to escape some chars</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts $ibuf</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; close $rfid</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; # next try to look for start_&lt;ip&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; set lfile "/sim/start_${myIP}.txt"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; if { [file readable $lfile] != 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set rfid [open $lfile r]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; while { [gets $rfid ibuf] &gt;= 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # might need to escape some chars</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts $ibuf</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; close $rfid</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # it too does not exist.&#160; use default</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Building configuration..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Current configuration:"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "version 12.0"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "no service pad"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "service timestamps debug uptime"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "service timestamps log uptime"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "no service password-encryption"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # changed hostname/ip</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_telnet_puts "hostname lab-simplesoft"&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "hostname ${myIP}"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "username admin privilege 15 password 0 abc"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "ip subnet-zero"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/1"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/2"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/3"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/4"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/5"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/6"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/7"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/8"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/9"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/10"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts " description Port_10"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts " duplex full"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts " speed 100"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/11"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts " shutdown"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/12"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/13"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/14"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/15"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/16"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/17"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/18"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/19"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/20"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/21"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/22"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/23"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/24"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface VLAN1"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "end"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; show startup-config</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action show startup-config</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # first look for start_&lt;ip&gt;. if it exists use it,</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set lfile "/sim/start_${myIP}.txt"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { [file readable $lfile] != 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set rfid [open $lfile r]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; while { [gets $rfid ibuf] &gt;= 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # might need to escape some chars</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts $ibuf</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; close $rfid</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # use default</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Building configuration..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Current configuration:"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "version 12.0"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "no service pad"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "service timestamps debug uptime"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "service timestamps log uptime"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "no service password-encryption"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # changed hostname/ip</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160; &#160;&#160;&#160;&#160;&#160;&#160;#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_telnet_puts "hostname lab-simplesoft"&#160;&#160;&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "hostname ${myIP}"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "username admin privilege 15 password 0 abc"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "ip subnet-zero"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/1"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/2"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/3"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/4"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/5"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/6"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/7"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/8"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/9"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/10"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts " description Port_10"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts " duplex full"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts " speed 100"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/11"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts " shutdown"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/12"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/13"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/14"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/15"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160; &#160;&#160;SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/16"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/17"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/18"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/19"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/20"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/21"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/22"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/23"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface FastEthernet0/24"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "interface VLAN1"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "end"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># command handler for write memory</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action write memory</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Building configuration..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "\[OK\]"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # if /sim/run_&lt;ip&gt;.txt exists, rename it as /sim/start_&lt;ip&gt;.txt</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set lfile "/sim/run_${myIP}.txt"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { [file readable $lfile] != 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set sfile "/sim/start_${myIP}.txt"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; file copy -force $lfile $sfile</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; file delete -force $lfile</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; copy running-config tftp</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action copy running-config tftp</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt "Address or name of remote host \[\]?"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set tftp_cmd_flag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; copy startup-config tftp</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action copy startup-config tftp</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt "Address or name of remote host \[\]?"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set tftp_cmd_flag 11</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; copy tftp:/&lt;ip&gt;/&lt;filename&gt; config_name</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action copy tftp</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set copytftpinfo $SAtcmd(1)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set copytftpdestfile $SAtcmd(2)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # extract the pieces</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set complist [split $copytftpinfo /]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set complen [llength $complist]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set copytftpserver [lindex $complist [expr $complen -2]]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set copytftpfile [lindex $complist end]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt "Destination filename \[${copytftpdestfile}\]?"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set tftp_cmd_flag 21</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_resetinputbuffer</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setrawmode 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># processing of Exit to close connection</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action&#160; Exit</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; SA_telnet_closeconnection</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action&#160; exit</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; SA_telnet_closeconnection</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#action invoked when no corresponding command found</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%default_cmd_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if {$tftp_cmd_flag != 0} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # copy running-config tftp</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$tftp_cmd_flag == 1} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tftpip $SAtcmd(0)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt "Destination filename \[${myIP}-confg\]? "</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;set tftp_cmd_flag 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$tftp_cmd_flag == 2} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tftpfile $SAtcmd(0)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "$tftpfile !!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # first look for run_&lt;ip&gt;. if it exists use it,</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set lfile "/sim/run_${myIP}.txt"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;if { [file readable $lfile] == 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # next try to look for start_&lt;ip&gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set lfile "/sim/start_${myIP}.txt"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { [file readable $lfile] == 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # it too does not exist.&#160; use default</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set lfile "/sim/default.txt"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # do an actual tftp put</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; catch { SA_tftpput -h $tftpip -local $lfile -remote $tftpfile } res</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_telnet_puts $res</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tftp_cmd_flag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "1643 bytes copied in 4.9555 secs(410 bytes/sec)"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_telnet_puts "$res"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # changed hostname/ip</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_telnet_setcmdprompt "lab-simplesoft#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt "${myIP}#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; # copy startup-config tftp</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$tftp_cmd_flag == 11} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tftpip $SAtcmd(0)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt "Destination filename \[${myIP}-confg\]? "</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tftp_cmd_flag 12</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$tftp_cmd_flag == 12} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tftpfile $SAtcmd(0)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "$tftpfile !!"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # do an actual tftp put</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # first look for start_&lt;ip&gt;. if it exists use it,</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set lfile "/sim/start_${myIP}.txt"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if { [file readable $lfile] == 0 } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # it does not exist.&#160; use default</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set lfile "/sim/default.txt"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; catch { SA_tftpput -h $tftpip -local $lfile -remote $tftpfile } res</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_telnet_puts $res</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tftp_cmd_flag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "1643 bytes copied in 4.9555 secs(410 bytes/sec)"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_telnet_puts "$res"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # changed hostname/ip</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_telnet_setcmdprompt "lab-simplesoft#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt "${myIP}#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # copy tftp</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } elseif {$tftp_cmd_flag == 21} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ibuf [SA_telnet_getrawcommand]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # look for cr in the buffer</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {[string first "0d" $ibuf] != -1} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #set tftpfile $SAtcmd(0)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Receive: Accessing tftp://${copytftpserver}/${copytftpfile}..."</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # do an actual tftp get</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; catch { SA_tftpget -h $copytftpserver -local /sim/tmp_${myIP}.txt -remote $copytftpfile } res</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_telnet_puts $res</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Loading ${copytftpfile} from ${copytftpserver} (via VLAN1): !"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "1935 bytes copied in 3.329 secs (645 bytes/sec)"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tftp_cmd_flag 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_resetinputbuffer</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setrawmode 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # changed hostname/ip</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_telnet_setcmdprompt "lab-simplesoft#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;SA_telnet_setcmdprompt "${myIP}#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts -nonewline "${myIP}#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-family:'Helvetica' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">140)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-family:'Helvetica' ,'sans-serif';">Is there a way I can write a script that cause an action to be taken in all the devices that are currently being simulated. So, for example, I would like one script to tell each running device to send a trap on an average of every 15</span> ?</p>
<p class="WD_Normal">In order to invoke operations across maps we would recommend writing a script that runs outside of the SimpleAgentPro and uses a command line utility called, "sapcnsl," which can send commands to the running devices to execute. Please find, attached, a sample Tcl script that retrieves a list of running maps and for each map prints all the confirgured devices for that map. With these two pieces of information (map name and device name) you can then send commands each device to cause a trap to be sent.</p>
<p class="WD_Normal"><span style=" font-family:'Helvetica' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Example Tcl script to determine all the maps that are running and all the</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># devices configured in each map.</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">global mapList devList mapDone devDone</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Procedure:&#160;&#160;&#160; escapeBackslash</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Input:&#160;&#160;&#160;&#160;&#160;&#160;&#160; String to scan</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Return:&#160;&#160;&#160;&#160;&#160;&#160; Input string with added backslashes</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Description:&#160; This procedure scans through the given string a adds an extra</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; backslash character for each backslash it finds and returns</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; the modified string.</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">proc escapeBackslash { str } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set retString ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; for {set i 0} {$i &lt; [string length $str]} {incr i} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { [string index $str $i] == "\\" } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append retString "\\"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; append retString [string index $str $i]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; return $retString</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Procedure: &#160;&#160;&#160;getDevlist</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Input:&#160;&#160;&#160;&#160;&#160;&#160;&#160; devListChanID -- Channel I.D. to read</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; mapName -- Map name</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Return:&#160;&#160;&#160;&#160;&#160;&#160; devList(global variable) -- Contains the list of devices</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; configured in the given map</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Description:&#160; This procedure scans the output from sapcnsl, extracts each</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; device name it finds and adds the name to the devList variable.</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">proc getDevList {devListChanID mapName} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160; &#160;&#160;global devList devDone</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # If we have not reached the end of the output yet</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { ![eof $devListChanID] } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Get the next line</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set line [gets $devListChanID]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # If the line is not empty and the line does not contain dashes and the</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # line does not contain "Device Name," then the line must contain a</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # device name so add it to the list.</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { [string length $line] &amp;&amp;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [string first "--------" $line] &lt; 0 &amp;&amp;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [string first "Device Name" $line] &lt; 0} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lappend devList [lindex $line 0]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set devDone 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Procedure:&#160;&#160;&#160; getMaplist</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Input:&#160;&#160;&#160;&#160;&#160;&#160;&#160; mapListChanID -- Channel I.D. to read</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Return:&#160;&#160;&#160;&#160;&#160;&#160; maplist(global variable) -- Contains the list of running maps</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Description:&#160; This procedure scans the output from sapcnsl, extracts each</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; map name it finds and adds the name to the maplist variable.</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">proc getMapList {mapListChanID} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; global mapList mapDone</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { ![eof $mapListChanID] } {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set line [gets $mapListChanID]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # If the line is not empty and the line does not contain dashes and the</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # line does not contain "Port #," then the line must contain a device</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # name so add it to the list.</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { [string length $line] &amp;&amp;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [string first "--------" $line] &lt; 0 &amp;&amp;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [string first "Port #" $line] &lt; 0} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Find the beginning of the map name and extract the string from</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # that point to the end of the line to form the name to add to the</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # list</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mapNameIndex [string first [string index [lindex $line 1] 0] $line]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mapName [string range $line $mapNameIndex end]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; lappend mapList $mapName</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mapDone 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Main code begins here....</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Initialize the scan done flag</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">set mapDone 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Invoke sapcnsl and pipe the output to the getMapList callback procedure (NOTE:</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># mapList is a global variable.)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">set mapList ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">set mapListChan [open "| sapcnsl -p 2100 -c maplist"]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">fileevent $mapListChan readable [list getMapList $mapListChan]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Wait for the sapcnsl and scan to complete and close the pipe</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">vwait mapDone</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">close $mapListChan</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># For each map name run sapcnsl to get the list of devices configured in the</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># map. (NOTE: devlist is a global variable)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">foreach mapName $mapList {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Print each map name found in the list</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts "Map: $mapName"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Initialize the scan done flag</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set devDone 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Invoke sapcnsl and pipe the output to the getDevList callback procedure</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # (NOTE: For Windows we need to escape the backslashes in the map name so</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # that they get passed to sapcnsl properly.)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set devList ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set devListChan [open "| sapcnsl -p 2100 -m \"[escapeBackslash $mapName]\" -c devlist"]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Wait for the sapcnsl and scan to complete and close the pipe</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; fileevent $devListChan readable [list getDevList $devListChan $mapName]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; vwait devDone</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; close $devListChan</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Print each device name found in the list</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set devNum 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; foreach devName $devList {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr devNum</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts "&#160; Device $devNum = $devName"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p class="WD_Normal"><span style=" font-family:'Helvetica' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">141)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-family:'Helvetica' ,'sans-serif';">Can you give me an example telnet file that does multi-level exit as well as save command information so that it is displayed in some other command ?</span></p>
<p class="WD_Normal">As mentioned earlier, you can create a multi-leve exit processing by remembering the level of commands and then backtracking each level.&#160; Also the state information can be saved in memory to be used in other telnet sessions.&#160; The example below does that for the show vlan brief command.</p>
<p class="WD_Normal"><span style=" font-family:'Helvetica' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">########################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># sample telnet file</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">########################################################</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%init_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # login information</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # enable debugging. comment out three lines when working</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_debugflag 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_debugfile ${myIP}_telnet.dbg</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setloginmode 1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setloginuser admin</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setloginpasswd abc</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setaddloginpasswd pqr</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setaddpasswdprompt "Password: "</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # get the devstring and evaluate it</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; eval [SA_telnet_getdevstring]</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # setting up banner</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setbanner "\r\n\r\nUser Access Verification\r\n"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # setting up command prompt</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set startprompt "Cat3750SwRtr"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set cmdlevel 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set cmdprompt($cmdlevel) "${startprompt}&gt; "</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt $cmdprompt($cmdlevel)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; terminal no monitor</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action terminal no monitor</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; terminal length 24</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action terminal length 24</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; terminal no editing</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action terminal no editing</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># response handler for&#160; show version (only partial...)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action show version</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; SA_telnet_puts "Cisco IOS Software, C3750 Software (C3750-ADVIPSERVICESK9-M), Version 12.2(44)SE, RELEASE SOFTWARE (fc1)"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160; SA_telnet_puts "Copyright (c) 1986-2008 by Cisco Systems, Inc."</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># processing additional login commands</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action&#160; enable</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setaddloginmode 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># processing additional login</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action&#160; en</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setaddloginmode 2</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%after_addlogin_action</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # change the prompt to have a #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; incr cmdlevel</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set cmdprompt($cmdlevel) "${startprompt}# "</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt $cmdprompt($cmdlevel)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># processing exit from enabled mode</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action&#160; disable</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # change the prompt to have a &gt;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set cmdlevel 0</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt $cmdprompt($cmdlevel)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># processing config t</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action&#160; config t</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "Enter configuration commands, one per line. End with CNTL/Z."</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; incr cmdlevel</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set cmdprompt($cmdlevel) "$startprompt}(config)#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt $cmdprompt($cmdlevel)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># processing line vty</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action&#160; line vty 0 4</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; incr cmdlevel</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set cmdprompt($cmdlevel) "${startprompt}(config-line)#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt $cmdprompt($cmdlevel)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># process multi-level exit</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action&#160; exit</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if {$cmdlevel == 0} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_closeconnection</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr cmdlevel -1</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcmdprompt $cmdprompt($cmdlevel)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># vlan brief with some stored data</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action vlan</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # get the arguments and store them</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set vlan_number($SAtcmd(1)) $SAtcmd(1)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set vlan_name($SAtcmd(1)) VLAN$SAtcmd(1)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set vlan_status($SAtcmd(1)) active</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set vlan_ports($SAtcmd(1)) ""</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_appenddevstring "set vlan_number($SAtcmd(1)) $SAtcmd(1);"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_appenddevstring "set vlan_name($SAtcmd(1)) VLAN$SAtcmd(1);"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_appenddevstring "set vlan_status($SAtcmd(1)) active;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_appenddevstring "set vlan_ports($SAtcmd(1)) \"\";"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># interface</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action interface</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set lastInterface $SAtcmd(1)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; incr cmdlevel</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set cmdprompt($cmdlevel) "${startprompt}(config-if)#"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_setcmdprompt $cmdprompt($cmdlevel)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># associating interface with vlan</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action switchport access vlan&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set vlan_ports($SAtcmd(3)) $lastInterface</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_appenddevstring "set vlan_ports($SAtcmd(3)) $lastInterface;"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># vlan brief with stored info</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">%cmd_action show vlan brief</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "VLAN Name&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Status&#160;&#160;&#160; Ports"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "---- -------------------------------- --------- -------------------------------"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "1&#160;&#160;&#160; default&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; active&#160;&#160;&#160; Gi3/0/2, Gi3/0/14, Gi3/0/16"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_telnet_puts "10&#160;&#160; VLAN0010&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; active"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # now output all the dynamically added vlans</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if {[array exists vlan_number]} {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; foreach index [array names vlan_number] {</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "$vlan_number($index) $vlan_name($index)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; $vlan_status($index)&#160;&#160;&#160; $vlan_ports($index)"</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">142)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> <span style=" font-family:'Helvetica' ,'sans-serif';">I am specifying an engineid and context id when defining a simulated device’s SMNPv3 properties as my NMS does not support discovery, but when I do that, the packets are not getting decoded correctly?</span></p>
<p class="WD_Normal">SimpleAgentPro allows you to specify SNMPv3 paramaters, but since the engineid is also used when creating the localized keys, they can cause errors in packet encryption/decryption when not specified correctly.&#160; The best way is to use the hex format when specifying engine ids by prepending the hex string with a “0x”.&#160; An example engine Id is 0x8000031201000000c0a864b8.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">143)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;<span style=" font-family:'Helvetica' ,'sans-serif';">I want to have all the devices in a map carry out some action at almost the same time.&#160; Is there a way to do this ?</span></p>
<p class="WD_Normal">In 18.5, SimpleAgentPro modeling file includes an additional command action called %flag_action.&#160; The GUI and sapcnsl commands allow you to send a command to all the devices in a map with a specific flag value.&#160; Upon receipt of this message, all the devices will evaluate the tcl script associated with the flag action.&#160;&#160; Tcl commands SA_setactionid and SA_getactionid allow you to examine the flag value and take appropriate action.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">144)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;<span style=" font-family:'Helvetica' ,'sans-serif';">I want to disable firewall or iptable filtering on Linux.&#160; Is there a way to do this ?</span></p>
<p class="WD_Normal">You can disable firewall/iptables on Linux by doing the following commands:</p>
<p style=" line-height:normal;" class="WD_Normal"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">Type the following two commands (you must login as the root user):</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&gt; service</font></span> <span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">iptables stop</font></span> <span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;"><br />
<br />
Turn off firewall on boot:</font></span></p>
<p style=" line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&gt; chkconfig iptables off</font></span></p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">145)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;<span style=" font-family:'Helvetica' ,'sans-serif';">When using RRP files in xml/http simulation, I want to specify that certain parts of the incoming url should be wildcarded as it changes from session to session, but the response will remain the same.&#160; How do I do this ?</span></p>
<p class="WD_Normal">You can associate a modeling file with the device that is using an xml rrp file and specify the url along with the part of the url that is to be wildcarded as shown below.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">%xml_init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; # turn debugging on at the beginning.&#160; later on turn it off for better</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; # performance</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_xml_debugflag 2</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_xml_debugfile xml_${myIP}.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_xml_rrp_uriwildcard GET /abcd/retrieve?dojo.preventCache=1411126292710&amp;.pqr=ROOT 1411126292710</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">So for GET requests with url of <span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">/abcd/retrieve?dojo.preventCache=1411126292710&amp;.pqr=ROOT</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">The value of 1411126292710 is treated as a wildcard, and the response matching will work for urls with other values like</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">/abcd/retrieve?dojo.preventCache=1234567890123&amp;.pqr=ROOT</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">146)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;<span style=" font-family:'Helvetica' ,'sans-serif';">When using RRP files in xml/http simulation, I want to specify many such wildcards.&#160; Is there a script that I can use that will go through my rrp file and create the modeling file like in the earlier question ?</span></p>
<p class="WD_Normal">A sample script file that goes through rrp file’s&#160; “get” http requests looking for a pattern and creates the smf modeling file with wildcard calls is shown below.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#!/usr/bin/tclsh</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"># tcl script that parses rrp file looking for</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"># get urls with preventCache and uses its value</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"># as a wild card</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"># expects argument with rrp file name</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"># outputs the modeling file to stdout</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#print out basic modeling file stuff</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">puts "%xml_init_action"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">puts "&#160;&#160;&#160; set myIP \[SA_getmyip\]"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">puts "&#160;&#160;&#160; #SA_xml_debugflag 2"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">puts "&#160;&#160;&#160; #SA_xml_debugfile xml_\$\{myIP\}.dbg"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">puts " "</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#expects rrp file name as argv1</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">if [catch {open $argv r} fileId] {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; puts "ERROR: need rrp file as an argument"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">} else {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; #read each line</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; while { [gets $fileId line] &gt;= 0} {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # first get all lines starting with ##get:</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {[string match "##get:*" $line]} {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # break it up to get the url</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set complist [split $line :]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set url [lindex $complist 2]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # now check if the url has preventCache</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set bindex [string first preventCache $url]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$bindex != -1} {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # get the number preventCache=&lt;n&gt;&amp;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # expects the number to between = and &amp;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # go to the beginning of = to get the number</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set bindex [expr $bindex + 13]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set parturl [string range $url $bindex end]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set eindex [string first "&amp;" $parturl]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;if {$eindex != -1} {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set eindex [expr $eindex + $bindex - 1]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set cachenum [string range $url $bindex $eindex]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # add the uriwildcard call</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts "&#160;&#160; SA_xml_rrp_uriwildcard GET $url $cachenum"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts " "</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; }</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; close $fileId</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">}</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">147)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;<span style=" font-family:'Helvetica' ,'sans-serif';">When learning telnet responses from a device, I want to use command completion logic to automatically learn additional commands with arguments based on information returned. How do I do that ?</span></p>
<p class="WD_Normal">The learning logic supports three special keywords “%CMDCOMP”, “%RCMDCOMP”, and “%TCMDCOMP”.&#160; To learn all show options, except those in the global tcl variable “cmdstoignore” list, use “show %CMDCOMP%” and it will automatically send “show cdp”, “show history”, “show verison” etc.&#160; To recursively learn all show options, except those in the global tcl variable “cmdstoignore” list, use “show %RCMDCOMP%” and to store the results of the command completion list returned to manipulate later on, you can use “show %TCMDCOMP%.</p>
<p class="WD_Normal">If you have a command file that has the following</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">show %CMDCOMP%</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">show %RCMDCOMP%</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">show %TCMDCOMP%</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">%tclscript set newcmd \"show [lindex $cmdcomplist 2]\";insert_command $newcmd;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">And you give it to tellearn to learn from a device, based on the options returned for “show”, you will see something like the following</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Trying to setup a telnet connection to 192.168.100.99</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Waiting for command prompt</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show ?" to get its options</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show version" and learning its response</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show terminal" and learning its response</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show history" and learning its response</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show cdp" and learning its response</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show ?" to get its options</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show version ?" to get its options</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show version" and learning its response</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show terminal ?" to get its options</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show terminal" and learning its response</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show history ?" to get its options</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show history" and learning its response</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show cdp ?" to get its options</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show cdp" and learning its response</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show cdp neighbors ?" to get its options</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show cdp neighbors" and learning its response</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show cdp neighbors detail ?" to get its options</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show cdp neighbors detail" and learning its response</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show ?" to get its options</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Set tcl variable cmdcomplist to cdp history terminal version</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Evaluating user script</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Evaluation of user script completed</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Sending command "show terminal" and learning its response</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Closing the telnet connection</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">148)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to support netconf request processing within my telnet modeling file. How do I that ?</p>
<p class="WD_Normal">Version 19.0 has added netconf request processing within the telnet modeling file.&#160; The sapt2tel utility that converts pcap files to telnet modeling files can also handle netconf request processing.&#160; A small section for the typical telnet modeling file related to netconf processing is shown below.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"># command handler for (netconf echo)</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">%cmd_action netconf echo</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set before_ncprompt [SA_telnet_getcmdprompt]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_setcmdprompt ""</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_netconf_opensession</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_netconf_cleardata</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_netconf_appenddata "&lt;capabilities&gt;&lt;capability&gt;urn:ietf:params:netconf:base:1.0&lt;/capability&gt;&lt;capability&gt;urn:ietf:params:netconf:capability:candidate:1.0&lt;/capability&gt;&lt;capability&gt;urn:ietf:params:netconf:capability:notification:1.0&lt;/capability&gt;&lt;/capabilities&gt;"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_netconf_sendhello</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_puts</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#handler for get request</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">%netconf_cmd_action get</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set reqparam [SA_telnet_netconf_getreqparam]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; if {$reqparam == "(N=filter)(N=Operational)(N=SpanningTreeProtocol)" } {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_netconf_cleardata</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_netconf_appenddata "&lt;data&gt;&lt;Operational&gt;&lt;SpanningTreeProtocol MajorVersion=\"4\" MinorVersion=\"5\" NotFound=\"true\"/&gt;&lt;/Operational&gt;&lt;/data&gt;"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_netconf_sendreply</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; &#160;&#160;&#160;&#160;SA_telnet_puts</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; }</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#handler for close-session request</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">%netconf_cmd_action close-session</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_netconf_cleardata</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_netconf_appenddata "&lt;ok/&gt;"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_netconf_sendreply</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_puts</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_setcmdprompt $before_ncprompt</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_netconf_closesession</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">149)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to change the values returned for ipmi commands.&#160; How do I that ?</p>
<p class="WD_Normal">In the IPMI modeling file, data is returned as hex strings.&#160; You need tounderstand the format of the data to change it.&#160; In the example below, the Chassis power status is changed periodically from on to off.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">%init_action</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; ...</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; # set initial flag value</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set flag 0</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; # set the default power status to on</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set powerStatus 0x21000054</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; ...</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">#NetFn = 00, Cmd = 01(Chassis-Get Chassis Status)</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">%cmd_action 00_01</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_ipmi_clearrespdata</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_ipmi_setrespnetfun 0x01</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_ipmi_setrespcompcode 0x00</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_ipmi_appendrespdata $powerStatus</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"># change the value of powerStatus ever 5 seconds</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">%timer_action 5</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; if {$flag == 0} {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; # set powerStatus to 0ff&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; set powerStatus 0x20000054</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; set flag 1</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; } else {</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; # set powerStatus to On&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; set powerStatus 0x21000054</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; set flag 0</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; }</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">150)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;When doing telnet simulation that is invoking TFTP file transfer, I want some characters to be displayed in the telnet session while the file is being transferred.&#160; How do I do that ?</p>
<p class="WD_Normal">In 19.5, the SA_tftpget and SA_tftpput tcl command have two additional arguments that have been added.&#160; They are a userscript that you want the underlying tftp get/put to evaluate every &lt;n&gt; blocks, where the &lt;n&gt; can be specified using userblknum.&#160;&#160; So to display a “!” character every 100<sup>th</sup> block (each block is 512 bytes), you can say</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;<br />
SA_tftpget -h 192.168.100.30 -remote big.zip -local big.zip -userscript "SA_telnet_puts -nonewline !" -userblknum 100</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">151)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;When doing TL1 simulation I want to send different responses based on the aid value in the request.&#160; How do I do that ?</p>
<p class="WD_Normal">The TL1 simulator parses the incoming request and the parsed components are available for examination by calling different TL1 commands.</p>
<p class="WD_Normal">You can examine the aid by calling the SA_TL1_getcmdaid as shown in the example below..</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;<br />
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">####################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># handle processing of input message</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#&#160;&#160;&#160;&#160; RTRV-OCHCC::all:p00025;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">####################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action&#160; RTRV-OCHCC</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # sending response</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set aid [SA_TL1_getcmd_aid]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if {$aid == "all"} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;SA_TL1_setresp_sid $mySid</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;SA_TL1_setresp_compcode&#160; COMPLD</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;SA_TL1_setresp_appendline "\"AG-11::PAYLOAD=10GIGE,CKTID=\\\"1_1andR\\\",:OOS-MA,DSBLD\""</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;SA_TL1_setresp_appendline "\"AG-22::PAYLOAD=10GIGE,CKTID=\\\"ASR1-7to20-1-6\\\",:IS-NR,\""</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;SA_TL1_setresp_appendline "\"AG-33::PAYLOAD=10GIGE,CKTID=\\\"ASR1-7to20-1-6\\\",:IS-NR,\""</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;SA_TL1_sendrespmsg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; } elseif {$aid == "AG-22"} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;SA_TL1_setresp_sid $mySid</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;SA_TL1_setresp_compcode&#160; COMPLD</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;SA_TL1_setresp_appendline "\"AG-22::PAYLOAD=10GIGE,CKTID=\\\"ASR1-7to20-1-6\\\",:IS-NR,\""</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;SA_TL1_sendrespmsg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; } elseif {$aid == "AG-33"} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;SA_TL1_setresp_sid $mySid</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;SA_TL1_setresp_compcode&#160; COMPLD</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;SA_TL1_setresp_appendline "\"AG-33::PAYLOAD=10GIGE,CKTID=\\\"ASR1-7to20-1-6\\\",:IS-NR,\""</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;SA_TL1_sendrespmsg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">152)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;In the telnet modeling file, I want to convert the device IP into an integer to be used as a device identifier.&#160; How do I do this in Tcl ?</p>
<p class="WD_Normal">The following snippet shows a simple tcl script to map the IP into a number.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;<br />
proc convert_ip_to_uint { ipstr } {<br />
&#160;&#160;&#160; set iplist [split $ipstr .]<br />
&#160;&#160;&#160; set iphex3 [format "%02x" [lindex $iplist 3]]<br />
&#160;&#160;&#160; set iphex2 [format "%02x" [lindex $iplist 2]]<br />
&#160;&#160;&#160; set iphex1 [format "%02x" [lindex $iplist 1]]<br />
&#160;&#160;&#160; set iphex0 [format "%02x" [lindex $iplist 0]]<br />
&#160;&#160;&#160; set iphex "${iphex0}${iphex1}${iphex2}${iphex3}"<br />
&#160;&#160;&#160; scan $iphex "%x" intVal<br />
&#160;&#160;&#160; set&#160; uintVal [format "%u" $intVal]<br />
&#160;&#160;&#160; return $uintVal<br />
}<br />
set ipstr1 [SA_getmyip]<br />
set ipnum1 [convert_ip_to_uint $ipstr1]<br />
<br /></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">153)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to record a telnet response from a device and save it into a file..How do I do that ??</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:4.5pt;" class="WD_Normal">The tellearn now support %TCMDRESP% special character that tells the program to send the command and save the response in a tcl variable called cmdresplist.&#160; You can then run a tcl script to save the contents of the response list into a file.&#160;&#160; The command file given to tellearn</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:4.5pt;" class="WD_Normal">can contain...</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">enable</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">show interface%TCMDRESP%</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">%tclscript set fileId [open /tmp/foo w];foreach line $cmdresplist {puts $fileId $line};close $fileId</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">154)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to use user defined token values like $$MYTOKENS001$$ in a telnet modeling file.&#160; How do I do that ?</p>
<p class="WD_Normal">The user defined token values are derived from the comma separated values in the device topology data field.&#160; The topology data field is available to the telnet interpretor.&#160; So in the init_action section of the telnet modeling file, you can set tcl variables to the token values and use them in the responses as shown below</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;<br />
%init_action</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; ...</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set dtopo [SA_getdevicetopodata]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set dtopolist [split $dtopo ,]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set token1 [lindex $dtopolist 0]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set token2 [lindex $dtopolist 1]</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">%cmd_action&#160; test cmd</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160; SA_telnet_puts "my token1 is $token1"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">155)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;How can we initialize the SNMPv3 tables to reflect the current device SNMPv3 configuation ?</p>
<p class="WD_Normal">Configure the device with the following var file and modeling. Note that the modeling also includes support for simulating the cloning of a user in the usmUserTable.</p>
<p class="WD_Normal">The following var file will work in conjunction with the modeling files that following. It includes the dynamic row templates for the SNMPv3 tables and a minimal set of variables:</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;<br />
<span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">####################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Time:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Thu Apr 28 08:30:43 2016</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Number of Rows:&#160;&#160;&#160;&#160; 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Value type formats:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; fixed(current_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; lastset(initial_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; r_lastset(min, max, initial_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; random(starting_value,max_delta)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; randomup(starting_value,max_delta)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; clock(starting_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; sequential(min_value,max_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; seqinc(min_value,increment,max_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; seqtimeinc(min_value,increment,max_value)&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; dfixed(current_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; rowstatus(current_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; testandinc(current_value)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; utilization(min_value,max_delta,max_value)&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; valuelist(a, b, c, d, e, ...)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; fastclock(starting_value, multiplier)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160; valueintlist(a, b, c, d, e, ...)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">####################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># template for dynamic row. To use, please remove the starting hash signs</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%drow&#160; 1.3.6.1.6.3.12.1.2.1&#160;&#160; rowstatus</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetAddrName&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq OctetString&#160; NA dfixed(abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetAddrTDomain&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; ObjectID&#160;&#160;&#160;&#160; RC lastset(1.2.3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetAddrTAddress&#160;&#160;&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(1, 255, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetAddrTimeout&#160;&#160;&#160;&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(0, 2147483647, 3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetAddrRetryCount&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(0, 255, 3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetAddrTagList&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 255, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetAddrParams&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; OctetString &#160;RC r_lastset(1, 32, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetAddrStorageType NotReq Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 5, 3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetAddrRowStatus&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC rowstatus(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># template for dynamic row. To use, please remove the starting hash signs</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%drow&#160; 1.3.6.1.6.3.12.1.3.1&#160;&#160; rowstatus</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetParamsName&#160;&#160;&#160;&#160;&#160; NotReq OctetString&#160; NA dfixed(abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetParamsMPModel&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(0, 2147483647, 1073741823)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetParamsSecurityModel Req&#160; Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 2147483647, 1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetParamsSecurityName Req&#160;&#160; OctetString&#160; RC r_lastset(0, 255, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetParamsSecurityLevel Req&#160; Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 3, 1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetParamsStorageType NotReq Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 5, 3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpTargetParamsRowStatus Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC rowstatus(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># template for dynamic row. To use, please remove the starting hash signs</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%drow&#160; 1.3.6.1.6.3.13.1.1.1&#160;&#160; rowstatus</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyName&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq OctetString&#160; NA dfixed(abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyTag&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 255, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyType&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 2, 1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyStorageType&#160;&#160;&#160;&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 5, 3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyRowStatus&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC rowstatus(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># template for dynamic row. To use, please remove the starting hash signs</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%drow&#160; 1.3.6.1.6.3.13.1.2.1&#160;&#160; rowstatus</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyFilterProfileName Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(1, 32, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyFilterProfileStorType Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 5, 1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyFilterProfileRowStatus Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC rowstatus(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># template for dynamic row. To use, please remove the starting hash signs</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%drow&#160; 1.3.6.1.6.3.13.1.3.1&#160;&#160; rowstatus</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyFilterSubtree&#160;&#160; NotReq ObjectID&#160;&#160;&#160;&#160; NA dfixed(1.2.3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyFilterMask&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 16, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyFilterType&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 2, 1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyFilterStorageType Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 5, 1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpNotifyFilterRowStatus Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC rowstatus(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># template for dynamic row. To use, please remove the starting hash signs</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%drow&#160; 1.3.6.1.6.3.14.1.2.1&#160;&#160; rowstatus</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpProxyName &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;NotReq OctetString&#160; NA dfixed(abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpProxyType&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 4, 1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpProxyContextEngineID&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(5, 32, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpProxyContextName&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 255, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpProxyTargetParamsIn&#160;&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 255, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpProxySingleTargetOut&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 255, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpProxyMultipleTargetOut Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 255, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpProxyStorageType&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 5, 1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpProxyRowStatus&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC rowstatus(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># template for dynamic row. To use, please remove the starting hash signs</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%drow&#160; 1.3.6.1.6.3.15.1.2.2.1&#160;&#160; rowstatus</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserEngineID&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq OctetString&#160; NA dfixed(abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserName&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq OctetString&#160; NA dfixed(abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserSecurityName&#160;&#160;&#160;&#160;&#160;&#160; NotReq OctetString&#160; RO fixed(temip)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserCloneFrom&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq ObjectID&#160;&#160;&#160;&#160; RC lastset()</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserAuthProtocol&#160;&#160;&#160;&#160;&#160;&#160; NotReq ObjectID&#160;&#160;&#160;&#160; RC lastset(1.2.3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserAuthKeyChange&#160;&#160;&#160;&#160;&#160; NotReq OctetString&#160; RC lastset()</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserOwnAuthKeyChange&#160;&#160; NotReq OctetString&#160; RC lastset()</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserPrivProtocol&#160;&#160;&#160;&#160;&#160;&#160; NotReq ObjectID&#160;&#160;&#160;&#160; RC lastset(1.2.3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserPrivKeyChange&#160;&#160;&#160;&#160;&#160; NotReq OctetString&#160; RC lastset()</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserOwnPrivKeyChange&#160;&#160; NotReq OctetString&#160; RC lastset()</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserPublic&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq OctetString&#160; RC r_lastset(0, 32, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserStorageType&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 5, 3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; usmUserStatus&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC rowstatus(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># template for dynamic row. To use, please remove the starting hash signs</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%drow&#160; 1.3.6.1.6.3.16.1.2.1&#160;&#160; rowstatus</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmSecurityModel&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; NA dfixed(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmSecurityName&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq OctetString&#160; NA dfixed(abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmGroupName&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(1, 32, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmSecurityToGroupStorageType NotReq Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 5, 3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmSecurityToGroupStatus&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC rowstatus(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># template for dynamic row. To use, please remove the starting hash signs</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%drow&#160; 1.3.6.1.6.3.16.1.4.1&#160;&#160; rowstatus</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmAccessContextPrefix&#160;&#160; NotReq OctetString&#160; NA dfixed(abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmAccessSecurityModel&#160;&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; NA dfixed(1073741823)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmAccessSecurityLevel&#160;&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; NA dfixed(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmAccessContextMatch&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 2, 1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmAccessReadViewName&#160;&#160;&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 32, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmAccessWriteViewName&#160;&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 32, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmAccessNotifyViewName&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 32, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmAccessStorageType&#160;&#160;&#160;&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 5, 3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmAccessStatus&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC rowstatus(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># template for dynamic row. To use, please remove the starting hash signs</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%drow&#160; 1.3.6.1.6.3.16.1.5.2.1&#160;&#160; rowstatus</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmViewTreeFamilyViewName NotReq OctetString&#160; NA dfixed(abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmViewTreeFamilySubtree NotReq ObjectID&#160;&#160;&#160;&#160; NA dfixed(1.2.3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmViewTreeFamilyMask&#160;&#160;&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 16,)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmViewTreeFamilyType&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 2, 1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmViewTreeFamilyStorageType NotReq&#160; Integer RC r_lastset(1, 5, 3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; vacmViewTreeFamilyStatus&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC rowstatus(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># template for dynamic row. To use, please remove the starting hash signs</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%drow&#160; 1.3.6.1.6.3.18.1.1.1&#160;&#160; rowstatus</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpCommunityIndex&#160;&#160;&#160;&#160;&#160;&#160;&#160; NotReq OctetString&#160; NA dfixed(abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpCommunityName&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; OctetString&#160; RC lastset(abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpCommunitySecurityName Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(1, 32, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpCommunityContextEngineID Req OctetString&#160; RC r_lastset(1, 32, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpCommunityContextName&#160; Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 32, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpCommunityTransportTag Req&#160;&#160;&#160; OctetString&#160; RC r_lastset(0, 255, abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpCommunityStorageType&#160; NotReq Integer&#160;&#160;&#160;&#160;&#160; RC r_lastset(1, 5, 3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%dcol&#160; snmpCommunityStatus&#160;&#160;&#160;&#160;&#160;&#160; Req&#160;&#160;&#160; Integer&#160;&#160;&#160;&#160;&#160; RC rowstatus(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">sysDescr.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , OctetString , RO , fixed(My_sysDescr_string)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">sysObjectID.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , ObjectID&#160;&#160;&#160; , RO , fixed(1.2.3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">sysUpTime.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , TimeTicks&#160;&#160; , RO , clock(0)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">sysContact.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , OctetString , RW , r_lastset(0, 255, My_sysContact_string)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">sysName.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , OctetString , RW , r_lastset(0, 255, My_sysName_string)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">sysLocation.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , OctetString , RW , r_lastset(0, 255, My_sysLocation_string)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">sysServices.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RO , fixed(63)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">snmpEngineID.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , OctetString , RO , fixed(00000063000000a1c0a8c868)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">snmpEngineBoots.0&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;, Integer&#160;&#160;&#160;&#160; , RO , fixed(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">snmpEngineTime.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RO , fixed(1073741823)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">snmpEngineMaxMessageSize.0&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RO , fixed(484)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">snmpUnknownSecurityModels.0&#160;&#160; , Counter&#160;&#160;&#160;&#160; , RO , randomup(1000, 100)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">snmpInvalidMsgs.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Counter&#160;&#160;&#160;&#160; , RO , randomup(1000, 100)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">snmpUnknownPDUHandlers.0&#160;&#160;&#160;&#160;&#160; , Counter&#160;&#160;&#160;&#160; , RO , randomup(1000, 100)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">snmpTargetSpinLock.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RW , r_lastset(0, 2147483647, 1073741823)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">snmpUnavailableContexts.0&#160;&#160;&#160;&#160; , Counter&#160; &#160;&#160;&#160;, RO , randomup(1000, 100)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">snmpUnknownContexts.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Counter&#160;&#160;&#160;&#160; , RO , randomup(1000, 100)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">usmStatsUnsupportedSecLevels.0, Counter&#160;&#160;&#160;&#160; , RO , randomup(1000, 100)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">usmStatsNotInTimeWindows.0&#160;&#160;&#160; , Counter&#160;&#160;&#160;&#160; , RO , randomup(1000, 100)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">usmStatsUnknownUserNames.0&#160;&#160;&#160; , Counter&#160;&#160;&#160;&#160; , RO , randomup(1000, 100)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">usmStatsUnknownEngineIDs.0&#160;&#160;&#160; , Counter&#160;&#160;&#160;&#160; , RO , randomup(1000, 100)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">usmStatsWrongDigests.0&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Counter&#160;&#160;&#160;&#160; , RO , randomup(1000, 100)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">usmStatsDecryptionErrors.0&#160;&#160;&#160; , Counter&#160;&#160;&#160;&#160; , RO , randomup(1000, 100)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">usmUserSpinLock.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RW , r_lastset(0, 2147483647, 1073741823)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">vacmViewSpinLock.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , Integer&#160;&#160;&#160;&#160; , RW , r_lastset(0, 2147483647, 1073741823)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">snmpTrapAddress.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , IpAddress&#160;&#160; , NA , fixed(1.2.3.4)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">snmpTrapCommunity.0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; , OctetString , NA , fixed(abc)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">The following modeling file will add all the pertinent SNMPv3 tables along</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">with support for cloning users in the usmUserTable:</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Global Functions</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># This procedure converts a hex string like 0x010203040506 or a text string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># to either a fixed length instance or a variable length instance</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Format:</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160; str2Inst inputString [var | fix]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Where:</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160; inputString&#160;&#160;&#160; Hexidecimal string (Begins with '0x') or text string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160; var | fix&#160;&#160;&#160;&#160;&#160; Optional flag indicating variable (var) or fixed (fix)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;length instance. The default is fixed is left off</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">proc str2inst { inString {varLenFlag fix} } {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Initialize the output string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set outString ""</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Is this a text string or a hexidecimal string?</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { [string range $inString 0 1] == "0x" } {&#160;&#160; ;# Must be a hex string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Skip "0x" and calculate the length</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set slen [string length $inString]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set numOctets [expr [expr $slen - 2] / 2]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # add length if variablelength string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$varLenFlag == "var"} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append outString [format %d. $numOctets]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Loop through the string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; for {set i 2} {$i &lt; $slen} {incr i 2} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Only add a period of this is not the first octet</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i != 2} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append outString "."</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Extract the next Octet</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set j [expr $i + 1]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set octet [string range $inString $i $j]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Convert the octet string to an integer</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; scan $octet "%02x" intVal</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # add it to the output string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append outString [format %d $intVal]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; } else {&#160;&#160;&#160; ;# Must be a text string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Calculate the string length</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set slen [string length $inString]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # add length if variablelength string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$varLenFlag == "var"} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append outString [format "%d." $slen]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Loop through the string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; for {set i 0} {$i &lt; $slen} {incr i} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Only add a period of this is not the first character</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i != 0} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append outString "."</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Extract the next character</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set char [string index $inString $i]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Convert the character to an integer</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; scan $char "%c" intVal</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # add it to the output string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; append outString $intVal</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; return $outString</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># This procedure converts an IPv4 address and port number to a TAddress string.</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Format:</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160; ipv4ToTAddr addr port</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Where:</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160; addr&#160;&#160;&#160; IPv4 address in dotted format (x.x.x.x)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160; port&#160;&#160;&#160; decimal value of UDP port number</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">proc ipv4ToTAddr { addr port } {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set TAddr "0x"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Convert each sub address to a 2 digit hex value and append it</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # to the TAddress string buffer</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set addrList [split $addr "."]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; foreach subAddr $addrList {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; append TAddr [format %02x $subAddr]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Convert the port number to a 4 digit hex value and append it</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # to the TAddress string buffer</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; append TAddr [format %04x $port]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Return the TAddress string to the caller</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; return $TAddr</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># This procedure extracts the user name from the usmUserTable row index</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Format:</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160; extractUserName oid</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Where:</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160; oid&#160;&#160;&#160;&#160; The instance portion of one of the columns in the usmUserTable</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">proc extractUserName { oid } {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set oidList [split $oid "."]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># &#160;&#160;Calculate the offsets to the user name in the instance string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set engIDLen [lindex $oidList 12]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set usrIDLen [lindex $oidList [expr $engIDLen + 13]]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set usrIDIdx [expr $engIDLen + 14]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set usrName ""</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Extract and convert the user name in the instance to a regular string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; for { set i $usrIDIdx } { $i &lt; [llength $oidList] } { incr i } {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; append usrName [format "%c" [lindex $oidList $i]]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Return the user name string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; return $usrName</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># This procedure updates the auth and priv protocols in the usmUserTable for</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># the new user that was just cloned</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Format:</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160; updateV3UserProto cloneUser instance</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Where:</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160; cloneUser&#160;&#160;&#160;&#160; The name of the user that was just added</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160; instance&#160;&#160;&#160;&#160;&#160; The instance of the row that was just added</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">proc updateV3UserProto {cloneUser instance} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set v3UserInfo [SA_getv3userinfo $cloneUser]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set secLevel [lindex $v3UserInfo 1]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set authType [lindex $v3UserInfo 2]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { $secLevel == 1 } {&#160;&#160;&#160;&#160;&#160; ;# secLevel = noAuth/noPriv</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.1"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.1"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; } elseif { $secLevel == 2 } {;# secLevel = Auth/noPriv</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $authType == 1 } {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# authType = MD5</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.2"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.1"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;;# authType = SHA</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.3"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.1"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; } elseif { $secLevel == 3 } {;# secLevel = Auth/Priv</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $authType == 1 } {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# authType = MD5</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;set authProto "1.3.6.1.6.3.10.1.1.2"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.2"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# authType = SHA</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.3"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.2"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_setvar [list [list 1.3.6.1.6.3.15.1.2.2.1.5.$instance ObjectID $authProto] \</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [list 1.3.6.1.6.3.15.1.2.2.1.8.$instance ObjectID $privProto]]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># init_action code begins here</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Setup SNMP debug trace file</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># (Comment out if not needed)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set myIP [SA_getmyip]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_setsnmpdebugflag 2</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_setsnmpdebugfile snmp_$myIP.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Setup TCL debug trace file</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># (Comment out if not needed)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_settcldebugflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_settcldebugfile tcl_$myIP.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Setup the Trap Manager list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set trapMgrs 10.0.0.1,10.0.0.2</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_settrapmgrs $trapMgrs</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Get the current Context Engine I.D and Context Name</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set cntxtEngID [SA_getmysnmpv3param CONTEXT_ENGINE_ID]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set cntxtName [SA_getmysnmpv3param CONTEXT_NAME]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Set the SNMP Engine I.D. MIB object to the device's assigned value</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set snmpEngID [SA_getmysnmpv3param SNMP_ENGINE_ID]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_setvaltype [list [list snmpEngineID.0 OctetString "fixed($snmpEngID)"]]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Get the configured User info for the device</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set userInfo [SA_getv3userinfo]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set userName [lindex $userInfo 0]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set userSecLevel [lindex $userInfo 1]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set userAuthProto [lindex $userInfo 2]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add the configured User to the usmUserTable</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set varbindList {}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Clear varbind list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set engIDInst [str2inst $snmpEngID var]&#160;&#160;&#160;&#160; ;# Convert Eng I.D to instance</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set userNameInst [str2inst $userName var]&#160;&#160; ;# Convert username to instance</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Create the varbind list for the new row in the user table</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">if { $userSecLevel == 1 } {&#160;&#160;&#160;&#160;&#160; ;# secLevel = noAuth/noPriv</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.1"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.1"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">} elseif { $userSecLevel == 2 } {;# secLevel = Auth/noPriv</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { $userAuthProto == 1 } {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# authType = MD5</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.2"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.1"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; } else {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# authType = SHA</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.3"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.1"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">} elseif { $userSecLevel == 3 } {;# secLevel = Auth/Priv</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { $userAuthProto == 1 } {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# authType = MD5</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.2"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set privProto "1.3.6.1.6.3.10.1.2.2"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; } else {&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# authType = SHA</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set authProto "1.3.6.1.6.3.10.1.1.3"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;set privProto "1.3.6.1.6.3.10.1.2.2"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list usmUserAuthProtocol.$engIDInst.$userNameInst ObjectID $authProto]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list usmUserPrivProtocol.$engIDInst.$userNameInst ObjectID $privProto]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list usmUserStatus.$engIDInst.$userNameInst Integer 4]&#160;&#160;&#160;&#160; ;# CreateAndGo</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_setvar $varbindList</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_setvaltype [list [list usmUserSecurityName.$engIDInst.$userNameInst OctetString fixed($userName)]]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add the Security to Group Table associated with the configured user name</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set varbindList {}&#160;&#160;&#160;&#160;&#160; ;# Clear the varbind list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set secModel 3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Hardcode the security model to USM(3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set groupName ssoft&#160;&#160;&#160;&#160; ;# Default Group Name</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set cntxtPrefix 0&#160;&#160;&#160;&#160;&#160;&#160; ;# Default no prefix string -- all apply</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Create the varbind list for the new row in the Security to Group Table</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list vacmGroupName.$secModel.$userNameInst OctetString ssoftGroup]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list vacmSecurityToGroupStatus.$secModel.$userNameInst Integer 4]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add the row</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_setvar $varbindList</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add the Access Table associated with the configured user name</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set varbindList {}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Clear the varbind list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set grpNameInst [str2inst $groupName var]&#160;&#160;&#160; ;# Convert Group Name to Instance</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set secLevel 3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Security Level authPriv(3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set allViewName allOpen</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set readName $allViewName&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Pointing to a wide open view</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set writeName $allViewName&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Pointing to a wide open view</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set notifyName $allViewName&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Pointing to a wide open view</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Create the varbind list for the new row in the Access Table</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list vacmAccessContextMatch.$grpNameInst.$cntxtPrefix.$secModel.$secLevel Integer 2]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list vacmAccessReadViewName.$grpNameInst.$cntxtPrefix.$secModel.$secLevel OctetString $readName]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list vacmAccessWriteViewName.$grpNameInst.$cntxtPrefix.$secModel.$secLevel OctetString $writeName]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list vacmAccessNotifyViewName.$grpNameInst.$cntxtPrefix.$secModel.$secLevel OctetString $notifyName]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list vacmAccessStatus.$grpNameInst.$cntxtPrefix.$secModel.$secLevel Integer 4]&#160;&#160;&#160; ;# CreateAndGo</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add the row</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_setvar $varbindList</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add a row to the View Tree Family Table</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set varbindList {}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Clear the varbind list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set viewNameInst [str2inst $allViewName var] ;# Convert View Name to instance</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set subTree 2.1.3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Point to top of MIB tree</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Create the varbind list for the new row in the View Tree Family Table</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list vacmViewTreeFamilyMask.$viewNameInst.$subTree OctetString ""]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list vacmViewTreeFamilyType.$viewNameInst.$subTree Integer 1]&#160;&#160;&#160; ;# Included(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list vacmViewTreeFamilyStatus.$viewNameInst.$subTree Integer 4]&#160;&#160;&#160; ;# CreateAndGo(4)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add row to the table</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_setvar $varbindList</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add rows in the SNMP Community Table based on the read and write community strings</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># configured for the device. They are mapped to the same user name</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set readComm [SA_getmyreadcommunity]&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Get the read community string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set writeComm [SA_getmywritecommunity]&#160;&#160;&#160;&#160;&#160;&#160; ;# Get the write community string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set transportTag ssoft</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add a row for the read community</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set varbindList {}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Clear the varbind list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set readRowIndxStr community1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set readRowIndxInst [str2inst $readRowIndxStr]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Create the varbind list for the new row</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpCommunityName.$readRowIndxInst OctetString $readComm]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpCommunitySecurityName.$readRowIndxInst OctetString $userName]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpCommunityContextEngineID.$readRowIndxInst OctetString $cntxtEngID]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpCommunityContextName.$readRowIndxInst OctetString $cntxtName]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpCommunityTransportTag.$readRowIndxInst OctetString $transportTag]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpCommunityStatus.$readRowIndxInst Integer 4]&#160;&#160;&#160;&#160;&#160; ;# CreateAndGo(4)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add row to the table</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_setvar $varbindList</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add a row for the write community</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set varbindList {}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Clear the varbind list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set writeRowIndxStr community2</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set writeRowIndxInst [str2inst $writeRowIndxStr]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Create the varbind list for the new row</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpCommunityName.$writeRowIndxInst OctetString $writeComm]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpCommunitySecurityName.$writeRowIndxInst OctetString $userName]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpCommunityContextEngineID.$writeRowIndxInst OctetString $cntxtEngID]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpCommunityContextName.$writeRowIndxInst OctetString $cntxtName]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpCommunityTransportTag.$writeRowIndxInst OctetString $transportTag]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpCommunityStatus.$writeRowIndxInst Integer 4]&#160;&#160;&#160;&#160;&#160; ;# CreateAndGo(4)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add row to the table</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_setvar $varbindList</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add rows in the snmpTargetTable</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set trapMgrList [split $trapMgrs ","]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set trapMgrIndex "trapMgr"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set trapMgrCount 0</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set targetParamsName "targetParams1"&#160;&#160;&#160;&#160;&#160;&#160; ;# Name identifying corresponding parameters in the snmpTargetParamsTable</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add a row for each address in the trap manager list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">foreach trapMgrAddr $trapMgrList {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; incr trapMgrCount</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set index [str2inst $trapMgrIndex$trapMgrCount]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set varbindList {}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Clear the varbind list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Create the varbind list for the new row</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; lappend varbindList [list snmpTargetAddrTDomain.$index ObjectID 1.3.6.1.6.1.1]&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# IPv4</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; lappend varbindList [list snmpTargetAddrTAddress.$index OctetString [ipv4ToTAddr $trapMgrAddr 162]]&#160; ;# Address from Mgr list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; lappend varbindList [list snmpTargetAddrTAddress.$index OctetString [ipv4ToTAddr $trapMgrAddr 162]]&#160; ;# Address from Mgr list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; lappend varbindList [list snmpTargetAddrTagList.$index OctetString $transportTag]&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Tag from snmpCommunityTable</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; lappend varbindList [list snmpTargetAddrParams.$index OctetString $targetParamsName]&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# corresponding target Params name</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; lappend varbindList [list snmpTargetAddrRowStatus.$index Integer 4]&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# CreateAndGo(4)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # Add the row to the table</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_setvar $varbindList</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add a row in the snmpTargeParamsTable for the traps/notifications that are sent</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set targetParamsIndex [str2inst $targetParamsName]&#160; ;# Create the instance string for the row</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set varbindList {}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Clear the varbind list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Create the varbind list for the new row</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpTargetParamsMPModel.$targetParamsIndex Integer 3]&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# SNMPv3(3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpTargetParamsSecurityModel.$targetParamsIndex Integer 3]&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# USM(3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpTargetParamsSecurityName.$targetParamsIndex OctetString $userName]&#160;&#160;&#160; ;# User name configured for device</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpTargetParamsSecurityLevel.$targetParamsIndex Integer $userSecLevel]&#160;&#160;&#160; ;# User security level configured for device</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpTargetParamsRowStatus.$targetParamsIndex Integer 4]&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# CreateAndGo(4)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add the row to the table</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_setvar $varbindList</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add a row in the snmpNotifyTable for the notifications that are sent</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set notifyName "notify1"&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Identifier for the row</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set notifyIndex [str2inst $notifyName]&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Convert name to instance string</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set varbindList {}&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# Clear the varbind list</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Create the varbind list for the new row</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpNotifyTag.$notifyIndex OctetString $transportTag]&#160;&#160;&#160;&#160; ;# point to the tag in the snmpTargetTable</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpNotifyType.$notifyIndex Integer 1]&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# trap(1) or inform(2)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">lappend varbindList [list snmpNotifyRowStatus.$notifyIndex Integer 4]&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;# createAndGo(4)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Add the row to the table</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SA_setvar $varbindList</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># Initialize global variables for cloning rows in the snmpUserTable</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set cloneUser ""</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set newAuthKey ""</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">set newPrivKey ""</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;"># init_action code ends here</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">################################################################################</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%after_set_action usmUserAuthKeyChange</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set varbind [SA_getreqvb]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set curvb&#160; [lindex $varbind 0]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set curOid [lindex $curvb 0]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set newAuthKey [lindex $curvb 2]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set newUser [extractUserName $curOid]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_changev3authkey $newUser $newAuthKey</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%after_set_action usmUserPrivKeyChange</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set varbind [SA_getreqvb]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set curvb&#160; [lindex $varbind 0]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set curOid [lindex $curvb 0]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set newPrivKey [lindex $curvb 2]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set newUser [extractUserName $curOid]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_changev3privkey $newUser $newPrivKey</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%after_set_action usmUserCloneFrom</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set varbind [SA_getreqvb]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set curvb&#160; [lindex $varbind 0]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set cloneUser [extractUserName [lindex $curvb 2]]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%after_all_set_action usmUserStatus</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set crntVB [SA_getreqvb]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; SA_puts "\nusmUserStatus = [lindex [lindex $crntVB 0] 2]\n"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set usmUserStatus&#160; [lindex [lindex $crntVB 0] 2]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { $usmUserStatus == 5 ||</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; $usmUserStatus == 4 } { ;# Status is create and wait</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set crntOID [lindex [lindex $crntVB 0] 0]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set instance [string range $crntOID 25 end]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set newUser [extractUserName $crntOID]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "cloneUser = \"$cloneUser\"\n"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setafterresponseid 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">#-------------------------------------------------------------------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">%after_snmp_response</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set myid [SA_getafterresponseid]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if {$myid == 1} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if { $cloneUser != ""&#160; } {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_clonev3user $cloneUser $newUser</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; updateV3UserProto $cloneUser $instance</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set cloneUser ""</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">Note that these files, along with the corresponding cmf file, are included with the shipping SimpleAgentPro installation.</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">156)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to do SNMP proxy forwarding to a real device.&#160; How do I do that ?</p>
<p class="WD_Normal">Sometimes, when learning in the proxy mode, you also need to do forwarding for SNMP.&#160; In that case, you can associate a tcl modeling file in the general tab, that contains the following.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;<br />
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myip [SA_getmyip]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugfile tcl_$myip.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_udp_fwd_open 161 192.168.100.99 161</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%stop_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_udp_fwd_close</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">157)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to count the number of rows in an SNMP table and give the row count back as the value of another SNMP.&#160; How do I do that ?</p>
<p class="WD_Normal">A tcl script is shown below that counts the number of rows in the interfaces table.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;<br />
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugfile rowcount.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">proc get_rowcount { typeval } {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set rowCount 0</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set allDone&#160; 0</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # walk through the table till the end is reached.</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # ifType 1.3.6.1.2.1.2.2.1.3</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set soid "1.3.6.1.2.1.2.2.1.3"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set oide "1.3.6.1.2.1.2.2.1.3."</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; while { $allDone == 0 } {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set varbind [SA_gnextvar [list $soid]]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set curoid&#160; [lindex [lindex $varbind 0] 0]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set curval&#160; [lindex [lindex $varbind 0] 2]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # check if still getting this column</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {([string first $oide $curoid] != -1)} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set soid $curoid</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$curval == $typeval} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr rowCount</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set allDone 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; return $rowCount</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># example of counting the number of rows in the interfaces</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># table,where ifType is of a particular type and giving that</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># count back as the value of another variable</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%getvalue_action sysLocation.0</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set rowCount [get_rowcount 5]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_setcurvalue $rowCount</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">158)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;We are using SSH tunneling in our Linux environment. All our X-clients are working fine, but when we invoke the SimpleAgentPro the application immediately terminates and prints the following message: “Putty X11 Proxy: wrong authorisation protocol attempted. sapro: cannot connect to X server 192.168.0.12:11.0”.&#160; What do we need to do to make this all work? ?</p>
<p class="WD_Normal">If all your other X-clients are running fine, there may be a root squash issue.</p>
<p class="WD_Normal">On Linux the s-bit is set on the SimpleAgentPro's executable file (sapro). This means that it will run as the user who owns the file, which in SimpleAgentPro's case is user "root." Because the user name is changed to "root," the connection is rejected. You will have to work with the people responsible for your networking environment to allow the changing of the user name.</p>
<p class="WD_Normal">Starting with SimpleAgentPro v20.0 another solution is to configure the SimpleAgentPro user interface so that it does change the user name and continues run as the user which invoked it. Login as user "root" and do the following steps to insure a smooth transition:</p>
<p class="WD_Normal">1) Change the current working directory to the SimpleAgentPro's bin directory and remove the s-bit from the SimpleAgentPro executable file:</p>
<p class="WD_Normal">chmod u-s sapro</p>
<p class="WD_Normal">2) Make sure all the files and directories under the SimpleAgentPro installation have global read/write permission. Change the current working directory to the base of the installation (typically /opt/sapro) and enable global read/write permission in all the SimpleAgentPro's sub directories:</p>
<p class="WD_Normal">chmod -R a+r *</p>
<p class="WD_Normal">chmod -R a+w *</p>
<p class="WD_Normal">3) The maps must continue to run with system level permissions. To insure this, the SimpleAgentPro's Name Server must be configured to run as a service. On RedHat Linux, use the chkconfig command to install the Name Server as a service:</p>
<p class="WD_Normal">chkconfig --add saprod</p>
<p class="WD_Normal">The next time the server is started, the Name Server will also be started automatically or to avoid rebooting the server, it can also be started with the service command:</p>
<p class="WD_Normal">service saprod start</p>
<p class="WD_Normal">You can use the service command to check the running status of the Name Server:</p>
<p class="WD_Normal">service saprod status</p>
<p class="WD_Normal">Once these steps are completed, the sapro will continue to run as the user name which invoked it and the root squash condition will be avoided..</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">159)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;When we run the getmyip utility, it returns the loopback address instead of the server's IP address. What must we do have it return the server's address? The server's operating system is Linux.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">What you will have to do so that getmyip returns the proper address is</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">to update the server's "/etc/hosts" file:</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">1) Login as user "root"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">2) In a command shell window changed your current working directory to "/etc"</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">3) Edit the "hosts" file:</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">vim hosts</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">4) What you will find is a line that says something like:</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">127.0.0.1&#160;&#160;&#160;&#160; localhost.localdomain localhost &lt;hostname&gt;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">where &lt;hostname&gt; is the name of the server on which the simulator is running.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">5) With a text editor remove the &lt;hostname&gt; from the line it is on and add a</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">new line with the proper IP address followed by the name of server.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">The following is an example. In this example the server's address is</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">192.168.0.90 and the server's name is linux90. The "hosts" file will have</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">something like the following line:</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">127.0.0.1&#160;&#160;&#160;&#160; localhost.localdomain localhost linux90</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">After editing the file, it will have the following new lines:</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">127.0.0.1&#160;&#160;&#160;&#160; localhost.localdomain localhost</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">192.168.0.90&#160; linux90</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">Save the changes and once this is done, getmyip and the simulator will find</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">the correct address.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">160)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want the snmp interfaces counter reflect the packet counts sent back as part of the netflow data.&#160; How do I do that ?</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">In SAPro 20.0, an new command called SA_netflow_getifstats has been added that returns interface ids along with inPkts, outPkts, inBytes, outBytes.&#160; These can then be used to update the counter values.&#160;&#160; A sample is shown below:</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_settcldebugfile $myIP.netflow.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; # read the netflow config file</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_netflow_readinputfile "../netflow/sampleflow_v5.txt"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; # set the netflow collectors</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_netflow_setcollectors&#160; 192.168.100.10/9949</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; # enable stats</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_netflow_setstatsflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; # turn netflow debugging on</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_netflow_setdebugflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; proc increment_counter_value {oid increment} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; # get current value if present</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; if [ catch { SA_getvar [list $oid] } varbind ] {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # counter not present in var file</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; set varbind [SA_getvar [list $oid]]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; set vb1 [lindex $varbind 0]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; set val [lindex $vb1 2]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; # add the increment</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; set nval [expr $val + $increment]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; #update the value</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;&#160;&#160;if [ catch { SA_setvaltype [list [list $oid OctetString fixed($nval)]] } res ] {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # error in updating</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># every 60 seconds, send a netflow packet</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%timer_action 5</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; # send the netflow packets</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_netflow_send</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; # get stats info and update snmp counters</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set iflist [SA_netflow_getifstats]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; foreach ifinfo $iflist {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set ifid&#160;&#160;&#160;&#160; [string trim [lindex $ifinfo 0]]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set inpkts&#160;&#160; [lindex $ifinfo 1]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set inbytes&#160; [lindex $ifinfo 2]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set outpkts&#160; [lindex $ifinfo 3]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; set outbytes [lindex $ifinfo 4]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; if {$inpkts != 0} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; increment_counter_value ifInUcastPkts.$ifid $inpkts</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; if {$inbytes != 0} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; increment_counter_value ifInOctets.$ifid $inbytes</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160; &#160;&#160;}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; if {$outpkts != 0} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; increment_counter_value ifOutUcastPkts.$ifid $outpkts</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; if {$outbytes != 0} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; increment_counter_value ifOutOctets.$ifid $outbytes</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; }</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">161)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to use the snmp var file but have the data remain the same for a certain interval and then update the value, instead of updating it on every request.&#160; How do I do that ?</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">The following tcl script basically builds a caching proxy that keeps the same for user specified period of time, e.g. 5 minutes, allows each variable will have its own data but keep the same data for period of time user specified, and is a device wide change, not just for specific variable</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">-------------cacheproxy.tcl---------------------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # enable debug if needed</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SA_settcldebugflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #SA_settcldebugfile cacheproxy.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # define variables as global so procs can use them</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; global lasttime</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; global lastval</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # helper proc to get value</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; proc sa_getonevalue {oid} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set varbind [SA_getvar [list $oid]]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set vb1&#160; [lindex $varbind 0]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set val1 [lindex $vb1 2]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; return $val1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # main worker proc to implement caching proxy</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; proc mycacheval { updatetime } {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; global lasttime</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; global lastval</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ctime [clock seconds]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set coid [SA_getcuroid]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {[info exists lasttime($coid)]} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # check if update necessary</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {[expr $ctime - $lasttime($coid)] &gt; $updatetime} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # need to update. get value again</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set lasttime($coid) $ctime</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set lastval($coid) [sa_getonevalue $coid]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcurvalue $lastval($coid)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # just give last value back</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcurvalue $lastval($coid)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # first time</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set lasttime($coid) $ctime</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set lastval($coid) [sa_getonevalue $coid]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setcurvalue $lastval($coid)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; &#160;&#160;}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># for all gets</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%getvalue_action 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # overwrite the value for curoid with cached value</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # 10 is the interval in seconds for which the value</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # remains the same</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; mycacheval 10</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">162)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to invoke a script after 5 seconds of starting and have it run until the simulation is stopped.&#160; How do I do that ?</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">The following tcl script uses the Tcl exec command to start another script.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # turn debugging on at the beginning.&#160; later on turn it off for better</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # performance</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugfile tcl_${myIP}.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%timer_action 5 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # Launch Python and save the PID so we can stop it when the device stops</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # NOTE: Make sure the process we exec is a background process by adding</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160;&#160;&#160;&#160; an ampersand (&amp;) at the end of the exec command string,</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #&#160;&#160;&#160;&#160;&#160;&#160; otherwise the entire map will be hung.</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if [catch {exec /usr/bin/python /tmp/myscript_server.py $myIP &amp;} pid ] {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set pid 0</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "pid=$pid"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%stop_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # Stop the Python process. Make sure we have a valid PID so that we will</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # not stop the wrong process.</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if { $pid &gt; 0 } {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "killing pid=$pid"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if [catch {exec kill -9 $pid} results] {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "INFO: the process was already stopped"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "Done killing pid=$pid"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">163)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to support “show version” and “sh ve” in telnet.&#160; How do I do this ?</p>
<p class="WD_Normal">SAPro has added support for global aliases to allow you to abbreviate commands.</p>
<p class="WD_Normal">In the example below, “sh” will be expanded as show when in the first position and “shelf” if in the second position.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;<br />
%init_action<br />
&#160;&#160; ...<br />
&#160;&#160;&#160; SA_telnet_globalalias 0 show sh<br />
&#160;&#160;&#160; SA_telnet_globalalias 1 version ve</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_telnet_globalalias 1 shelf sh<br />
<br />
<br />
%cmd_action show version<br />
&#160;&#160;&#160; ....</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">164)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to keep the telnet command processing in one spot which requires multiple responses without breaking it up into default_cmd_action section.&#160; How do I do this ?</p>
<p class="WD_Normal">SAPro has added support for SA_waitfornewline in version 20.0.&#160; It will however cause the devie to wait until the carriage return is received.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;&#160;<br />
<br />
%cmd_action abc<br />
&#160;&#160;&#160; SA_telnet_puts "will copy file from a to b"<br />
&#160;&#160;&#160; set src "a"<br />
&#160;&#160;&#160; SA_telnet_puts -nonewline "a ?"<br />
&#160;&#160;&#160; set str [SA_telnet_waitfornewline]<br />
&#160;&#160;&#160; if {[string length $str] != 0} {<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160; set src $str<br />
&#160;&#160;&#160; }<br />
&#160;&#160;&#160; set dest "b"<br />
&#160;&#160;&#160; SA_telnet_puts -nonewline "b ?"<br />
&#160;&#160;&#160; set str [SA_telnet_waitfornewline]<br />
&#160;&#160;&#160; if {[string length $str] != 0} {<br />
&#160;&#160;&#160;&#160;&#160;&#160;&#160; set dest $str<br />
&#160;&#160;&#160; }<br />
&#160;&#160;&#160; SA_telnet_puts "copy $src to $dest</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">165)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to insert some additional variables in the var file, even though they are not there in the walk file.&#160; How do I do this in an automated manner ?</p>
<p class="WD_Normal">When you use sapw2var to convert the walk file to a var file, you can specify a rules file.&#160; In version 20.0, the rules file syntax has been extended to support things like:</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><br />
<br />
<span style=" font-size:9.0pt; line-height:115%; color:black;"><font size="1" color="black" style="font-size:9.000000pt;">#<br />
%appendbefore ifPhysAddress.1&#160;&#160;&#160;<br />
aaabcd, Integer, RW, fixed($$MYTOKENS002$$$lc4$)<br />
aaapqrs, OctetStrng, RO, fixed()<br />
%end<br />
#<br />
%appendafter ifPhysAddress.2&#160;&#160;&#160;<br />
abcd, Integer, RW, fixed($$MYTOKENS002$$$lc4$)<br />
pqrs, OctetStrng, RO, fixed()<br />
%end</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">166)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to script some logic to manipulate the value returned in the walk when creating a var file from it.&#160; How do I do this in an automated manner ?</p>
<p class="WD_Normal">When you use sapw2var to convert the walk file to a var file, you can specify a rules file.&#160; In version 20.0, it has been extended to support %tclscript clause that allows you to set new values for the following tcl variables: varOid, varName, varType, varAccess and varValuetype.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><br />
<br />
<span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%tclscript ifPhysicalAddress.1<br />
&#160;&#160;&#160;&#160; set varValuetype "fixed(hello world)"<br />
%end</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">167)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> &#160;&#160;I want to automatically start some maps when my linux box is rebooted. How do I do this ?</p>
<p class="WD_Normal">To automatically start a map, you need to create a service that is started after the sapns (SAPro name server) service is started.&#160;&#160; Three sample template files are given below.&#160; You can customize them to suit your needs.&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">-------(start of startonemap)------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#!/bin/csh</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">./sapcnsl -p 2100 -m /opt/sapro/map/sample.map -c start</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">-------(end of startonemap)------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">-------(start of stoponemap)------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#!/bin/csh</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">./sapcnsl -p 2100 -m /opt/sapro/map/sample.map -c stop</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">-------(end of stoponemap)------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">-------(start of saprod_map)------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#!/bin/bash</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># SimpleAgentEnterprise init file for startonemap</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># (C) SimpleSoft 2016</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># chkconfig: 345 99 99</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># description: SimpleSoft Name Server Daemon v20.5</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># processname: /opt/sapro/bin/startonemap</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># source function library</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">. /etc/init.d/functions</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">OPTIONS="2100 0"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">RETVAL=0</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">prog="startonemap"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">start() {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; echo -n $"Starting $prog: "</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160; cd /opt/sapro/bin</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;/opt/sapro/bin/startonemap</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RETVAL=$?</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; echo</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; touch /var/lock/subsys/startonemap</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return $RETVAL</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">stop() {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; echo -n $"Stopping $prog: "</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160; cd /opt/sapro/bin</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160; /opt/sapro/bin/stoponemap</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RETVAL=$?</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; echo</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; rm -f /var/lock/subsys/startonemap</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return $RETVAL</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">reload(){</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; stop</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; start</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">restart(){</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; stop</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; start</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">condrestart(){</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; [ -e /var/lock/subsys/startonemap ] &amp;&amp; restart</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; return 0</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">case "$1" in</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; start)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; start</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; stop)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; stop</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; restart)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; restart</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; reload)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; reload</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; condrestart)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; condrestart</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; status)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; status startonemap</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RETVAL=$?</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; ;;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; *)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; echo $"Usage: $0 {start|stop|status|restart|condrestart|reload}"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RETVAL=1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">esac</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">exit $RETVAL</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">-------(end of saprod_map)------</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Normal">You can then follow the steps given below:</p>
<p class="WD_Normal">) copy the startonemap to /opt/sapro/bin/ directory and make sure it is executable(do chmod +x startonemap)</p>
<p class="WD_Normal">2) edit the startonemap to change the map name to the map you want to start(instead of sample.map)</p>
<p class="WD_Normal">3) copy the stoponemap to /opt/sapro/bin/ directory and make sure it is executable(do chmod +x stoponemap)</p>
<p class="WD_Normal">4) edit the stoponemap to change the map name to the map you had started(instead of sample.map)</p>
<p class="WD_Normal">5) copy the saprod_map to /etc/init.d</p>
<p class="WD_Normal">6) make sure the paths in it point to your sapro installation (/opt/sapro/bin)</p>
<p class="WD_Normal">7) make sure sapns is getting started as a service.&#160; Check if saprod file exists in /etc/init.d.&#160; If not getting started as a service, do "chkconfig --add saprod"</p>
<p class="WD_Normal">8) now add saprod_map also as a service by doing "chkconfig --add saprod_map"</p>
<p class="WD_Normal">9) to stop the map, you can do "service saprod_map stop"</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">168)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></font></span> My application opens up a lot of telnet sessions, but does not close them properly.&#160; I end up with many telnet sessions that are not doing anything.&#160; Is there a way for the simulated devices to close telnet sessions after a certain inactivity interval ?</p>
<p class="WD_Normal">In version 20.5, a telnet Tcl command “SA_telnet_gettimesincelastcmd” has been added.&#160; It provides the number of seconds since the last command was received from the telnet client in this session.&#160; The telnet modeling file supports a timer_action section that gets periodically evaluated at the specified interval.&#160; In the example below, the timer_action is evaluated every 60 seconds, and if the time since the last command is greater than 60, the connection is closed due to inactivity.&#160; You can change the time interval to suit your needs.&#160;&#160; Simply add this section to your telnet modeling file at the end of the file.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%timer_action 60</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; set lasttime [SA_telnet_gettimesincelastcmd]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; if {$lasttime &gt;= 60} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Closing connection due to inactivity."</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; SA_telnet_closeconnection</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; }</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">169)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span>&#160;&#160;Sometimes on Linux, I see the following error message when staring the SAPRo gui application:&#160; <span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">“</font></span>Qt: Session management error: None of the authentication protocols specified are supported”.</p>
<p class="WD_Normal">Unsetting the environment variable SESSION_MANAGER seems to solve this issue.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.25in; text-indent:-.25in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Wingdings;"><font size="1" style="font-size:9pt;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">unset SESSION_MANAGER</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">170)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span>&#160;&#160;I want to inject some delay in telnet responses.&#160; How do I do that ?</p>
<p class="WD_Normal">A Tcl command “SA_telnet_setdelay” is available to specify a delay in milliseconds that the simulator sleeps before sending a telnet response packet to the client.&#160; In the example below, a delay is injected before each “!” is sent out.&#160; Please note that the telnet thread will “sleep” while being delayed.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action&#160; copy file</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "Starting to copy file"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # increase the telnet delay</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setdelay 1000</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; for {set i 0} {$i &lt; 20} {incr i} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts -nonewline "!."</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "!."</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; # now set the delay back to 0 for the rest of the messages.</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_setdelay 0</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "1234 bytes sent"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; SA_telnet_puts "All done"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">171)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span>&#160;&#160;I want to inject some delay in snmp responses only when certain variables in a specific mib branch are queried. How do I do that ?</p>
<p class="WD_Normal">The Tcl commands SA_setsnmpdelay/SA_getsnmpdelay can be used to manipulate the delay injected by the simulated SNMP agent prior to responding to SNMP queries.&#160; In the tcl modeling file shown below, variables under the system group (1.3.6.1.2.1.1) are delayed, while all others are not.&#160; After the snmp response is sent out, the delay is adjusted back to the original value.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugfile tcl_${myIP}.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set orig_delay [SA_getsnmpdelay]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># slow down all system group queries</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%getvalue_action 1.3.6.1.2.1.1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_setsnmpdelay 500</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;SA_setafterresponseid 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;"># reset the snmpdelay after the query is done</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%after_snmp_response</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myid [SA_getafterresponseid]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if {$myid == 1} {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setsnmpdelay $orig_delay</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">172)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span>&#160;&#160;I want to create many snmpv3 users and then use them when emitting traps.&#160; How do I do that ?</p>
<p class="WD_Normal">When the device is defined, in the device properties, you can specify one SNMPv3 user and his user profile (noAuth/noPriv, Auth/noPriv, Auth/Priv along with auth and privacy protocols and passwords).&#160; The Tcl command SA_clonev3user allows you to create additional users with lowere privileges then the main user.&#160; The script below creates two users and then uses the SA_setnotifyuser command to specify the user to use when sending the SNMPv3 notification to the specified manager.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settcldebugfile tcl_$myIP.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; # user1 is present in device properties with AP seclevel</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_clonev3user user1 user2</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_modifyv3userinfo user2 user2 AuthNoPriv MD5 abc2</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_clonev3user user1 user3</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_modifyv3userinfo user3 user3 NoAuthNoPriv</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_settrapmgrs 192.168.100.52</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_setnotifyuser user3</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_sendv3notify { 1.3.6.1.6.3.1.1.5.3 { 1.3.6.1.2.1.2.2.1.1.1 Integer 1 }}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_setnotifyuser user2</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_sendv3notify { 1.3.6.1.6.3.1.1.5.3 { 1.3.6.1.2.1.2.2.1.1.1 Integer 1 }}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_setnotifyuser user1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; SA_sendv3notify { 1.3.6.1.6.3.1.1.5.3 { 1.3.6.1.2.1.2.2.1.1.1 Integer 1 }}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">173)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span>&#160;&#160;I want to use the sed command to make changes to a var file.&#160; Can you give me an example ?</p>
<p class="WD_Normal">You can use the unix stream editor (sed) to script changes to a text file (like a var or tel file).</p>
<p class="WD_Normal">A simple script example is given below, where $1 is the file name argument</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">sed -i 's/10.5.2./${subnid}./g' $1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">sed -i 's/0a1234/${subnhexid}/g' $1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">174)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span>&#160;&#160;I want to use the system sftp command to transfer some files over when processing telnet commands.&#160; How do I do that, since the sftp command prompts for a password ?</p>
<p class="WD_Normal">An sshpass utility is available on sourceforge.net that you can install on the machine on which the simulator is running.&#160; (<a href="https://sourceforge.net/projects/sshpass/files/sshpass/1.06/sshpass-1.06.tar.gz/download?use_mirror=tenet&amp;r=https%3A%2F%2Fsourceforge.net%2Fprojects%2Fsshpass%2F&amp;use_mirror=tenet">https://sourceforge.net/projects/sshpass/files/sshpass/1.06/sshpass-1.06.tar.gz/download?use_mirror=tenet&amp;r=https%3A%2F%2Fsourceforge.net%2Fprojects%2Fsshpass%2F&amp;use_mirror=tenet</a>).&#160; You should also create device IP folder and flash partition under the tftpboot directory for this example.</p>
<p class="WD_Normal">A sample telnet modeling file fragment is shown below.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action install add***</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; if { $SAtcmd(2) == "tar" } {</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;set tftpimage $SAtcmd(3) [$SAtcmd(2) for non-tar/Pie image]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # get the different pieces. first split by /</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set complist [split $tftpimage /]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # 2 will have user:pass@&lt;ip&gt;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ucomp [lindex $complist 2]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # now first split it with :</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set ucomplist [split $ucomp : ]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set username [lindex $ucomplist 0]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # now split the second part with @</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set passlist [split [lindex $ucomplist 1] @]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set password [lindex $passlist 0]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set destip [lindex $passlist 1]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set filename [lindex $complist 3]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_telnet_puts "User:$username, Pass:$password, IP:$destip, image:$filename"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; catch { exec sshpass -p $password sftp $username@$destip:$filename /tftpboot/$myIP/disk0: } res</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">175)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span>&#160;&#160;I want to run a script before the devices in a map start, and run another script once the devices in the map are stopped.&#160; How do I do this ?</p>
<p class="WD_Normal">The map properties allows you to specify a setup file that can be associated with the map.&#160; When the map is started, the associated setup file is looked at to see if there is any script that needs to be evaluated before the devices are started.&#160; The setup file has to be the MAPTCLSCRIPT type and a sample script is shown below.&#160; The script underneath the %before_devices_start section and the %after_devices_stop section should only contain standard Tcl commands and SimpleSoft’s tcl extensions are not available at this time.&#160; You can use these sections to add IPs/remove IPs if needed.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%MAPTCLSCRIPT</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%before_devices_start</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; exec echo "Before starting" &gt; /tmp/aaa1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%after_devices_stop</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; exec echo "After stopping" &gt;&gt; /tmp/aaa1</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">176)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span>&#160;&#160;I want to use Cisco Prime Network persistency/debug files to seed a simulation.&#160; How do I do this ?</p>
<p class="WD_Normal">Cisco Prime Networks has the ability to create log/recoding/persistency files for its SNMP and Telnet/SSH interaction with devices that it manages.</p>
<p class="WD_Normal">These files typically have the following naming conventions:</p>
<p class="WD_Normal">&lt;IP&gt;.&lt;com&gt;.persistency.walk&#160; - contains SNMP walk info retrieved during device discovery.</p>
<p class="WD_Normal">record_&lt;IP&gt;.txt &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;- contains telnet command/responses for the default context. &lt;context1&gt;_record_&lt;IP&gt;.txt&#160;&#160;&#160;&#160;&#160; &#160; - contains telnet command/responses for context1</p>
<p class="WD_Normal">&lt;context2&gt;_record_&lt;IP&gt;.txt&#160;&#160;&#160;&#160;&#160; &#160; - contains telnet command/responses for context2</p>
<p class="WD_Normal"><b>SNMP</b></p>
<p class="WD_Normal">The &lt;IP&gt;.&lt;com&gt;.persistency.walk file can be parsed to create a variable made up of a list of SNMP variables and their values required to seed the SNMP simulation of the device.</p>
<p class="WD_Normal">The sapw2var utility (walk to variable file converter) has been enhanced to understand the format of the persistency.walk files.&#160; The persistency walk file format is very similar to the sapwalk2 utility’s output format except for the TimeTicks and Object Identifier values.&#160; TimeTick values are present as user understandable strings like (“24 days, 2 hours, 12 minutes, 29 seconds, 840 millisecs”, instead of just number of centiseconds since startup like 20815498), and ObjectIdentifier values sometimes have an extra “.” at the start.</p>
<p class="WD_Normal">You can use the following command, along with the standard mib2.cmf compiled MIB file that ships with the simulator product to create a variable file.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in; text-indent:-.25in; line-height:normal;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> sapw2var –w &lt;IP&gt;.&lt;com&gt;.persistency.walk –c mib2.cmf –v newdev.var –t cpn</p>
<p style=" margin-left:1.0in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">sapw2var will create a new file “newdev.var” using information in the walk file</p>
<p class="WD_Normal">“&lt;IP&gt;.&lt;com&gt;.persistency.walk “ that is of type “cpn” (for cisco prime network format) and the compiled mib file “mib2.cmf”.&#160; mib2.cmf is typically present in the /opt/sapro/cmf directory and gets installed with SimpleAgentPro.</p>
<p class="WD_Normal"><b>TELNET/SSH</b></p>
<p class="WD_Normal">The record_&lt;IP&gt;.txt and context1_record_&lt;IP&gt;.txt files contain CLI commands sent by the NMS to the device and the device’s responses.&#160; It does not contain other information like the value of the command prompt or the banner and login/password prompts, but other than that, it can prove very useful for creating the telnet modeling file need for simulation.&#160; Also since the plain text recording files are created even when the NMS is using SSH, it removes the complexity of decrypting encrypted communication, and the same telnet modeling files can be used to seed the SSH simulation in addition to Telnet simulation.</p>
<p class="WD_Normal">The sapt2tel utility which converts text/pcap files into telnet modeling files has been enhanced to understand the format of the telnet recording files.&#160; To create a simple telnet modeling file for just the main context alone, you can use the following command:</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in; text-indent:-.25in; line-height:normal;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> sapt2tel&#160; -i record_&lt;IP&gt;.txt –o main1.tel –t cpn</p>
<p style=" margin-left:1.0in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">sapt2tel will create a new telnet modeling file “main1.tel” using information in the telnet recording file “record_&lt;IP&gt;.txt” that is of type “cpn” (cisco prime network).</p>
<p class="WD_Normal">In case of Cisco Nexus switches that support multiple device contexts or virtual device contexts, additional context based telnet recording files are created.&#160; They need to be collated into one telnet modeling file and different responses given based on the current device context. SimpleAgentPro telnet simulation has been enhanced to handle multiple device contexts within a telnet session by extending the telnet modeling file format to include</p>
<p style=" margin-left:.5in;" class="WD_Normal">%context_cmd_action &lt;context_name&gt; cmd</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160; ….</p>
<p class="WD_Normal">and Tcl commands like SA_telnet_setcontext&#160; “context1” and SA_telnet_clearcontext have been added to the Telnet Tcl interpretor.</p>
<p class="WD_Normal">So if the telnet modeling file contains</p>
<p style=" margin-left:.5in;" class="WD_Normal">…</p>
<p style=" margin-left:.5in;" class="WD_Normal">%cmd_action&#160; command_abc</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts “output of command_abc when in default context”</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">%cmd_action&#160; switchto context1</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_setcontext context1</p>
<p style=" margin-left:.5in;" class="WD_Normal">%context_cmd_action context1 command_abc</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts “output of command_abc when in context1”</p>
<p style=" margin-left:.5in;" class="WD_Normal">%context_cmd_action context1 exit</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_clearcontext</p>
<p class="WD_Normal">Then when the “command_abc” is first issued when in default context, you will see one output, and then when context is changed using the “switchto” command, internally the context gets updated and all subsequent commands like “command_abc” then run within the new device context and give different outputs, until the “exit” command is issued, which causes the context to return back to default context.</p>
<p class="WD_Normal">To support this type of collated telnet modeling file creation based on the persistency log files present in a particular directory, you can issue the command</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in; text-indent:-.25in; line-height:normal;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> &#160;&#160;&#160;sapt2tel&#160; -i _&lt;IP&gt;.txt –y . o collated.tel –t cpn –v 1</p>
<p style=" margin-left:1.0in;" class="WD_Normal">&#160;</p>
<p class="WD_Normal">sapt2tel will create a new telnet modeling file “collated.tel” using information in all the telnet recording files of type “cpn” that it finds in the “.” directory having a partial name match with “_&lt;IP&gt;.txt”.&#160; Since the –v (virtual device context support flag) is set to 1, it will assume a certain naming convention where the recording file “record_&lt;IP&gt;.txt” is treated as the default context, and all other files like “&lt;context_name&gt;_record_&lt;IP&gt;.txt” are treated as having telnet recording for &lt;context_name&gt;.&#160;&#160; Command/Responses in the record_&lt;IP&gt;.txt file are converted to %cmd_action sections, while command/responses in the context specific files are converted to %context_cmd_action &lt;context_name&gt; sections.&#160;&#160; In addition an “exit” command that clears the context is added to each context commands, while currently a placeholder “switchto” command processing is added to the default context using regular %cmd_action.</p>
<p class="WD_Normal">&#160;You can then create simulated device with the same &lt;IP&gt;, and “mydev.var” SNMP variable file and “collated.tel” telnet modeling file.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">177)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span>&#160;&#160;I want to simulate Netconf server, but instead of the server waiting for connections being made to it from the manager, I want it to call home and setup a connection to the manager and then use that connection for regular netconf communication.&#160; How can we do that in the simulator ?</p>
<p class="WD_Normal">In Version 20.5, SA_netconf_callhomeproxy_open tcl command has been added to allow you to to setup a proxy tunnel that connects the two sides.&#160; You can create a modeling file and associate with the device in the General tab.&#160; A sample is shown below.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set myIP [SA_getmyip]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; text-indent:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">SA_settcldebugflag 1</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">SA_settcldebugfile tcl_${myIP}.dbg</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">SA_netconf_callhomeproxy_open 830 10.5.1.1 83001</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160; %stop_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; text-indent:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">SA_netconf_callhomeproxy_close</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; text-indent:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">178)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span>&#160;&#160;I want to have SNMP valuetype like dynamic values generated to use in Telnet and TL1 reponses.&#160; How do I do this ?</p>
<p class="WD_Normal">In Version 20.5, SA_telnet_initvaluetype/ SA_telnet_getvalue tcl command have been added to do just that.&#160; A simple example telnet modeling file is shown below.&#160; The values are preserved across sessions.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;…</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # examples of valuetypes that can be used in responses</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;set id_1 [SA_telnet_initvaluetype randomup(5000,100)]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;set id_2 [SA_telnet_initvaluetype valuelist(3,5,7,9)]</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%cmd_action&#160; show statistics</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Counters"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "------------------------------------------------------------"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Bytes Received&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;[SA_telnet_getvalue $id_1] “</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_telnet_puts "Frames Received&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [SA_telnet_getvalue $id_2]"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading3">179)<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> <span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;</font></span>&#160;&#160;I want to use Tcl expect in my modeling file to exec some linux command line utilities that prompt for password like ftp, scp or sftp. Do you have an example ?</p>
<p class="WD_Normal">In Version 20.5, the usrlib directory includes a libexpect distribution built from the code available at expect.sourceforge.net .&#160;&#160; The Tcl interepretor version within SAPro is 8.4.&#160; A simple example telnet modeling file is shown below that shows the loading and the execution of the ftp command.</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">%init_action</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; …</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # load the tcl expect package</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;load /opt/sapro/usrlib/libexpect5.45.so</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in; line-height:normal;" class="WD_Normal"><span style=" font-size:9.0pt;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># processing of "ftp" command</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;"># Format: ftp localfilename remoteipaddr username password remotefilename</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">#</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">%cmd_action ftp</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #get the arguments to the command into tcl variables</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;set localfile $SAtcmd(1)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;set serverip $SAtcmd(2)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;set user&#160;&#160;&#160;&#160; $SAtcmd(3)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;set passwd&#160;&#160; $SAtcmd(4)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set remotefile $SAtcmd(5)</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # now spawn the ftp command line utlity in linux which will promt for username/password</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # and then ask for command like put…</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;SA_telnet_puts "Sending $localfile to $serverip ($remotefile)"</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # start ftp</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;spawn ftp ${serverip}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # wait for username prompt and give user</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;expect Name*): {send "${user}\r"}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; #now wait for password promt and give password</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;expect Password: {send "${passwd}\r"}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # now wait for ftp&gt; command prompt and give put command</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;expect ftp&gt; {send "put ${localfile} ${remotefile}\r"}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # now wait for prompt again and quit</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;expect ftp&gt; {send "quit\r"}</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # all done.</font></span></p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;SA_telnet_puts "File sent via ftp"</font></span></p>
<span style=" font-size:9.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="1" style="font-size:9pt;"><br clear="all" /></font></span> <span style=" font-size:9.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="1" style="font-size:9pt;"><br clear="all" /></font></span>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_chapnonum"><a name="Appendix_G_Otherbc-254"></a><a name="Appendix_G_Other" id="Appendix_G_Other">Appendix G<br />
Other Utilities</a></p>
<p class="WD_Normal">This appendix describes some of the other shell/DOS utilities that are included with this release and are present in the <span class="WD_Style1">&lt;sapro&gt;/bin</span> directory.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Toolsbc-255"></a><a name="Tools" id="Tools">Tools</a></p>
</div>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="saptrapsbc-256"></a><a name="saptraps" id="saptraps">saptraps</a></p>
<p class="WD_Normal">This utility looks at the trap definitions in the given compiled MIB file and generates corresponding sample tcl commands for their generation.&#160; Thus if a MIB has defined 27 different traps, each with 5 different variable bindings, it would create a sample file containing the SA_sendtrap tcl command with the appropriate arguments for helping you to include these definitions in a modeling or setup file.&#160; Specifying –v2n will make it generate <i>SA_sendv2ctrap</i> and –v2i will make it generate <i>SA_sendv2cinforms</i></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:&#160;&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <i>saptraps &lt;-v1/-v2n/-v2i&gt; [compiled_mib_file] [output_file_name]</i></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Example:</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <i>saptraps mib2.cmf abc.tcl</i></p>
<p class="WD_Normal">where abc.tcl is the new file created that contains the SA_sendtrap tcl commands for each of the traps defined in the compiled MIB file "mib2.cmf".</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This functionality is also available via the user interface under <b><i>Traps-- &gt;Create from MIB</i></b> submenu item.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapwalkbc-257"></a><a name="sapwalk" id="sapwalk">sapwalk</a></p>
<p class="WD_Normal">This utility along with sapw2var allows you to break up the learning process into non-GUI, independent applications.&#160; The utility sapwalk simply walks the specified agent from whom you want to learn.</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">Usage:</span></p>
<p class="WD_BodyTextIndent3"><span style=" font-family:Courier New;">sapwalk [ip_address] [community] [oid] &lt;timeout(msec)&gt; &lt;retries&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;compare[0/1]&gt; &lt;snmpport&gt; &lt;sleep_bet_req(msec)&gt;</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">Example:</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; sapwalk 128.100.100.11 public 1.3 &gt; /tmp/abc</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">where 128.100.100.11 is the IP address of the device to learn from, public is the community string to be used to talk to it, and 1.3 is the starting object identifier for the walk.&#160; Redirecting the output to /tmp/abc will save it in that file. Note that the IP address can also be an IPv6 address on Windows and Linux.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapwalk2" id="sapwalk2">sapwalk2</a></p>
<p class="WD_Normal">This is another utility that adds support for v2C and v3 as well for SNMP walking.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">Usage:</span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-family:Courier New;">sapwalk2</span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; ip_address</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -v&#160; snmp_version(v1/v2c/v3)</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -s&#160; startoid</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-c&#160; community for v1/v2c&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &gt;</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-u&#160; username&#160; for v3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &gt;</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-l&#160; seclevel&#160; (nAnP/AnP/AP) for v3 &gt;</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xt auth type (MD5/SHA) for v3&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xa auth password for v3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xp priv password for v3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xn ctxtname&#160; for v3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xi ctxtid&#160;&#160;&#160; for v3 (will discover if not specified)]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-e&#160; engineid&#160; for v3 (will discover if not specified)]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-t&#160; timeout(msec)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-r&#160; retries&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-f&#160; compare (0/1)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-p&#160; snmpport&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-d&#160; sleep_bet_req(msec)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-m&#160; maxlexerrors&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-z&#160; samples:delay:&lt;oidfile&gt; for ratecomputation of counter and gauge variables]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-o&#160; walkoutput filename&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-n&#160; max num of variables to learn&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xf filename containing oids to be excluded(one per line)]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xr guestimate max rows&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xs source ip&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xe source endpoint (port)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xv bridge/startoid (auto vlan learning)&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xl save timestamps (0/1)&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xz timestamp threshold (def=10sec)&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-b&#160; getbulk flag (0/1) (def=0)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xu max mtu size (def=4096)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">Example:</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; sapwalk2 –i 128.100.100.11 –c public –s 1.3 &gt; /tmp/abc</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Note that the IP address can also be an IPv6 address on Windows and Linux.&#160; If SNMPv2 is specified, sapwalk2 will first try v2, and if no response is received, it will also try SNMPv1.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sappollbc-258"></a><a name="sappoll" id="sappoll">sappoll</a></p>
<p class="WD_Normal">This is utility will poll an agent with a list of OIDs for a given time interval and number of polls.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Usage:</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">sappoll</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; ip_address</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -v&#160; snmp_version(v1/v2c/v3)</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -f&#160; file containing list of OIDs to poll</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -t&#160; poll interval in seconds (Default=300 secs)</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -n&#160; number of pollers (Default= 12)</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-c&#160; community for v1/v2c&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &gt;</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-u&#160; username&#160; for v3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &gt;</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-l&#160; seclevel&#160; (nAnP/AnP/AP) for v3 &gt;</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xt auth type (MD5/SHA) for v3&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xa auth password for v3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xp priv password for v3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xn ctxtname&#160; for v3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xi ctxtid&#160;&#160;&#160; for v3 (will discover if not specified)]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xz [0/1] for processed output (Default=1)]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xv num vbs in one request (Default=20)]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-e&#160; engineid&#160; for v3 (will discover if not specified)]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-d&#160; timeout(msec) (Default = 3000&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-r&#160; retries (Default = 3)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-p&#160; snmpport (Default= 161)&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-o&#160; walkoutput filename&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-m&#160; compiled MIB filename if input is a var file ]</font></span></p>
<p style=" margin-left:0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Example:</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; sappoll –i 128.100.100.11 –f oidlist –c public –v v1 –c public</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The IP address can also be an IPv6 address on Windows and Linux.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The OID list file controls which variables the sappoll utility will retrieve. The lines that start with:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">1) # are comments</p>
<p class="WD_Normal">2) I&lt;space&gt;&lt;followed by oid&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">are oids with an instance component. The sappoll will use the oid as is during polling.</p>
<p class="WD_Normal">3) N&lt;space&gt;&lt;followed by oid&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">are node oids without an instance component. The sappoll will first use Getnext to retrieve all the leaf instances, and then use the results of Getnext for polling.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The oids must be specified as object identifiers&#160; (e.g. -- 1.3.6.1...) not as object descriptors&#160; e.g. -- sysDescr.0). The sappoll does not have MIB information to do the mapping.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_PlainText">Examples:</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code"># scalar ifNumber with instance</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">I 1.3.6.1.2.1.2.1.0</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code"># node ifTable</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">N 1.3.6.1.2.1.2.2</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code"># scalar sysDescr with instance</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">I 1.3.6.1.2.1.1.1.0</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code"># node tcpConnectionTable</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">N 1.3.6.1.2.1.6.13</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">&#160;</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code"># scalar icmpInMsgs with instance</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">I 1.3.6.1.2.1.5.1.0</p>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:.5in;" class="WD_code">&#160;</p>
<p style=" margin:0in; margin-bottom:.0001pt;" class="WD_code">NOTE: From Ver 12.0, the sappoll also accepts a regular var file as an input oid file, if you also specify the compiled MIB file using the –m option.&#160; All the oids in the var file will be polled.&#160; This is typically used where the var file is created after using the SA_markvarsflag command.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapvfilterbc-259"></a><a name="sapvfilter" id="sapvfilter">sapvfilter</a></p>
<p class="WD_Normal">This is utility will remove or replace a list OIDs for a .var file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Usage:</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Sapvfilter inputvar outvar filter cmffile &lt;cvsflag&gt;</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Where:</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Inputvar&#160;&#160; Original .var file</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Outvar&#160;&#160;&#160;&#160; New .var file</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Filter&#160;&#160;&#160;&#160; File containing list of OID</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Cmffile&#160;&#160;&#160; Compile file</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;cvsflag&gt;&#160; Optional 0/1/2/3/4 for cvs_filter_file with type</font></span></p>
<p style=" margin-left:22.5pt;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;pinterval&gt; Optional poll interval</font></span></p>
<p class="WD_Footer"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Example:</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; sapvfilter host.var 192.168.0.1.var host.flt host.cmf</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In this example, host.var is the file being filtered, the results will be put in 192.168.0.1.var, host.flt contains the list of OIDs to remove, and host.cmf is the .var file’s corresponding compile file.&#160;&#160; When cvsflag is set to non-zero, the host.flt file is assumed to be the output of the sappoll program.&#160; The flag can be set to 1 to indicate CYCLIC behavior, 2 to indicate MAX behavior, 3 to indicate DELTA behavior, and 4 to indicated TIMED behavior.&#160; The optional poll interval argument is useful if the TIMED behavior is chosen. These values are used in the “valuelistinonefile(filename, type, &lt;pinterval&gt;)” valuetype replacement for the oids when using sappoll data.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapw2varbc-260"></a><a name="sapw2var" id="sapw2var">sapw2var</a></p>
<p class="WD_Normal">This utility converts the output of sapwalk into a variable file format that can be used for SNMP Agent simulation.&#160; The sapwalk does not require any MIB information and is very fast.&#160; The sapw2var utility, however looks at the MIB information and generates a variable file that can be used <span style=" font-family:Courier New;">to associate</span> with a device.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160; sapw2var [walk_file] [cmf_file] [var_file] [ssoft/linmor/ms/hp/net/concord/abc/ssvar/auto] &lt;rules_file&gt;</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160; sapw2var /tmp/abc ../cmf/mib2.cmf ../var/dev9.var ssoft</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">where /tmp/abc is the output of the sapwalk, mib2.cmf is the compiled mib file, and dev9.var is the output variable file to be created and ssoft is the type of format of the walk file.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapm2varbc-261"></a><a name="sapm2var" id="sapm2var">sapm2var</a></p>
<p class="WD_Normal">This utility creates variable from MIB.</p>
<p class="WD_Normal">Usage:</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; sapm2var [cmf_file] [num_rows] [var_file] &lt;rules_file&gt;</p>
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" font-family:Courier New; letter-spacing:0pt;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; sapm2var ../cmf/mib2.cmf 7 ../var/mib2.var</span></p>
<p class="WD_Normal">where mib2.cmf is the compiled mib file, 7 is the number of rows and mib2.var is the output variable file to be created.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapdrowbc-262"></a><a name="sapdrow" id="sapdrow">sapdrow</a></p>
<p class="WD_Normal">This utility creates dynamic row templates from MIB.</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Usage:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; sapdrow [cmf_file] [drow_file] &lt;rules_file&gt;</span></p>
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" font-family:Courier New; letter-spacing:0pt;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; sapdrow ../cmf/mib2.cmf mib2drow</span></p>
<p class="WD_Normal">where mib2.cmf is the compiled mib file, and mib2drow is the output file containing dynamic row templates.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapvsortbc-263"></a><a name="sapvsort" id="sapvsort">sapvsort</a></p>
<p class="WD_Normal">This command line utility resorts the variables listed in a variable file in a lexicographical order.&#160; It will also correct the lexicographical errors discovered during walks that are normally commented out.</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Usage:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; sapvsort [var_file] [cmf_file] [newvar_file]</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; sapvsort&#160; ../var/learn1.var ../cmf/mybox.cmf ../var/learnnew.var</span></p>
<p class="WD_Normal">where learn1.var is the file to be resorted, mybox.cmf is the associated compiled MIB file, and learnnew.var is the new variable file to be created.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapcompbc-264"></a><a name="sapcomp" id="sapcomp">sapcomp</a></p>
<p class="WD_Normal">This command line utility allows you to precompile variable files without going through the GUI based SAPro.&#160; Precompiling a variable file, as described earlier, allows for faster loading of large variable files.</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Usage:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; sapcomp -m &lt;compiled MIB file&gt; -v &lt;variable file&gt;</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span> <span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">-o &lt;output compiled variable file&gt;</font></span></p>
<p style=" margin-left:2.5in; text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">-c &lt;cache size&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; sapcomp -m mib2.cmf -v dev1.var -o dev1.cva -c 5000</span></p>
<p class="WD_Normal">where mib2.cmf is the compiled MIB file, dev1.var is the variable file to be compiled, dev1.cva is the output compiled variable file to be created, and 5000 is the cache size.</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapcnslbc-265"></a><a name="sapcnsl" id="sapcnsl">sapcnsl</a></p>
<p class="WD_Normal">This command line utility allows you to interact with a running map via the nameserver or through the userapi port.&#160; It allows you to remotely find out what maps are running, stop a map, get statistics, run setup files, and send tcl commands to devices.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p &lt;port#&gt; [-i &lt;IPAddress&gt;] -c &lt;command Id&gt; [args...]</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;command Id&gt; and associated [args...] are as</font></span> <span style=" font-family:Courier New;">follows:</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; tcl&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -s &lt;tcl script&gt; -f &lt;filename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; setup&#160;&#160;&#160;&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -f &lt;filename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; stop&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; stats&#160;&#160;&#160;&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; devlist&#160;&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; maplist&#160;&#160;&#160;&#160;&#160; : (NO ARGUMENTS)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; stopall&#160;&#160;&#160;&#160;&#160; : [-g &lt;waitTime&gt;]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; start&#160;&#160;&#160;&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; adddev&#160;&#160;&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -f &lt;filename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; startdev&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; stopdev&#160;&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; restartdev&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; terminate&#160;&#160;&#160; : (NO ARGUMENTS)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; scenario&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d [devicename]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -f &lt;filename&gt; -a [args...]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; find&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; : -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; allstats&#160;&#160;&#160;&#160; : (NO ARGUMENTS)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; showversion&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -f &lt;filename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; stopsetup&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; devinfolist&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; faststop&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; deldev&#160;&#160;&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; syncstart&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; telstats&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; resetstats&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -f &lt;filename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; startall&#160;&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; flowstats&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; coapstats&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; flagaction&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;-s &lt;flag value&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; cablestats&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; allcablestats : (NO ARGUMENTS)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; perfstats&#160;&#160;&#160; : [-t &lt;ns/map&gt; -m &lt;map name&gt;] -d &lt;devicename&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; allperfstats : (NO ARGUMENTS)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">The "-i &lt;ipaddress&gt;" option can be used to connect with SAPro running on a remote machine with the specified ip address</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">The "-t map" option can be specified for some of the commands if you wish to directly connect to the map. The port then refers to the user API port for the map. By default, this utility will connect to the nameserver first, get the user API Port for the map and then send the command directly to the map.</font></span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p 2100 -c maplist</span></p>
<p class="WD_Normal">will connect to the name server and get list of all the maps that are registered.</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p 2000 -c allstats</span></p>
<p class="WD_Normal">will get statistics for all the running maps.</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p 2100 -c stopall</span></p>
<p class="WD_Normal">will connect to the name server and stop all the maps.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 -c terminate</font></span></p>
<p class="WD_Normal">Will terminate the name server.</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p 2000 -c allperfstats</span></p>
<p class="WD_Normal">will get snmp performance statistics for all the running maps.</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p 2000 -c allcablestats</span></p>
<p class="WD_Normal">will get cable statistics for all the running maps.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –c find –d 192.168.100.20</font></span></p>
<p class="WD_Normal">Will find the device 192.128.100.100 in all running maps.&#160; Make sure the name server is started.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –c showversion</font></span></p>
<p class="WD_Normal">Will show the current version of sapns.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –c flagaction –s 10</font></span></p>
<p class="WD_Normal">Will trigger flag action with value of 10 in all devices in all running maps.</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-bottom:.0001pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 -f default.wsp -c startall</font></span></p>
<p style=" margin-bottom:.0001pt;" class="WD_Normal">Will request the name server to start all maps in the workspace file "default.wsp"</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p 2100 -m map1.map -c stats</span></p>
<p class="WD_Normal">will get statistics for all the devices from the map "map1.map" by first connecting to the name server and then connecting to the map.</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -t map -p 2000 -c stats</span></p>
<p class="WD_Normal">will get statistics for all the devices from the map that is listening on the user API port 2000.</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p 2100 -m map1.map -c devlist</span></p>
<p class="WD_Normal">will get list of devices for&#160; the map "map1.map" by first connecting to the name server and getting the user API port information for the map.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p 2100 -m map1.map -c devinfolist</span></p>
<p class="WD_Normal">will get list of devices for&#160; the map "map1.map" by first connecting to the name server and getting the user API port information for the map. The device display tag is also shown.</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p 2100 -m map1.map -c setup -f setup.tcl</span></p>
<p class="WD_Normal">will send the setup file command to the map "map1.map" asking it to run the setup file "setup.tcl" by first connecting to the name server and getting the user API port information for the map.</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p 2100 -m map1.map -c stopsetup -f setup.tcl</span></p>
<p class="WD_Normal">will stop the setup file running in map "map1.map".</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p 2100 -m map1.map -c stop</span></p>
<p class="WD_Normal">will stop the map "map1.map" by first connecting to the name server and getting the user API port information for the map.</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">sapcnsl -p 2100 -m map1.map -c faststop</span></p>
<p class="WD_Normal">(only on Linux) will stop the map "map1.map" by sending a kill interrupt to the sathrd process and clearing all the IPs added by it without giving it a chance to do any cleanup.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 -m map1.map -l map1.log -c start</font></span></p>
<p class="WD_Normal">Will request the name server to start the map "map1.map".&#160; The -l logfile argument is optional.&#160;&#160; Make sure the name server is started.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 -m map1.map -l map1.log -c syncstart</font></span></p>
<p class="WD_Normal">Will request the name server to start the map "map1.map" and return only after the map is started.&#160;&#160;&#160; The -l logfile argument is optional.&#160;&#160; Make sure the name server is started.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 -m map1.map -c adddev -f newdev.map</font></span></p>
<p class="WD_Normal">Will add the device(s) specified in the map file "newdev.map"&#160;&#160; to the already running map "map1.map".</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –m “map1.map” –c resetstats</font></span></p>
<p class="WD_Normal">Will reset the statistics associated with map1.map.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –m “map1.map” –c telstats</font></span></p>
<p class="WD_Normal">Will get the telnet statistics from the devices in map1.map.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –m “map1.map” –c flowstats</font></span></p>
<p class="WD_Normal">Will get the netflow statistics from the devices in map1.map.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –m “map1.map” –c coapstats</font></span></p>
<p class="WD_Normal">Will get the CoAP statistics from the devices in map1.map.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;"><br />
sapcnsl -p 2100 –m “map1.map” –c cablestats</font></span></p>
<p class="WD_Normal">Will get the cable statistics from the devices in map1.map.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –m “map1.map” –c perfstats</font></span></p>
<p class="WD_Normal">Will get the snmp performance statistics from the devices in map1.map.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –m “map1.map” –c flagaction –s 10</font></span></p>
<p class="WD_Normal">Will trigger flag action with value of 10 in all devices in map1.map.</p>
<p style=" margin-top:0in; margin-right:-24.0pt; margin-bottom:.0001pt; margin-left:0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-top:0in; margin-right:-24.0pt; margin-bottom:.0001pt; margin-left:0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 -m map1.map -c tcl -d 192.128.100.100 -s</font></span><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">“SA_disableping”</font></span></p>
<p style=" margin-bottom:.0001pt;" class="WD_Normal">will send the tcl command "SA_disableping" to the device 92.128.100.100 in the map "map1.map" by first connecting to the name server and getting the user API port information for the map.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 -m map1.map -c stopdev -d 192.168.100.20</font></span></p>
<p class="WD_Normal">Will stop the device 192.168.100.20 in the map map1.map.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 -m map1.map -c startdev -d 192.168.100.20</font></span></p>
<p class="WD_Normal">Will start the device 192.168.100.20 in the map map1.map.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 -m map1.map -c restartdev -d 192.168.100.20</font></span></p>
<p class="WD_Normal">Will restart the device 192.168.100.20 in the map map1.map.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 -m map1.map -c deldev -d 192.168.100.20</font></span></p>
<p class="WD_Normal">Will delete the device 192.168.100.20 in the map map1.map.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 -m map1.map -c scenario -d 192.168.100.20 –f tclfile –a “arg1,arg2”</font></span></p>
<p class="WD_Footer"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Will send the scenario command to the device 192.168.128.100 in the map map1.map and ask it to run the tcl scenario file “tclfile” with the optional arguments given in the comma separated list of “arg1, arg2”.&#160; The same command can be used to send a scenario file to a map, by not specifying the device argument.&#160; The args are available to the script as value of the “SA_arg” global list variable.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –m “map1.map” –d 192.168.100.20 –c resetstats</font></span></p>
<p class="WD_Normal">Will reset the statistics associated with device 192.168.100.20 in&#160; map1.map.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –m “map1.map” –d 192.168.100.20 –c flagaction –s 10</font></span></p>
<p class="WD_Normal">Will trigger flag action with value of 10 on device 192.168.100.20 in map1.map.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –m “map1.map” –d 192.168.100.20 –c cablestats</font></span></p>
<p class="WD_Normal">Will get cable statistics associated with device 192.168.100.20 in&#160; map1.map.</p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Footer"><span style=" font-size:10.0pt; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapcnsl -p 2100 –m “map1.map” –d 192.168.100.20 –c perfstats</font></span></p>
<p class="WD_Normal">Will get snmp performance statistics associated with device 192.168.100.20 in&#160; map1.map.</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapgwvarbc-266"></a><a name="sapgwvar" id="sapgwvar">sapgwvar</a></p>
<p class="WD_Normal">This command line utility creates a gateway variable file that reflects the network topology described in the device list file.&#160; Once this variable file is associated with the workstation’s IP address, it can assist in the automatic discovery of simulated devices by applications such as HPOpenView.&#160; It expects the information to be provided in a file with the following format.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_scripts">&#160;&lt;LIST&gt;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; &lt;MYIP Name="a.b.c.d" Mask="255.255.255.0" Mac="010203040506"/&gt;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160; &lt;SUBNET Name="a.b.c.d" Gwip="a.b.c.254"</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Mask="255.255.255.0" Mac="010203040506"&gt;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;DEVICE Name="a.b.c.x" Mask="255.255.255.0" Mac="010203040506"/&gt;</p>
<p class="WD_scripts">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;DEVICE Name="a.b.c.y" Mask="255.255.255.0" Mac="010203040506"/&gt;</p>
<p class="WD_scripts">&#160;&#160; &lt;/SUBNET&gt;</p>
<p class="WD_scripts">&lt;/LIST&gt;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For every subnet line, it adds an interface to the gateway and assigns a.b.c.254&#160; as the address for that interface.&#160; For every device line, it adds an entry to the arp cache of the gateway for the corresponding subnet.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; sapgwvar&#160; &lt;listfile&gt; &lt;outputfile&gt; [optional “p” arg]</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">This functionality is now also available via the SA_updatemygatewayinfo tcl command.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If the optional argument “p” is present, then sapgwvar only creates those MIB2 tables that are topology dependent.&#160; This allows the output to be later merged wih a router’s learnt variable file and the “sapvsort” utility run to resort the variable file and remove duplicates.&#160; When removing duplicates, sapvsort retains the first one that it encounters.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapnsbc-267"></a><a name="sapns" id="sapns">sapns</a></p>
<p class="WD_Normal">This program acts as a SimpleAgentPro Name Server.&#160; The SimpleAgentPro typically starts this on its own and you do not need to manually start it.&#160; The sapcnsl and other programs using the saproapi.h can talk with the name server to get additional information about the maps currently running on the system.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; sapns [port#]</font></span></p>
<p style=" margin-left:1.0in; text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&lt;terminate_flag (default = 1)&gt;</font></span></p>
<p style=" margin-left:1.0in; text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&lt;debug_flag (default = 1)&gt;</font></span></p>
<p style=" text-indent:.5in;" class="WD_List3"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&lt;home directory (default = ..)&gt;</font></span></p>
<p style=" text-indent:.5in;" class="WD_List3"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">It takes one required argument and 3 optional arguments that have preset defaults.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="makemapsbc-268"></a><a name="makemaps" id="makemaps">makemaps</a></p>
<p class="WD_Normal">This command line utility quickly creates a set of map files.&#160; Lets say you want to create maps to simulate 2000 devices.&#160; You can simply say “makemaps –n 2000” and it will create all the required maps.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Usage: makemaps</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -n total_number_of_devices</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d num_devices_per_map(50)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i starting_ip(192.168)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -s starting subnet(10)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -r readCommunity(public)</font></span></p>
<p class="WD_PlainText">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -w writeCommunity(private)</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -c mibFile(mib2.cmf)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -a agentFile(dev1.var)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -t trapMgr(none)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -f modelingFile(none)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -v snmpversion(V1V2V3)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -x subnetMask(255.255.255.0)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -p snmpPort(161)</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can overwrite the default values by specifying additional information using the other options.&#160; –n is required.&#160; All others have valid defaults.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="saptlogbc-269"></a><a name="saptlog" id="saptlog">saptlog</a></p>
<p class="WD_Normal">This command line utility parses trap log files from commonly used network management platforms and converts them into SimpleAgentPro setup and modeling files that can be used to recreate network scenarios.&#160;&#160; Entire trap sequences can be replayed back and even timing between trap events can be preserved.&#160; This can be used to debug root cause analysis rules and make sure that fault management applications are working correctly.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; saptlog</span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; traplogfile_name</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-t&#160; logtype(NetCool/SunNet/HPOV)&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-o&#160; outputfile&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-s&#160; delay(0 - nodelay,</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; n - fixed_delay,</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; r - realdelay)&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-m&#160; devlistfile(default=tdevs.txt)&gt;</font></span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; saptlog –i trapd.log –t HPOV –o mytraps.tcl –s r</span></p>
<p class="WD_Normal">where trapd.log is the trap log file from HPOpenView and mytraps.tcl is the output tcl file created using real delay.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapnwalkbc-270"></a><a name="sapnwalk" id="sapnwalk">sapnwalk</a></p>
<p class="WD_Normal">This command line utility starts multiple threads using sapwalk2 to learn from multiple devices at the same time.&#160; The list of devices and their SNMP profile is taken from the device list file.&#160; Walk files are typically created with the Ipaddress of the teacher device.&#160; This program runs in conjunction with the discovery process.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapnwalk</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -f&#160; device_list_file</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -w&#160; directory in which walk file will be created</span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -n&#160; max number of threads(default=10)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -l&#160; logfile (default=sapnwalk.log)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d&#160; debug_level(default=0)</font></span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_scripts"># Expected input devlice list file format is one or more lines :</p>
<p class="WD_scripts">#&#160; ipaddress snmpversion community</p>
<p class="WD_scripts">#&#160; ipaddress snmpversion seclevel username authtype apass ppass</p>
<p class="WD_scripts">#&#160; where</p>
<p class="WD_scripts">#&#160;&#160;&#160; ipaddress can be ipaddress or ipaddress:proxyname</p>
<p class="WD_scripts">#&#160;&#160;&#160; snmpversion can be (v1/v2c/v3)</p>
<p class="WD_scripts">#&#160;&#160;&#160; seclevel can be (nAnP/AnP/AP)</p>
<p class="WD_scripts">#&#160;&#160;&#160; auth type can be (MD5/SHA)</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; sapnwalk –f devlist –w ../proj1/walk –n 10</span></p>
<p class="WD_Normal">where devlist is a file containing a list of devices and their SNMP profiles, and the individual walk files will get created in the proj1/walk subdirectory.&#160; 10 devices will be learnt simultaneously.&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapnw2varbc-271"></a><a name="sapnw2var" id="sapnw2var">sapnw2var</a></p>
<p class="WD_Normal">This command line utility creates a project workspace and all the maps within it, based on a list of devices and their walk files.&#160;&#160; This new map(s) can then be loaded into SimpleAgentPro and simulated.&#160; Typically this works in conjunction with the the discovery process.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapnw2var</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -f list&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160; Device list file</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -w directory&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160; Directory with walk files</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -p name&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160; Project Name.</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -s subnetmask &#160;&#160;&#160;&#160;&#160;&#160;&#160; Subnet Mask(Defualt 255.255.255.0).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -n count&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160; Number of devices per map(default=50).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -l log&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160; log file(default=sapnw2var.log).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d debuglevel &#160;&#160;&#160;&#160;&#160;&#160;&#160; Debug level(default=0).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -m cmf file&#160;&#160; &#160; &#160;&#160;&#160;&#160;&#160; Tcl modeling file (default=none).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -a modeling file&#160;&#160; &#160;&#160; compiled MIB file(default=mib2.cmf).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -b name&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160; Base map name.</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -r rules file&#160;&#160; &#160;&#160;&#160;&#160;&#160; Rules file name(default=none).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -g&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160; Convert gateway files.</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -t walk/gw/var/ssvar type of input file (default=walk).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -x prefix&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; &#160;&#160; prefix for input files(default=none).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -c topology_data&#160;&#160; &#160;&#160; toplogy data tokens(default=none).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -e mapsuffix&#160;&#160;&#160; &#160;&#160; &#160;&#160; starting map suffix number(default=1).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -h walktype&#160;&#160;&#160;&#160; &#160;&#160; &#160;&#160; type of walk (net/hp/ssoft(default=ssoft).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i interface_name&#160;&#160; &#160; interface name(default=none).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -k append_mode&#160;&#160; &#160;&#160;&#160;&#160; append mode (1 or 0)(default=0).</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; sapnw2var –f devlist –w ../proj1/walk –p proj1</span></p>
<p class="WD_Normal">where devlist is a file containing a list of devices and their SNMP profiles, and the individual walk files will be retrieved from the proj1/walk subdirectory.&#160; The walk files will be translated into variable files and a new project directory called proj1 containing workspace, maps and variable files will be created under SimpleAgentPro/projects directory.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="ssdiscoverbc-272"></a><a name="ssdiscover" id="ssdiscover">ssdiscover</a></p>
<p class="WD_Normal">This command line utility does rudimentary discovery of subnets, ipranges and gateway address of a seed_ip device.&#160; It uses the SNMP profiles listed in the file to try to communicate with the devices discovered.&#160; The output file contains a list of devices discovered along with the SNMP profile that can be used to communicate with them.&#160; This list can then be given to sapnwalk to do learning and to sapnw2var to create the associated simulation maps during the discovery process.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ssdiscover</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -f&#160; inputfile</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o&#160; outputfile [default=devlist.ssp]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -r&#160; retries&#160;&#160;&#160; [default=3]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -t&#160; timeout(milliseconds)&#160;&#160;&#160;&#160;&#160; [default=2000]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; interpktdelay(milliseconds)[default=100]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d &#160;debug level&#160; [default=0]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -l&#160; debuglogfile [default=stderr]</font></span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_algorithm">Input file format is expected to be</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">SUBNET&#160; ipaddress netmask</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">IPRANGE ipaddress1 ipaddress2</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">SEED_IP ipaddress</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">CHASSIS ipaddress</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">SNMP&#160;&#160;&#160; snmpversion(v1,v2c) community</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">SNMP&#160;&#160;&#160; snmpversion(v3) seclevel(nAnP,AnP,AP)username …</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; authtype(MD5,SHA) authpass privpass</font></span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; ssdiscover –f inputlist</span></p>
<p class="WD_Normal">where inputlist contains the seed ip and a list of SNMP profiles to try.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapovlrnbc-273"></a><a name="sapovlrn" id="sapovlrn">sapovlrn</a></p>
<p class="WD_Normal">This command line utility talks with HPOpenView database and dumps out a device list that can be used by sapnwalk to create walk/var files.&#160;&#160; This allows the user to quickly and easily simulate his existing network.&#160;&#160; Specific filters can also be specified to limit the number of devices to be learnt/simulated.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">sapovlrn</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -f&#160; inputfile</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o&#160; outputfile [default=devlist.ssp]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -r&#160; retries&#160;&#160;&#160; [default=3]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -t&#160; timeout(milliseconds)&#160;&#160;&#160;&#160;&#160; [default=2000]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; interpktdelay(milliseconds)[default=100]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d&#160; debug level&#160; [default=0]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -l&#160; debuglogfile [default=stderr]</font></span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_algorithm">Input file format is expected to be</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">SUBNET&#160; ipaddress netmask</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">IPRANGE ipaddress1 ipaddress2</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">SEED_IP ipaddress</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">SNMP&#160;&#160;&#160; snmpversion(v1,v2c) community</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">SNMP&#160;&#160;&#160; snmpversion(v3) seclevel(nAnP,AnP,AP)username …</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; authtype(MD5,SHA) authpass privpass</font></span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; sapovlrn –f inputlist</span></p>
<p class="WD_Normal">where inputlist contains the seed ip and a list of SNMP profiles to try.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="netlearnbc-274"></a><a name="netlearn" id="netlearn">netlearn</a></p>
<p class="WD_Normal">This script file internally calls ssdiscover and sapnwalk.&#160; You can take this script along with ssdiscover, sapnwalk and sapwalk2 to customer sites to learn from their network and bring back the contents of the walk directory and the device list.&#160; The device list and the walk files can then be given to <b>netcrproj</b> script to translate the walk files and create the associated map files.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">netlearn.bat &lt;input file&gt; &lt;walk directory&gt;</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; netlearn inputlist.txt .\proj1</span></p>
<p class="WD_Normal">where inputlist is a file similar in format to the ssdiscover inputlist file.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="netcrprojbc-275"></a><a name="netcrproj" id="netcrproj">netcrproj</a></p>
<p class="WD_Normal">This script file internally calls sapnw2var.&#160; The files learnt at customer sites can be brought back to your lab and the associated variable files, maps, workspaces created from them to quickly start your simulation.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:9pt;">netcrproj.bat &lt;walk directory&gt; &lt;project_name&gt;</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; netcrproj ..\walk1 proj2</span></p>
<p class="WD_Normal">where walk1 is the directory containing the walk and devlist files, and proj2 will be newly created projects directory containing maps, workspace and variable files.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sovlearnbc-276"></a><a name="sovlearn" id="sovlearn">sovlearn</a></p>
<p class="WD_Normal">This script file internally calls sapovlrn and sapnwalk.&#160; You can take this script along with sapovlrn, sapnwalk and sapwalk2 to customer sites to learn from their network and bring back the contents of the walk directory and the device list.&#160; The device list and the walk files can then be given to <b>netcrproj</b> script to translate the walk files and create the associated map files.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">sovlearn &lt;input file&gt; &lt;walk directory&gt;</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; sovlearn inputlist.txt .\proj1</span></p>
<p class="WD_Normal">where inputlist is a file similar in format to the ssdiscover inputlist file.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapt2telbc-277"></a><a name="sapt2tel" id="sapt2tel">sapt2tel</a></p>
<p class="WD_Normal">This utility converts a recorded telnet session and converts it into a telnet modeling file that can be used for simulation.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Usage: sapt2tel &lt;options&gt;</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-i input&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;Input telnet log file</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-o output&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;Output telnet modelling file</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-l login prompt&#160;&#160;&#160;&#160;&#160;&#160;&#160; Login prompt term chars (:)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-c command prompt&#160;&#160;&#160;&#160;&#160; Command prompt term chars(&gt;,#)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-a addlogin prompt&#160;&#160;&#160;&#160; AddLogin prompt term chars (:)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-m more string&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; More indicator string (---More---)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-u username &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;UserName to use</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-p password &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;Password to use (abcd)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-e addlogin command&#160;&#160;&#160; Addlogin command string (enable</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-x addlogin passwd&#160;&#160;&#160;&#160; Additional Login password (bigfish)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-t input_type &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;text(log)/wire(text)/pcap (default=text)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-s telclientip &#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;Telnet client IP address</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-d telserverip &#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;Telnet Server IP address</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-n telserverport &#160;&#160;&#160;&#160;&#160; &#160;Telnet Server Port address (default=23)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-g debugflag &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;Debug output level(default=0)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;-q start_state &#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;0/1/2/3(default=0)</font></span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; sapt2tel –i te1.log –o myte1.tel –l “:” –c “#” –u admin –p abc</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">where tel.log is a log file of a recorded telnet session and myte1.tel is the newly created telnet modeling file. (In the previous release, this utility was called tellearn, but has been now renamed for consistency).</p>
<p class="WD_Normal">Newer versions of this program also parse pcap files.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="tl1learnbc-278"></a><a name="tl1learn" id="tl1learn">tl1learn</a></p>
<p class="WD_Normal">This utility converts a recorded tl1 session and converts it into a tl1 modeling file that can be used for simulation.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">tl1learn</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; input TL1 log file</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o&#160; output TL1 modeling file</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d&#160; optionally add support for default action</font></span></p>
<p style=" margin-left:99.0pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">-s&#160; optionally add support for saving autonomous messages</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; tl1learn –i tl1.log –o mytl1.tl1</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">where tl1.log is a log file of a recorded tl1 session and mytl1.tl1 is the newly created tl1 modeling file.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sscrlearnbc-279"></a><a name="sscrlearn" id="sscrlearn">sscrlearn</a></p>
<p class="WD_Normal">This script file creates list list of devices from SNMPc and “learns” the SNMP variables for each device. It internally calls sapnwalk. You can take this script along with sapcrlrn.exe, sapnwalk, and sapwalk2 to customer sites to learn from their network and bring back the contents of the walk directory and the device list.&#160; The device list and the walk files can then be given to <b>netcrproj</b> script or the Castle Rock SNMPc wizard to translate the walk files and create the associated map files.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">sscrlearn &lt;subnet_address&gt; &lt;walk_directory&gt;</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; sscrlearn 192.168.100.0 .\proj1</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="ssnmlearnbc-280"></a><a name="ssnmlearn" id="ssnmlearn">ssnmlearn</a></p>
<p class="WD_Normal">This script file takes a device list and “learns” the SNMP version for each. It internally calls sapnwalk. You can take this script along with sapnwalk and sapwalk2 to customer sites to learn from their network and bring back the contents of the walk directory and the device list.&#160; The device list and the walk files can then be given to <b>netcrproj</b> script or the Network Management Platform wizard to translate the walk files and create the associated map files.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">ssnmlearn &lt;device_list_file&gt; &lt;walk_directory&gt;</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; ssnmlearn devlist.out .\proj1</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">where device_list_file contains a list of IP addresses, SNMP version, and accompanying SNMP parameters.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="samapviewerbc-281"></a><a name="samapviewer" id="samapviewer">samapviewer</a></p>
<p class="WD_Normal">This graphical utility displays all the currently running maps. This is useful when there are multiple instances of the SimpleAgentPro GUI running. Normally only the maps that were started in a specific SimpleAgentPro window will show up. Also, if the SimpleAgentPro is running on multiple machines, this application can display the running maps on those various machines at the same time. Note that this is a “read-only” display and can not be used to start or stop any maps.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="tellearnbc-282"></a><a name="tellearn" id="tellearn">tellearn</a></p>
<p class="WD_Normal">This utility sets up a telnet connection with a device and sends a list of commands to it, and converts the device responses into a telnet modeling file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">tellearn &lt;options&gt;</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -i ipaddress&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Device IP Address</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -o output file&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Output Telnet Modeling file</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -u useranme&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Username</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -p password&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Password</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -e enable password&#160;&#160;&#160;&#160;&#160;&#160; Enable Password</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -c cmdlist&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Input Telnet Command list</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -t tclscript&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Optional tcl script to override defaults</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -d debugfile&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Optional debug output file</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -m exactmatch[0/1]&#160;&#160;&#160;&#160;&#160;&#160; Exact match flag (default=0)</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -h do echo flag[0/1]&#160;&#160;&#160;&#160; Tell dev to do/not echo(default=0)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; tellearn –i 192.168.100.99 –o a1.tel –u admin –p abc –c infile</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The infile is a simple text file that contains a list of commands whose responses are to be learnt.&#160; Each command is assumed to be present on a separate line.&#160; You can also specify an optional tcl script that overrides the default tcl variable values used inside the tellearn program.&#160; The default tcl variables are given below. Tellearn is a command line utility that internally runs a tcl script to do the learning.&#160;&#160; The debug option will show the script that is run by the tellearn and any errors that it gets.</p>
<p class="WD_Normal">The infile typically contains a list of commands to learn.&#160; It also supports some keywords to handle command completion logic as well as command response parsing.</p>
<p class="WD_Normal">To learn all show options, you can add</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; show %CMDCOMP%</p>
<p class="WD_Normal">and it will send “show ?”, parse the response and extracts the first column which is not &lt;cr&gt;, and then send “show version”, “show terminal”, “show history”, “show cdp” and learn their responses.</p>
<p class="WD_Normal">To recursively learn show options, you can add</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; show %RCMDCOMP%</p>
<p class="WD_Normal">and it will send “show ?”, parse the response and then send&#160; “show version ?” and check if it has any additional options and if it does not then, it will simply learn “show version” response. In the case of “show cdp ?” it will learn “show cdp”, “show cdp neighbors”,&#160; “show udp neighbors detail” also..</p>
<p class="WD_Normal">To save the options returned in a tcl variable called cmdcomplist, you can do</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; show %TCMDCOMP%</p>
<p class="WD_Normal">and the tcl variable “cmdcomplist” will be set to the output of “show ?”.&#160; You can then parse that variable and build a new string.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; %tclscript&#160; set commandlist [lindex $commandlist [expr $curcmdindex + 1] [lindex $cmdcomlist 0]</p>
<p class="WD_Normal">Will insert the first option returned in the list of commands to learn after the current command.</p>
<p class="WD_Normal">To learn the output of a command you can say</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; show version %TCMDRESP%</p>
<p class="WD_Normal">and the entire response will be set in a tcl variable called “cmdresplist”</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The tcl variables used internally are set to the following values.&#160; You can overwrite these values by creating a tcl file and specifiying it with the “-t” option.</p>
<p style=" margin-left:.5in;" class="WD_Normal">set telnetport&#160; 23<br />
set cmdprompt1char "&gt;"<br />
set cmdprompt2char "#"<br />
set timeout 10<br />
set getonlynewline 1<br />
set skipblankline 1<br />
set morerespstr " "<br />
set morestringlist "--More--"</p>
<p class="WD_Heading2"><a name="sshlearnbc-283"></a><a name="sshlearn" id="sshlearn">sshlearn</a></p>
<p class="WD_Normal">This utility sets up a ssh connection with a device and sends a list of commands to it, and converts the device responses into a telnet modeling file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">sshlearn &lt;options&gt;</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -i ipaddress&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Device IP Address</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -o output file&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Output Telnet Modeling file</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -u useranme&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Username</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -p password&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Password</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160; &#160;&#160;&#160;&#160;&#160;-e enable password&#160;&#160;&#160;&#160;&#160;&#160; Enable Password</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -c cmdlist&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Input Telnet Command list</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -t tclscript&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Optional tcl script to override defaults</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -d debugfile&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Optional debug output file</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -m exactmatch[0/1]&#160;&#160;&#160;&#160;&#160;&#160; Exact match flag (default=0)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; sshlearn –i 192.168.100.99 –o a1.tel –u admin –p abc –c infile</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">The cmd file syntax is similar to tellearn.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="modpcompbc-284"></a><a name="modpcomp" id="modpcomp">modpcomp</a></p>
<p class="WD_Normal">This utility precompiles a telnet or snmp modeling file.&#160; This helps in reducing the amount of time required to start the simulation.&#160; Once the file is precompiled, it should not be edited. The –e 2 option converts the cmd_actions into procedures to speed up the execution.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">modpcomp &lt;options&gt;</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -i input&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Input telnet modeling file</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -o output&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Output telnet modeling file</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -t mod/tel&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Type of file (snmp modeling/telnet)</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160; -e 0/1/2&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Encryption/Procedure flag</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; modpcomp –i abc.tel –o p_abc.tel –t tel –e 0</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="saprqgenbc-285"></a><a name="saprqgen" id="saprqgen">saprqgen</a></p>
<p class="WD_Normal">This utility processes the snmp debug output and uses it as a basis to recreate the manager requests to be sent to the device.&#160;&#160; It extracts the SNMP request pdus and then recreates new requests that are similar to the original requests received by the simulated device.&#160; The command line argument allow you to overwrite the information in the request packet captured in the snmp debug file.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Usage: saprqgen</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; ip_address(v4 or v6)</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -f&#160; snmpdebug file with requests to generate</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-v&#160; snmp_version(v1/v2c/v3)&#160;&#160;&#160;&#160;&#160;&#160;&#160; &gt;</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-c&#160; community for v1/v2c&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &gt;</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-u&#160; username&#160; for v3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &gt;</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;-l&#160; seclevel&#160; (nAnP/AnP/AP) for v3 &gt;</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xt auth type (MD5/SHA) for v3&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xa auth password for v3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xp priv password for v3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xn ctxtname&#160; for v3&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-xi ctxtid&#160;&#160;&#160; for v3 (will discover if not specified)]</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-e&#160; engineid&#160; for v3 (will discover if not specified)]</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;[-t&#160; timeout(msec) (def=3000)&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-r&#160; retries (def=3)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-p&#160; snmpport (def=161)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" margin-left:31.5pt; text-indent:-31.5pt;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [-o&#160; walkoutput filename&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ]</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160; saprqgen –i 192.168.100.99 –f snmp.dbg</span></p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="saptrlrnbc-286"></a><a name="saptrlrn" id="saptrlrn">saptrlrn</a></p>
<p class="WD_Normal">This utility is a command line utility that opens up trap and syslog ports and listens for incoming traps/syslog events.&#160; Upon receiving them, it will convert them into corresponding tcl commands for trap/syslog generation.&#160; Typing a CtrlC terminates the running application.</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Usage: saptrlrn</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -t&#160; snmptrapport (default = 161)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -s&#160; syslog port (default = not opened if no specified)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o&#160; traptcl output filename (default = trapsgot.tcl)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -m&#160; max num traps to learn (default = keep on learning)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -f&#160; format (setup/mod) default = mod</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; use specific local ip_address (default = first ip)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xu username&#160; for v3</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xl seclevel&#160; (nAnP/AnP/AP) for v3</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xt auth type (MD5/SHA) for v3</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xa auth password for v3</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xp priv password for v3</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xe ownengineid for v3 (will use ip based if not specified)]</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xr respond to informs (0/1) default = 0</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="supktcapbc-287"></a><a name="supktcap" id="supktcap">supktcap</a></p>
<p class="WD_Normal">This utility is a command line utility that listens on the specified UDP port and dumps out whatever packets it captures to a file.&#160; It can also forward the received packet to another specified IP Address/port.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Usage: supktcap</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; incoming udp port</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -f&#160; optional pkt cap file name (default sudppktcap.txt)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -s&#160; optional specific local ip address (degault = first ip)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o&#160; optional outgoing udp port to forward pkt to (note: original srcip/port is lost)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d&#160; optional dest ip for forwarding (default is own ip)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -m&#160; optional max num pkts to record (default = keep on learning)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="supktcnvbc-288"></a><a name="supktcnv" id="supktcnv">supktcnv</a></p>
<p class="WD_Normal">This utility is a command line utility that converts captured packets from supktcap into the netflow data files (if the captured packets were netflow).&#160; It can also convert pcap files into netflow data files.&#160; The netflow data file can then be given to SA_netflow_readinputfile as an argument so that the same netflow packets can be replayed.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage: supktcnv</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i input&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Input udp pkt cap file</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o output&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Output sapro data/tcl file</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -f input_format&#160;&#160;&#160;&#160;ssoft or pcap (default = ssoft)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -t packet_type&#160;&#160;&#160;&#160;&#160;netflow (default = netflow)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -c 0 or 1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;comment flag.(default = 0)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="ssnmpreqbc-289"></a><a name="ssnmpreq" id="ssnmpreq">ssnmpreq</a></p>
<p class="WD_Normal">This utility is a command line utility that sends SNMP request packets based on the options specified.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage: ssnmpreq [options] [variables]</p>
<p class="WD_Normal">&#160;&#160; [options]</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; ip_address</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -v&#160; snmp_version(v1/v2c/v3)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o&#160; operation (get/set/getnext/getbulk/walk)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -t&#160; timeout(msec)(default=2000)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -r&#160; retries(default=3)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -p&#160; snmpport(default=161)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d&#160; debuglevel(0,1,2)(default=1)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -c&#160; community for v1/v2c</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xu username&#160; for v3</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xl seclevel&#160; (nAnP/AnP/AP) for v3</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xt auth type (MD5/SHA) for v3</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xa auth password for v3</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xp priv password for v3</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xn ctxtname&#160; for v3</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xi ctxtid&#160;&#160;&#160; for v3 (will discover if not specified)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xe engineid&#160; for v3 (will discover if not specified)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -bn nonrepeaters (for bulk)</p>
<p class="WD_Normal">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;-br repeaters (for bulk)</p>
<p class="WD_Normal">&#160;&#160; [variables]</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; oid1 oid2 ...&#160; (for get/getnext/getbulk)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; oid&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; (for walk)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; oid1 type1 value1 oid2 type2 value2.. (for set)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; valid types are:</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Integer, OctetString, ObjectID, IpAdddress, Counter</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Counter64, Gauge, TimeTicks, Bits, Opaque, and NULL</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="soaplrnbc-290"></a><a name="soaplrn" id="soaplrn">soaplrn</a></p>
<p class="WD_Normal">This utility is a command line utility that converts captured packets in pcap file format into soap modeling files.&#160; It also has the ability to send soap requests in the specified input file to the uri given and convert the responses received into a SOAP modeling file. Only HTTP is currently supported.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage: soaplrn</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i input&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Input Captured Pcap file or Soap Request File</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o output&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Output Soap Modeling file to be created</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -t input_format&#160;&#160;&#160;&#160;req or pcap(default = req)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -u uri&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;uril to send the request to (http://192.168.100.40:80/abc)</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sapp2varbc-291"></a><a name="sapp2var" id="sapp2var">sapp2var</a></p>
<p class="WD_Normal">This utility converts a recorded snmp session from a pcap file into a variable file that can be used for simulation.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Usage: sapp2var</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; input pcap file with captured packets</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o&#160; output var file to create</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -c&#160; compiled mib file for mib info</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -r&#160; (optional) rules file for conversion(default=none)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -v&#160; (optional) csv value file for polldata(default=first)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -a&#160; (optional) Agent IP(default=firstIP on snmpport)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -m&#160; (optional) Manager IP(default=any)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -p&#160; (optional) Agent SNMP Port(default=161)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d&#160; (optional) debuginfo in sapp2var.log(2/1/0)(def=0)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -l&#160; (optional) log file name(default=sapp2var.log)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -b&#160; (optional) base community for vlan support(def=none)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -x&#160; (optional) output list of oids instead(0/1)(def=0)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -tf (optional) tcl script file name (default=none)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -tt (optional) timestamp threshold (default=1sec)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -ti (optional) input type(pcap/dbg/proxy)(default=pcap)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; sapp2var –i mycap.pcap –o myvar.var –c mib2.cmf</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">where mycap.pcal is a captured pcap file, myvar.var will be the newly created var file and mib2.cmf is a compiled mib file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="saptgenbc-292"></a><a name="saptgen" id="saptgen">saptgen</a></p>
<p class="WD_Normal">This utility acts as a telnet client and connects with a telnet server and sends cli commands to the server, and prints out the timing information and commands sent.&#160; This utility is currently available on Linux.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Usage:</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Usage: saptgen</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; IP address</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -c&#160; command list</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -u&#160; user name</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -p&#160; password</font></span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; saptgen –I 10.1.1.1 –c clist –u admin –p abc</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">where clist is a file containing the cli commands to be sent to 10.1.1.1 whose username is admin and password is abc.</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="ssproxyfwdbc-293"></a><a name="ssproxyfwd" id="ssproxyfwd">ssproxyfwd</a></p>
<p class="WD_Normal">This utility is proxy forwarder that forwards packets from one side to the other, and writes down the packet exchange in a debug file that can then be used to create simulation files.</p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Usage: ssproxyfwd</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160; -r remote server ip</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160; -i self ip (default=local ip)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160; -o output debug file</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160; -p port list given as</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; type:num,type:lnum:rnum,...</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160; type supported:http,https,tcp,telnet,udp,ssh,netconf</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160; -s server.pem file location.(for https)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160; -k skey.pem file location.(for https)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160; -u username(for ssh/netconf)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160; -w password(for ssh/netconf)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160; -m instr1,outstr1,instr2,outstr2,...</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">General Linux Command Info</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">to add ip alias for multihoming (and use it as self ip)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160; ifconfig eth0:1 &lt;multihome_ip&gt; netmask 255.255.255.0 up</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">to remove ip alias from multihoming</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160; ifconfig eth0:1 &lt;multihome_ip&gt; down</font></span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; ssproxyfwd –r 192.168.100.98 –i 192.168.100.9 –o cap.out –p udp:161,telnet:23</span></p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="ipmilearnbc-294"></a><a name="ipmilearn" id="ipmilearn">ipmilearn</a></p>
<p class="WD_Normal">This utility is a command line utility that sends IPMI requests to a device and records its responses in a IPMI modeling file format so that it can be later used to seed the simulation.&#160; The AES version on Windows and all Linux versions support IPMI version 1.5 and 2.0, while the regular version on Windows only supports IPMI version 1.5.</p>
<p class="WD_Normal">&#160;Usage: ipmilearn</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i ip_address&#160;&#160;&#160;&#160;&#160;&#160; IP address/name of the device to learn IPMI responses from</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -n port_number UDP port to send requests to (default port is 623)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -u username&#160;&#160;&#160;&#160;&#160;&#160; Username to use when sending requests</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -p password&#160;&#160;&#160;&#160;&#160;&#160; Associated password for the specified user to use when sending requests.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o output file&#160;&#160;&#160;&#160; Output modeling file to be created by learning.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d debug file&#160;&#160;&#160;&#160;&#160;&#160; Debug file to be created with record of request/responses(defaut=none)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -s 1/0&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Display status messages on stdout to show what it is doing (default=0)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -r rules file&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Optional rules file containing %VERSION and %CMD info (default=none).</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="vmd2rrpbc-295"></a><a name="vmd2rrp" id="vmd2rrp">vmd2rrp</a></p>
<p class="WD_Normal">This utility is a command line utility that converts debug files containing request/responses to a request-response-playback file that can be used for playback simulation.&#160; It can be used for both vsphereAPI simulation as well as xml based simulation.</p>
<p class="WD_Normal">Usage: vmd2rrp</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; input file or partial input file name</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d&#160; directory where input files present</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o&#160; output request-response file to create</p>
<p class="WD_Normal">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;-t&#160; type (vsphere/xml) default is vsphere</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="stpktcnvbc-296"></a><a name="stpktcnv" id="stpktcnv">stpktcnv</a></p>
<p class="WD_Normal">This utility converts a recorded tcp http session from a pcap file into a debug file(s) that can be later on used to create a modeling file for simulation or to generate a request file.</p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">Usage: stpktcnv &lt;options&gt;</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; input tcp pcap file with captured packets</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o&#160; output suffix for file(s) to create</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -p&#160; (optional) server port(default=80)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -t&#160; (optional) output type(default=http)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -s&#160; (optional) server IP(default=firstIP on port)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -c&#160; (optional) client IP(default=any)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d&#160; (optional) debug log(1/0)(default=0)</font></span></p>
<p style=" text-indent:.5in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:Courier New;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xh (optional) transform chunked pkts(1/0)(default=1)&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; stpktcnv –i myhttp.pcap –o abc</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">where myhttp.pcap is a captured pcap file, and after running this command, it will look for http sessions and create 0_abc.dbg, 1_abc.dbg,… debug files containing the request/responses in each concurrent http session.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sahdconvbc-297"></a><a name="sahdconv" id="sahdconv">sahdconv</a></p>
<p class="WD_Normal">This utility is a command line utility that converts debug files containing request/responses to a xml modeling file that can be used for simulation or a request file for testing.&#160;</p>
<p class="WD_Normal">Usage: sahdconv</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i&#160; input file or partial input file name</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -d&#160; directory where input files present</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o&#160; output request-response file to create</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -t&#160; type (xmod/xreq) default is xmod</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -xd&#160; (optional) 1(use first)/2(use all duplicates)default=1</p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; sahdconv –i abc –d . –o ../xml/myrest.xmf –t xmod</span></p>
<p class="WD_Normal">where it will look into all *abc* debug files in the current directory and create a myrest.xmf xml modeling file in the xml directory.</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; sahdconv –i abc –d . –o myrest.req –t xreq</span></p>
<p class="WD_Normal">where it will look into all *abc* debug files in the current directory and create a myrest.req request file that can be used with sahrqgen to send requests to the simulator.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="sahrqgenbc-298"></a><a name="sahrqgen" id="sahrqgen">sahrqgen</a></p>
<p class="WD_Normal">This utility processes the http request file created from the http debug output by sahdconv and uses it to send requests to the specified IP address.</p>
<p class="WD_Normal">Usage: sahrqgen</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -i ipaddress to send requests to</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -r input file with requests to send</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -o (optional) output debug file</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -t (optional) &lt;https/http&gt; url type file type(default=https)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -n (optional) non standard port(default=443/https, 80/http)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -h (optional) &lt;0/1&gt; hex dump flag(default=0)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -s (optional) num secs to wait for response(default=60)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -u (optional) username in case of Basic Authorization</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; -p (optional) password in case of Basic Authorization</p>
<p class="WD_Normal">Input file can contain ##HTTPREQ=n followed by packet or ##SLEEP=&lt;milliseconds&gt;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; sahrqgen –i 10.1.1.1 –r myrest.req –o myout –t http</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">where it will send the requests in myrest.req file to 10.1.1.1 using http port.</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:0in; text-indent:0in;" class="WD_Heading2"><a name="ncdconvbc-299"></a><a name="ncdconv" id="ncdconv">ncdconv</a></p>
<p class="WD_Normal">This utility processes the debug files created by netconf proxy forwarding and converts them in to a netconf modeling file.</p>
<p class="WD_Normal">Usage: ncdconv</p>
<p class="WD_Normal">&#160;&#160; -i&#160; input file or partial input file name</p>
<p class="WD_Normal">&#160;&#160; -d&#160; directory where input files present</p>
<p class="WD_Normal">&#160;&#160; -o&#160; output modeling file to create</p>
<p class="WD_Normal">&#160;&#160; -t&#160; type (mod) default is mod</p>
<p class="WD_Normal">Example:</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;&#160;&#160;&#160;&#160; ncdconv –i 10.1.1.1 –d ../debug –o ../netconf/mync.ncf –t mod</span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:Courier New;">&#160;</span></p>
<p class="WD_Normal">where it will convert all files with 10.1.1.1 in their names in the debug directory into mync.ncf netconf modeling file.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_chapnonum"><a name="Appendix_Hbc-300"></a><a name="Appendix_H" id="Appendix_H">Appendix H<br />
Troubleshooting</a></p>
<p class="WD_Normal">This section lists some basic troubleshooting you can perform before calling Customer Support.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Basic_Troubleshooting_onbc-301"></a><a name="Basic_Troubleshooting_on" id="Basic_Troubleshooting_on">Basic Troubleshooting on Windows</a></p>
</div>
<p class="WD_Normal">Following are some of the basic trouble shooting steps to get SimpleAgentPro up and running on a Windows NT/2000/XP/Server 2003 system when using the Microsoft TCP/IP stack.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_hyphbullet">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> What service pack is installed on your NT machine?&#160; To find out, use <b>Programs→Administrative Tools (Common)→Windows NT Diagnostics</b>, and select the Version tab.&#160; SimpleAgentPro requires Service Pack 4 or above on NT.&#160;</p>
<p class="WD_hyphbullet">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Do you have Remove Access Server (RAS) service enabled?&#160; To find out, use <b>Settings→Control Panel→Services</b>. &#160;SimpleAgentPro’s use of the Microsoft&#160; TCP/IP stack for multi-homed IP support requires that the RAS service be disabled.&#160; Stop stop the service if running.</p>
<p class="WD_hyphbullet">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Do you have SNMP service enabled?&#160; To find this out, you can use <b>Settings→Control Panel→Services</b>. &#160;SimpleAgentPro has difficulty starting SNMP agents on port 161, if this service is running.&#160; Stop the service if running.&#160;&#160; You can also run “netstat –a” in a DOS box and look for snmp or 161 amongst the open ports.&#160; SNMP trap service should also be stopped if running.</p>
<p class="WD_hyphbullet">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Are you running as Administrator or with Administrative privledges ? Since SimpleAgentPro adds IP addresses to the underlying TCP/IP stack, it needs admin priviledges to run.&#160; Check if you are logged in as Administrator or if your user profile has administrative priviledges.</p>
<p class="WD_hyphbullet">5.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Do you have a TCP/IP stack currently running ?&#160; Sometimes when the network card is disconnected, the TCP/IP stack disappears.&#160; Check by running the ipconfig command in a DOS box.&#160; What is the IP address for the Microsoft TCP/IP stack?&#160; Assume it is SubnetA.1 for this example.</p>
<p class="WD_hyphbullet">6.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Do you have multiple interface cards ?&#160; Check this by running the “msifconf.exe” program in the SimpleAgentPro\bin directory.&#160; Is TCP/IP running on both of them ?&#160; SimpleAgentPro will try to add addresses to the first card it finds.&#160; If this is not the correct interface card to add addresses to, you can specify the interface by either specifying the description string or index value associated with the interface in the output of the msifconf program.&#160; For specifying the index value, you have to use the string&#160; “INDEX=12345…” where 12345.. is the index number in the output of the msifconf program.&#160;&#160; Then edit the config.inp file and add the line “INTERFACE=INDEX=12345”, and the SimpleAgentPro will then add the addresses to that interface.&#160; You can also specify “INDEX=12345” in the Map-&gt;Properties dialog as the Optional Interface String.&#160;</p>
<p class="WD_hyphbullet">7.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> When the SimpleAgentPro is started, create a new map called "abc",&#160; and add two devices to it with IP Addresses SubnetA.3 and SubnetA.4.&#160;&#160; Use mib2.cmf and dev1.var (files that come with the installation)&#160; for the compiled MIB file and variable file for both the devices.&#160; Make sure that SubnetA.3 and SubnetA.4 are addresses that no one else is using on your&#160; network.&#160; If such addresses are unavailable, try test network addresses in the range of 192.168.*.* (e.g.: 192.168.10.1 and 192.168.10.2)</p>
<p class="WD_hyphbullet">8.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> When you click on the Start button, the SimpleAgentPro should&#160; display "Map started....." on the status window, and new executable sathrd will get launched.&#160; Check if all these things happen.</p>
<p class="WD_hyphbullet">9.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Go to the DOS console/box on the Windows machine and ping the two addresses SubnetA.3 and SubnetA.4.&#160; They should respond.&#160;&#160; If you run “ipconfig”&#160; in the DOS console, you should also see these addresses.&#160; If the addresses are not getting added to the interface you want, run the msifconf program in the sapro/bin directory, and get the description string of the interface you wish to be used.&#160;</p>
<p class="WD_hyphbullet">10.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;</font></span> Run another invocation of the SimpleAgentPro or use the MIB Browser to access SNMP data from SubnetA.3.&#160; If running another invocation, do not start the map but this time go to the <b>Variable→Learn from Device</b> submenu and specify an output file as junk.var, the teacher's IP Address as SubnetA.3.&#160; Start the learn and see if the SNMP Agent in the simulated device is responding.</p>
<p class="WD_hyphbullet">11.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;</font></span> Look at the <b>Map→Statistics</b> menu in the first invocation where the map is running, to see if the simulated device is indeed getting the requests.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Following are some of the basic trouble shooting steps to get SimpleAgentPro up and running on a Windows system when using SimpleSoft’s UDP/IP stack.&#160; Providing answers to these questions when contacting the SimpleSoft support group would help them quickly resolve your problems.&#160;&#160; <b>Please note that SimpleSoft no longer supports the older UDP/IP stack, and this information is only provided for backwards compatibility</b>.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_hyphbullet">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> What is the IP Address for the Microsoft TCP/IP stack?&#160;&#160; Assume it is SubnetA.1 for this example.</p>
<p class="WD_hyphbullet">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> What is the IP Address of the SimpleSoft UDP/IP stack.&#160;&#160; Assume it is SubnetA.2 for this example. (Check if your UDP/IP stack address is on the same subnet as the NT machine, but is <i>different</i> from the Microsoft TCP/IP&#160; stack address, and is also not in use by some else.)</p>
<p class="WD_hyphbullet">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> After the stack is installed and the machine rebooted, use a DOS box on the Windows machine to “ping SubnetA.2”&#160; i.e.: ping the UDP/IP stack.&#160; It should respond.</p>
<p class="WD_hyphbullet">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> If the above does not work, please let SimpleSoft know the adapter card type in your PC, Windows version, and service packs installed, and if you are running the stack in promiscuous or&#160; directed mode.</p>
<p class="WD_hyphbullet">5.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> When the SimpleAgentPro is started, create a new map called "abc" and add two devices to it with IP Addresses SubnetA.3 and SubnetA.4.&#160;&#160; Use mib2.cmf and dev1.var (files that come with the installation)&#160; for the compiled MIB file and variable file for both the devices.</p>
<p class="WD_hyphbullet">6.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> When you click on the Start button, SimpleAgentPro should&#160; display "Map started....." on the status window, and new executable sathrd will get launched.&#160; Check if all these things happen.</p>
<p class="WD_hyphbullet">7.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Go to the DOS console/box on the NT machine and ping the two addresses SubnetA.3 and SubnetA.4.&#160; They should respond.</p>
<p class="WD_hyphbullet">8.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Run another invocation of SimpleAgentPro. Do not start the map but this time go to the <i>Variables→Learn</i> from Device submenu and specify an output file as junk.var, the teacher's IP Address as SubnetA.3.&#160; Start the learn and see if the SNMP Agent in the simulated device is responding.</p>
<p class="WD_hyphbullet">9.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Look at the <i>Map→Statistics</i> menu to see if the simulated device is indeed getting the requests.</p>
<p class="WD_hyphbullet">10.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;</font></span> Also check if the SNMP service is currently running on the NT box.&#160; If it is running, stop the service permanently and reboot the machine and then try these steps once again.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Basic_Troubleshooting_on1bc-302"></a><a name="Basic_Troubleshooting_on1" id="Basic_Troubleshooting_on1">Basic Troubleshooting on Solaris</a></p>
</div>
<p class="WD_Normal">Following are some of the basic troubleshooting steps to get SimpleAgentPro up and running on a Solaris system.&#160; Providing answers to these questions when contacting the SimpleSoft support group would help them quickly resolve your problems.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_hyphbullet">1.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> What is the IP Address for the SUN Workstation?&#160;&#160; Assume it is SubnetA.1 for this example.</p>
<p class="WD_hyphbullet">2.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> What is the interface name of the network card?&#160; Run ifconfig -a command and see what the second entry is called (the one after lo0 (loopback) entry).&#160; It might be something like le0 or hme0</p>
<p class="WD_hyphbullet">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Make sure the config.inp file in the sapro/bin directory&#160; has a entry “INTERFACE = hme0” if your interface name is hme0</p>
<p class="WD_hyphbullet">4.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Make sure you are running as root on the local machine.</p>
<p class="WD_hyphbullet">5.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> When the SimpleAgentPro is started, create a new map called "abc",&#160; and add two devices to it with IP Addresses SubnetA.3 and SubnetA.4&#160;&#160; Use mib2.cmf and dev1.var (files that come with the installation)&#160; for the compiled MIB file and variable file for both the devices.</p>
<p class="WD_hyphbullet">6.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> When you click on the <i>Start</i> button, SimpleAgentPro should display "Map started....." on the status window, and new executable&#160; sathrd will get launched.&#160; Check if all these things happen.</p>
<p class="WD_hyphbullet">7.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Check if there are error messages in the shell where you started SimpleAgentPro.&#160; If there are error messages, check if you have a SNMP daemon process running that has bound to port 161.&#160; If you have a SNMP daemon process running kill it. Also get a valid license key from SimpleSoft if required.&#160; The &lt;map_name&gt;.log file in the log directory will also contain additional error messages.</p>
<p class="WD_hyphbullet">8.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Go to the shell window on the Solaris machine and ping the two addresses SubnetA.3 and SubnetA.4.&#160; They should respond.</p>
<p class="WD_hyphbullet">9.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> Run another invocation of SimpleAgentPro. Do not start the map but this time go to the Variables→Learn from Device submenu and specify an output file as junk.var, the teacher's IP Address as SubnetA.3.&#160; Start the learn and see if the SNMP Agent in the simulated device is responding.</p>
<p class="WD_hyphbullet">10.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;</font></span> Look at the Map→Statistics menu to see if the simulated device is indeed getting the requests.</p>
<p class="WD_hyphbullet">&#160;</p>
<span style=" font-size:11.0pt; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_chapnonum"><a name="Appendix_I_Cablebc-303"></a><a name="Appendix_I_Cable" id="Appendix_I_Cable">Appendix I<br />
Cable Provisioning Support</a></p>
<p class="WD_Normal">SimpleAgentPro can be used to test cable provisioning systems by creating typical initialization packet sequences.&#160; CMs simulated within a map can be set up to request IP addresses to a DHCPv4 server directly or via a Relay.&#160; Upon receiving an IP address, they can be further instructed to make TFTP/TOD requests, send traps/informs and respond to SNMP queries.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Note1"><img border="0" width="39" height="33" src="pro_205_files/image001.jpg" alt="" />Note</p>
<div style=" border-top:solid windowtext 1.0pt; border-left:none; border-bottom:solid windowtext 1.0pt; border-right:none; padding:1.0pt 0in 1.0pt 0in; margin-left:0in; margin-right:.2in;">
<p class="WD_note">The section covers IPv4/DHCPv4 provisioning. There are Tcl commands to invoke DHCPv6 requests in the versions of SimpleAgentPro that supports IPv6. For more details, you can find the DHCPv6 commands in the chapter titled, “Tcl Commands,” under the “DHCP Commands” subsection.</p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This section includes specific information regarding Cable Modem simulation.</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Making_requests_to_abc-304"></a><a name="Making_requests_to_a" id="Making_requests_to_a">Making requests to a DHCPv4 server directly:</a></p>
</div>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<ol style=" margin-top:0in;" start="1" type="1">
<li>
<p>Create a map called dhcp1 (Using menus Map-&gt;New)</p>
</li>
<li>
<p>Add a device to the map (Using menus Device-&gt;New)</p>
<p style=" margin-bottom:.0001pt;" class="WD_ListContinue">3.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> On the General tab, select “Obtain an IP address automatically”, and specify Name as “dev1”, and Mac Address as “010203040506”</p>
</li>
<li>
<p>In the SNMP tab, you can select “User Defined” and specify “mib2.cmf” and “dev1.var” as placeholder SNMP data.</p>
</li>
<li>
<p>Click on Create</p>
</li>
<li>
<p>Now you would have one device in a map.<span>&#160;</span> Select the map and then click on Start Map (4<sup>th</sup> icon on the tool bar) or select start via the right-mouse pop-up menu.<span>&#160;</span></p>
</li>
<li>
<p>When the map is started, an new process called sathrd is created, and it will send a DHCPv4 broadcast request to a DHCPv4 server.<span>&#160;&#160;</span> Upon receiving an offer, it will send a request and wait for the ack.<span>&#160;</span> Once it gets the ack, the device will get started and it will show up on the display with the new IP address.</p>
</li>
<li>
<p>You can “clone” the device added to the map, by selecting the device and selecting Clone in the pop-up menu.<span>&#160;</span> Additional devices will be added to the map with the same properties as the original device, except their device Name will be changed and their mac address will be incremented.</p>
</li>
</ol>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Making_requests_to_a1bc-305"></a><a name="Making_requests_to_a1" id="Making_requests_to_a1">Making requests to a DHCPv4 server via a simulated CMTS relay:</a></p>
</div>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<ol style=" margin-top:0in;" start="1" type="1">
<li>
<p>Create a map called dhcp_cmts (using menus Map-&gt;New)</p>
</li>
<li>
<p>Add a device to the map (using menus Device-&gt;New)</p>
<p style=" line-height:normal;" class="WD_bullet">a.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> On the General tab, select “Use the following Address”, and specify an address.&#160; The address you specify (like 192.168.100.50) will get added to the machine on which you are running SAPro (multi-homed IP).&#160; It should be such that you should be able to forward a request to the real DHCPv4 server, and the DHCPv4 server should be able to ping this address/send responses to it.&#160; (You might need to add a route on the DHCPv4 server to indicate that to reach this CMTS fake IP, it should use your PC’s IP address as a gateway).</p>
<ol style=" margin-top:0in;" start="2" type="a">
<li>
<p>In the SNMP tab, you can select “User Defined” and specify “mib2.cmf” and “dev1.var” as placeholder SNMP data.</p>
</li>
</ol>
<p style=" margin-top:0in; margin-right:0in; margin-bottom:.0001pt; margin-left:1.0in;" class="WD_ListContinue">c.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;&#160;</font></span> In the “Tcl Modeling File:” prompt, you need to specify a tcl file called cmts1.tcl which should be located in the sapro/tcl directory.&#160; Inside this file, you should have the following lines:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">%init_action</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # turn tcl debugging on during testing.</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # remove it later for better performance</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-bottom:.0001pt;" class="WD_code"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160; set myIP&#160; [SA_getmyip]</span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #SA_settcldebugflag 1</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #SA_settcldebugfile tcl$myIP.dbg</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # Enable DHCPv4 relay capability on this address</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p style=" margin-left:1.0in;" class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_start_dhcprelay $myIP 67 192.168.100.2</font></span></p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:1.0in;" class="WD_Normal">This tcl code will be evaluated, when the device is started.&#160; The “SA_start_dhcprelay” tcl command tells the CMTS device to start the DHCPv4 relay service.&#160; It will open up port 67 (2<sup>nd</sup> argument) and listen for incoming packets.&#160; If the packet is not from the DHCPv4 server, it will forward the request to the DHCPv4 server (the 3<sup>rd</sup> argument = 192.168.100.2) on port 67.&#160; If it receives a packet from the DHCPv4 server, it will broadcast it out to port 68.</p>
<p style=" margin-left:1.0in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:1.0in;" class="WD_Normal">You can use additional arguments to customize the ports:</p>
<p style=" margin-left:1.0in;" class="WD_Normal">4<sup>th</sup> argument: the DHCPv4 server port (if you want to change it from 67)</p>
<p style=" margin-left:1.0in;" class="WD_Normal">5<sup>th</sup> argument: the Client port where it sends the broadcast (if you want to change it from 68)</p>
<p style=" margin-left:1.0in;" class="WD_Normal">6<sup>th</sup> argument: debug flag (set it to 1 if you want to see debug messages)</p>
<p style=" margin-left:1.0in;" class="WD_Normal">7<sup>th</sup> argument: broadcast socket flag (on Solaris only). Set to 1 if you want to open both broadcast and unicast socket to listen for incoming packets)</p>
<p class="WD_Normal">&#160;</p>
<p style=" line-height:normal;" class="WD_bullet">d.<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;&#160;&#160;&#160;&#160;</font></span> Click on Create and then Done. This will add the device to the map.</p>
<p style=" margin-left:.75in; text-indent:0in; line-height:normal;" class="WD_bullet">&#160;</p>
</li>
<li>
<p><span style=" font-family:'Arial' ,'sans-serif';">Now you would have a fake CMTS device in the dhcp_cmts.map file.</span></p>
</li>
<li>
<p><span style=" font-family:'Arial' ,'sans-serif';">Create another map called dhcp_cm.<span>&#160;</span> (Map-&gt;New)</span></p>
</li>
<li>
<p><span style=" font-family:'Arial' ,'sans-serif';">Add a device to it (using menus Device-New)</span></p>
<ol style=" margin-top:0in;" start="1" type="a">
<li>
<p><span style=" font-family:'Arial' ,'sans-serif';">On the General tab, select “Obtain an IP address automatically”, and specify Name as “dev1”, and Mac Address as “010203040506”</span></p>
</li>
<li>
<p><span style=" font-family:'Arial' ,'sans-serif';">Also on the General tab, in the dialog displayed by clicking on “Advanced”, enable the DHCP Relay option, and specify the Agent Relay IP to be 192.168.100.50 (the IP of the CMTS running the relay agent).<span>&#160;</span> This tells SAPro to include this value in the giaddr field of the DHCPv4 request.</span></p>
</li>
<li>
<p><span style=" font-family:'Arial' ,'sans-serif';">In the SNMP tab, you can select “User Defined” and specify “mib2.cmf” and “dev1.var” as placeholder SNMP data.</span></p>
</li>
<li>
<p><span style=" font-family:'Arial' ,'sans-serif';">Click on Create and then Done.<span>&#160;</span> This will add the device to the map.</span></p>
</li>
</ol>
<p style=" margin-left:.75in;" class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
</li>
<li>
<p><span style=" font-family:'Arial' ,'sans-serif';">Now you would have two maps, dhcp_cmts and dhcp_cm, each containing one device.<span>&#160;&#160;</span></span></p>
</li>
<li>
<p><span style=" font-family:'Arial' ,'sans-serif';">Start the dhcp_cmts map first.<span>&#160;</span> This will start the CMTS device and it will look into the cmts1.tcl file and start the dhcp_relay functionality.</span></p>
</li>
<li>
<p><span style=" font-family:'Arial' ,'sans-serif';">Now start the dhcp_cm map.<span>&#160;</span> The device will broadcast the request for an address, which will be picked up by the dhcp_relay in the CMTS device context and it will forward a unicast request to the DHCPv4 server.<span>&#160;</span> The offer received from the DHCPv4 server will be received as a unicast packet to the relay and it will forwad it by broadcasting it back to the CM.<span>&#160;</span> Once the handshake is complete, the simulated CM in dhcp_cm map will get started and show its assigned IP address.</span></p>
</li>
<li>
<p><span style=" font-family:'Arial' ,'sans-serif';">You can “clone” the device added to the map, by selecting the device and selecting Clone in the pop-up menu.<span>&#160;</span> Additional devices will be added to the map with the same properties as the original device, except their device Name will be changed and their mac address will be incremented.</span></p>
</li>
</ol>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">If you want to debug this scenario, you can turn debugging on by specifying DHCPCLDEBUG=1 in the UserData field in the General tab of the CM, and specifying additional arguments in the cmts.tcl file</span><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160; SA_start_dhcprelay $myIP 67 192.168.100.2 67 68 1.&#160;</font></span> The debug messages will be present in the &lt;mapname&gt;.log files..</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Specifying_Additionalbc-306"></a><a name="Specifying_Additional" id="Specifying_Additional">Specifying Additional options in the original DHCPv4 request</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In either of the above two case, for the CM device, in the User Data field, in the general tab, you can specify DHCPv4 options in the Options list in the “Advanced” dialog.&#160;&#160;&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">That includes many of the cable specific options including options 43 and 60 etc can be specified in this manner.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Sometimes it is required to include the MAC address of the device in the options string.&#160; You can use the special token “$$MYMAINMACADDR$$” in the above hex string, and the token will get replaced by the associated mac address for the device.&#160; This will allow you to create one device and specify its options, and then simply clone it.. All the cloned devices will also have the same options string, but at runtime, the $$MYMAINMACADDR$$ token will be replaced by the associated MAC address of the device.</p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal">The complete list of DHCPv4 related settings that can be specified in the UserData field of the device is given below.&#160; Multiple options should be separated by “;” semicolons and have a “label=value” format</p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:.5in;" class="WD_BlockText">DHCPTIMEOUT=5&#160;&#160; You can use this to specify the timeout value in seconds. The default value is 3 seconds.</p>
<p style=" margin-left:.5in;" class="WD_BlockText">&#160;</p>
<p style=" margin-left:.5in;" class="WD_BlockText">DHCPRETRIES=5&#160;&#160;&#160;&#160; You can use this to specify how many times to retry.&#160; The default is 3 times.</p>
<p style=" margin-left:.5in;" class="WD_BlockText">&#160;</p>
<p style=" margin-left:.5in;" class="WD_BlockText">DHCPCLPORT=2068&#160;&#160; You can use this to change the client port where you listen.&#160; The default is 68.</p>
<p style=" margin-left:.5in;" class="WD_BlockText">&#160;</p>
<p style=" margin-left:.5in;" class="WD_BlockText">DHCPSRPORT=2067&#160;&#160; You can use this to change the DHCPv4 server port where the requests are broadcasted.. The default is 67.</p>
<p style=" margin-left:.5in;" class="WD_BlockText">&#160;</p>
<p style=" margin-left:.5in;" class="WD_BlockText">DHCPCLDEBUG=1&#160;&#160;&#160;&#160; You can use this to turn DHCP Client debugging on.&#160; The log messages will appear in the map’s log file.</p>
<p style=" margin-left:.5in;" class="WD_BlockText">&#160;</p>
<p style=" margin-left:.5in;" class="WD_BlockText">Other related options that are parsed out in the modeling file are:</p>
<p style=" margin-left:.5in;" class="WD_BlockText">MTAMAC=010203040506 You can use this to specify the mta mac associated with this device</p>
<p style=" margin-left:.5in;" class="WD_BlockText">MTADHCPOPT=0x39…</p>
<p class="WD_BodyTextIndent"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Parsing_options_from_thebc-307"></a><a name="Parsing_options_from_the" id="Parsing_options_from_the">Parsing options from the initial DHCPv4 response</a></p>
</div>
<p class="WD_Normal"><u><span style=" font-family:'Arial' ,'sans-serif';"><span style=" text-decoration:none;">&#160;</span></span></u></p>
<p class="WD_Normal">The information received in the initial DHCPv4 offer is saved in a datastructure so that it may be available after the device is initialized and started.&#160; This information is available via Tcl commands that can be executed in the %init_action section of the tcl modeling file.</p>
<p class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal">You can access the information returned during the initial DHCPv4 offer in the %init_action section of simulated device (in this case the CM)</p>
<p class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal">The list of Tcl commands that provide this type of information is given below:</p>
<p class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:.5in;" class="WD_BlockText">SA_dhcp_getservername:&#160;&#160;&#160;&#160; This gives the name of the DHCP server</p>
<p style=" margin-left:.5in;" class="WD_BlockText">SA_dhcp_getfilename:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; This gives the name of the bootfile in the DHCPv4 packet</p>
<p style=" margin-left:.5in;" class="WD_BlockText">SA_dhcp_gettftpserver:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; This gives the name of the tftpservername (option 66)</p>
<p style=" margin-left:.5in;" class="WD_BlockText">SA_dhcp_gettodserver:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; This gives the IP of the TOD server (option 4)</p>
<p style=" margin-left:.5in;" class="WD_BlockText">SA_dhcp_getoptions:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; This dumps out the entire options string as a hex encoded string.</p>
<p style=" margin-left:.5in;" class="WD_BlockText">SA_dhcp_getparsedoptions:&#160; This dumps out the options string as list of a list made up of type len and value_in_hex.&#160; You you will get back a list like …{53 53 0x02}{1 1 0xffffff00}{3 3 0xc0a86402}{6 6 0xce0d1c0cce0d1f0c}{12 12 dhcppc0}{58 58 0x0001fa40}{59 59 0x000375f0}{51 51 0x0003f480}{54 54 0xc0a86430}</p>
<p style=" margin-left:.5in;" class="WD_BlockText">SA_dhcp_getstarttime:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; This displays the amout of time in milliseconds that it took to get the initial dhcp address</p>
<p style=" margin-left:2.25in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal">These values can then be used for making TFTP/TOD requests in the %init_action section of the modeling file.&#160; A sample file is shown below.</p>
<p class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">%init_action</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; #</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; # turn tcl debugging on during testing.</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; # remove it later for better performance</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; #</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; set myIP&#160; [SA_getmyip]</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; set myMac [SA_getmymac]</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; set myCMTS 192.168.100.50</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; #SA_settcldebugflag 1</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; #SA_settcldebugfile tcl$myIP.dbg</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; #</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; # TFTP Support</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; # specify values of the TFTP server, configfile</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; #</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; set myTFTPServer&#160; [SA_dhcp_gettftpserver]</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; set myConfigFile&#160; [SA_dhcp_getfilename]</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; #</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; # send tftp get request</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; #</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; SA_puts "Doing TFTP get on server $myTFTPServer for file $myConfigFile"</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; SA_tftpget&#160; -h $myTFTPServer -mode octet -remote $myConfigFile -local $myIP.$myConfigFile</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; #</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; # TOD Support</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; # now send a TOD Request</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; #</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; set myTODServer [SA_dhcp_gettodserver]</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; set todtime [SA_gettimefromTODServer $myTODServer]</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; #</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; # stop a stop watch to know how long this took</span></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160; SA_stopwatch 1</span></p>
<p class="WD_Normal"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Initial_DHCPv4_Requestsbc-308"></a><a name="Initial_DHCPv4_Requests" id="Initial_DHCPv4_Requests">Initial DHCPv4 Requests:&#160; Sequential and Parallel</a></p>
</div>
<p class="WD_Normal"><u><span style=" font-family:'Arial' ,'sans-serif';"><span style=" text-decoration:none;">&#160;</span></span></u></p>
<p class="WD_Normal">If a map contains 100 CMs, each using DHCP to get its IP address, SimpleAgentPro starts a new process called sathrd for the map, and this process first sequentially sends DHCPv4 requests for each of the 100 CMs.&#160; This is the default behavior.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If you want to change this default behavior, you can specify the following options in the SimpleAgentPro config.inp file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_NormalIndent">PARALLELDHCP= YES</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">By default the inter-packet delay is set to 25 milliseconds.&#160; You can change this inter-packet delay between the request packets by specifying it in the config.inp file also.</p>
<p class="WD_algorithm">PARALLELDHCPDELAY=10</p>
<p class="WD_Normal">And this will change the inter-packet delay to 10 milliseconds.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_algorithm">If you have 10 maps, each with 100 CMs, then if you have start all the maps with the</p>
<p class="WD_Normal">STARTSEQUENTIAL=YES</p>
<p class="WD_Normal">flag in the config.inp file, each map will get started sequentially, and within that map, each of the devices would be started in parallel.&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Sending_subsequentbc-309"></a><a name="Sending_subsequent" id="Sending_subsequent">Sending subsequent DHCPv4 requests</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can also initiate DHCPv4 requests via Tcl commands that can be specified in the Tcl Modeling file.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The list of Tcl commands that provide this functionality is given below:</p>
<p class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:.75in; text-indent:-.5in;" class="WD_BodyTextIndent2"><b>SA_dhcp_getipaddr</b>:&#160;&#160;&#160; This command sends a DHCPv4 request to get a new IP address.&#160; The argument list is given below. Only the mac address is mandatory, all others are optional.&#160; This command returns {newip xid serverip servername filename rebindingtime optionsstr timetostart} as a list.&#160; These values are needed for subsequent release/rebind calls.</p>
<p style=" margin-left:.75in; text-indent:-.5in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Argument list:</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg1: Mac address:&#160;&#160; Mandatory</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg2: Gateway address:&#160; (ip of the gateway –giaddr if required/0.0.0.0 if not used)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg3: Options string (specified in hex.. No automatic mac addr token substitution done in this)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg4: Num retries (default is 3)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg5: Timeout in seconds (default is 3)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg6: Debug level (default is 0)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg7: Client receive port (default is 68)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg8: Server port (default is 67)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg9: Send Unicast/Broadcast flag (default is 0: Unicast(1), Broadcast (0) )</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg10:Unicast DHCPv4 Server 1 (0.0.0.0 if not in use)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg11:Unicast DHCPv4 Server 2 (0.0.0.0 if not in use)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg12:No-broadcast-flag in DHCPv4 header (default is broadcast (0))</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal"><i>Example:</i></p>
<p class="WD_Normal"><i>&#160;&#160;&#160;&#160;&#160; set dhcpinfo [ SA_dhcp_getipaddr 0x040d00010203 ]</i></p>
<p class="WD_Normal"><i>&#160;&#160;&#160;&#160;&#160; set mta_addr [lindex $dhcpinfo 0 ]</i></p>
<p class="WD_Normal"><i>&#160;&#160;&#160;&#160;&#160; set mta_xid&#160; [lindex $dhcpinfo 1 ]</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>set mta_sid&#160; [lindex $dhcpinfo 2 ]</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>set mta_opt [lindex $dhcpinfo 6 ]</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>set optlist [SA_dhcp_parseoptions $mta_opt]</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:.75in; text-indent:-.5in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:.75in; text-indent:-.5in;" class="WD_BodyTextIndent2"><b>SA_dhcp_releaseipaddr</b>:&#160;&#160;&#160; This command releases the received IP address got from a prior SA_dhcp_getipaddr call.</p>
<p style=" margin-left:.75in; text-indent:-.5in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Argument list:&#160; (first four are mandatory)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg1: Mac address:&#160;&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg2: New IP address:&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg3: Xid</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg4: Server IP</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg5: Num retries (default is 3)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg6: Timeout in seconds (default is 3)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg7: Debug level (default is 0)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg8: Client receive port (default is 68)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg9: Server port (default is 67)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg10: Broadcast flag (default is 0)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>Example:&#160;</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>&#160;&#160;&#160; SA_dhcp_releaseipaddr 0x040d00010203 192.168.100.2 1234 192.168.10.1</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in; text-indent:-.5in;" class="WD_BodyTextIndent2"><b>SA_dhcp_rebindipaddr</b>:&#160;&#160;&#160; This command rebinds the DHCP address retrieved in a prior SA_dhcp_getipaddr call.</p>
<p style=" margin-left:.75in; text-indent:-.5in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Argument list: (first four are mandatory)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg1: Mac address:&#160;&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg2: New IP address:&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg3: Xid</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg4: Server IP</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg5: Num retries (default is 3)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg6: Timeout in seconds (default is 3)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg7: Debug level (default is 0)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg8: Client receive port (default is 68)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg9: Server port (default is 67)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg10: Broadcast flag (default is 0)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>Example:</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>&#160;&#160;&#160; SA_dhcp_rebindipaddr 0x040d00010203 192.168.100.2 1234 192.168.10.1</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in; text-indent:-.5in;" class="WD_BodyTextIndent2"><b>SA_dhcp_parseoptions</b>:&#160;&#160;&#160; This command parses the given options string and gives back a list of lists made up of type, len and hex value.</p>
<p style=" margin-left:.75in; text-indent:-.5in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Argument list:</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg1: Hexidecimal string containing option list to parse.</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>Example:&#160;</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>set optlist [SA_dhcp_parseoptions 0x39…….. ]</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in; text-indent:-.5in;" class="WD_BodyTextIndent2"><b>SA_dhcp_getmanyipaddr</b>:&#160;&#160;&#160; This command sends multiple DHCPv4 requests in parallel to get new IP addresses.&#160; The argument list is given below. The count, interpacket_delay and mac address are mandatory, all others are optional.&#160; This command returns a list of lists made up of {mac newip xid serverip}.&#160; These values are needed for subsequent release/rebind calls.</p>
<p style=" margin-left:.75in; text-indent:-.5in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Argument list:</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg1: Device count to be done in parallel</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg2: Interpacket delay in milliseconds</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg3: Starting mac address or filename containing a list of MACs and options strings to be used(no options strings if Arg5 is the default)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg4: Gateway address (giaddr if required or 0.0.0.0 if not used)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg5: Options string (specified in hex.. Note: No automatic mac addr token substitution done in this)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg6: Num retries (default is 3)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg7: Timeout in seconds (default is 3)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg8: Debug level (default is 0)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg9: Client receive port (default is 68)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg10: Server port (default is 67)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg11: Send Unicast/Broadcast flag (default is 0: Unicast(1), Broadcast (0) )</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg12:Unicast DHCPv4 Server 1 (0.0.0.0 if not in use)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg13:Unicast DHCPv4 Server 2 (0.0.0.0 if not in use)</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">Arg14:No-broadcast-flag in DHCPv4 header (default is broadcast (0))</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">&#160;</p>
<p class="WD_Normal"><i>Example:</i></p>
<p class="WD_Normal"><i>&#160;&#160;&#160;&#160;&#160; set dhcpinfo [ SA_dhcp_getmanyipaddr 10 10 040d00010203&#160; ]</i></p>
<p style=" margin-left:.25in; text-indent:.5in;" class="WD_BodyTextIndent2"><i>for { set i 0 } { $i &lt; 10 } { incr i } {</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>&#160;&#160;&#160;&#160; set devinfo [lindex $dhcpinfo $i]</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>&#160;&#160;&#160;&#160; set mac($i)&#160; [lindex $devinfo 0]</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>&#160;&#160;&#160;&#160; set addr($i) [lindex $devinfo 1]</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>&#160;&#160;&#160;&#160; set xid($i)&#160; [lindex $devinfo 2]</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>&#160;&#160;&#160;&#160; set sid($i)&#160; [lindex $devinfo 3]</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><i>}</i></p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2">&#160;</p>
<p style=" margin-left:.75in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal">These commands described above can be used to generate DHCPv4 requests in timer_action section of the tcl modeling file and also in the CM-MTA initialization sequence example given below.</p>
<p class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="StopWatch_style_commandsbc-310"></a><a name="StopWatch_style_commands" id="StopWatch_style_commands">StopWatch style commands</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Sapro currently support 3 stopwatchs.&#160; You can use the following tcl commands to start/stop/get the values of the stopwatches in milliseconds.&#160; You can interject them in the tcl commands to find out how long it took to do TFTP or TOD or the complete provisioning….</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The list of Tcl commands that provide this functionality is given below:</p>
<p class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:.5in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">SA_startwatch &lt;watch id&gt;:&#160;&#160;&#160;&#160; Starts the stopwatch. By default it is set to zero.</span></p>
<p style=" margin-left:.5in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">SA_stopwatch &lt;watch id&gt;:&#160;&#160;&#160;&#160; Stops the stopwatch.</span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">SA_getwatch &lt;watch id&gt;:&#160;&#160;&#160;&#160;&#160;&#160; Gets the difference between stop and start.&#160; If not&#160;&#160;&#160;&#160; stopped, then uses current time…</span></p>
<p style=" margin-left:2.25in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal">In a previous example, after the TOD request, we had stopped a stop watch…</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">We can now find out how long it took for all the devices to get DHCP addresses and complete the provisioning after doing a TFTP and TOD request, by running a setup script that looks like the following..</p>
<p style=" margin-left:2.25in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">%MAPTCLSCRIPT</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">%init_action</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set fileId [open "../log/dhcpst.dbg" w+]</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set devList [SA_getdevicelist]</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set total 0</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set devcount 0</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set min 9999999</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set max 0</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; foreach devname $devList {</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_lockdevcontext $devname</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;# get start time</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set stime [SA_dhcp_getstarttime]</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # get provisioning time</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set provtime [SA_getwatch 1]</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_releasedevcontext</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $fileId "Device = $devname DHCP StartTime = $stime msec"</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $fileId "Device = $devname After TFTP/TOD&#160; = $provtime msec"</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set total [expr $total + $provtime]</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr devcount</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$provtime &lt; $min} {</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set min $provtime</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$provtime &gt; $max} {</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set max $provtime</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; }</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set avg [expr $total/$devcount]</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; puts $fileId "Num Device = $devcount Total = $total&#160; Avg = $avg&#160; Min = $min Max = $max (millisecs)"</font></span></p>
<p style=" margin-left:2.5in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; close $fileId</font></span></p>
<p style=" margin-left:2.25in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p style=" margin-left:2.25in; text-indent:-2.0in;" class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;</span></p>
<p class="WD_BodyTextIndent2">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="CM_MTA_initializationbc-311"></a><a name="CM_MTA_initialization" id="CM_MTA_initialization">CM-MTA initialization sequence tcl script</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The information provided earlier for the various DHCPv4 options, Tcl commands etc all come together in the CM-MTA tcl initialization script shown below.</p>
<p class="WD_BodyTextIndent2"><span style=" font-family:'Arial' ,'sans-serif';">&#160;</span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">%init_action</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # turn tcl debugging on during testing.</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # remove it later for better performance</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set myIP&#160; [SA_getmyip]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set myMac [SA_getmymac]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set myCMTS 192.168.100.50</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #SA_settcldebugflag 1</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #SA_settcldebugfile tcl$myIP.dbg</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # CM-1, CM-2, CM-3, CM-4</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # already done since the device is defined as DHCP device</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160; &#160;&#160;#</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # CM-5, CM-6</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # specify values of the TFTP server, configfile</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set myTFTPServer&#160; [SA_dhcp_gettftpserver]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set myConfigFile&#160; [SA_dhcp_getfilename]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # send tftp get request</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_puts "Doing TFTP get on server $myTFTPServer for file $myConfigFile"</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_tftpget&#160; -h $myTFTPServer -mode octet -remote $myConfigFile -local $myIP.$myConfigFile</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # CM-7, CM-8</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # now send a TOD Request</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set myTODServer&#160;&#160; [SA_gettodserver]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set todtime [SA_gettimefromTODServer $myTODServer]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # MTA Initialization Begins</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # MTA-1, MTA-2, MTA-3, MTA-4</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # have mta send a DHCPv4 request</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set mta_mac [SA_gettokenfromuserdata "MTAMAC"]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set mta_gw&#160; 192.168.100.50</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set mta_opt [SA_gettokenfromuserdata "MTADHCPOPT"]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set dhcpinfo [ SA_dhcp_getipaddr $mta_mac $mta_gw $mta_opt ]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set mta_addr [lindex $dhcpinfo 0 ]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set mta_xid&#160; [lindex $dhcpinfo 1 ]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set mta_sid&#160; [lindex $dhcpinfo 2 ]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # add this address to the SNMP agent also</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_addipaddr $mta_addr</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # MTA-5 to MTA-14 is currently skipped</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # MTA-15</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # now send a snmp inform.&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_settrapmgrs 1.1.1.1</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_settrapcommunity public</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_sendtrap...</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # MTA-16,MTA-17,</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # now wait for the ProvServer to send SNMP queries and set</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # the tftp file name</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;"># MTA-19</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;"># start doing a tftp after the file name is set.&#160; (change 1.2.3.4.5 to the OID of the variable</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;"># used to indicate the server file name.</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">%after_set_action 1.2.3.4.5</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set varbind [SA_getreqvb]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set curvb&#160;&#160; [lindex $varbind 0]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set curval&#160; [lindex $curvb 2]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # value is expected as "tftp://&lt;serverip&gt;/&lt;filename&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set complist [split $curval /]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set complen&#160; [llength $complist]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set mtaTFTPServer [lindex $complist [expr $complen - 2]]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set mtaConfigFile [lindex $complist end ]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # now allow SAPro to send the set response,but put a flag</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # so that after the response is sent, we can start the</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; # tftp download</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; SA_setafterresponseid 1</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;"># add support for a set request to docsDevResetNow (Change 1.3.6.1.1.1 to the OID of</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;"># the variable used to tell the box to reset)&#160; Also change “55”&#160; to the value used to</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;"># indicate a reset.</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">#</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">%after_set_action 1.3.6.1.1.1</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set varbind [SA_getreqvb]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set curval&#160; [lindex $curvb 2]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; if {$cuvval == 55} {</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # set after response id to 2, so that once the</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # response is sent for the SET, we can restart</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # the simulated device, in the after_snmp_response</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # processing</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setafterresponseid 2</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">%after_snmp_response</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set myid [SA_getafterresponseid]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; if {$myid == 1} {</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # MTA-22, MTA-23</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # start the tftp download for mta configuration</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "Doing TFTP get on server $mtaTFTPServer for file $mtaConfigFile"</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_tftpget&#160; -h $mtaTFTPServer -mode octet -remote $mtaConfigFile -local $mta_addr.$myConfigFile</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setafterresponseid 0</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # MTA-24 sending syslog event if required</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # MTA-25 sending snmp inform (change the code below for your specific inform</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_settrapmgrs 1.1.1.1</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_settrapcommunity public</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; #SA_sendinform...</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; if {$myid == 2} {</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_resetdevice</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_setafterresponseid 0</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">%stop_action</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; set reldhcpinfo [SA_dhcp_releaseipaddr $mta_mac $mta_addr $mta_xid $mta_sid ]</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%; font-family:'Arial' ,'sans-serif';"><font size="2" style="font-size:10pt;">&#160;</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Cable_Wizardsbc-312"></a><a name="Cable_Wizards" id="Cable_Wizards">Cable Wizards</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The Cable Wizards provided essentially help to get started by setting up the workspaces, maps and tcl files for a CM initialization sequence and CM-MTA initialization sequence.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Please note however, that you SHOULD edit the tcl modeling files created to make sure things match your environment.</p>
<p class="WD_BodyTextIndent3">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Using_Tcl_scripting_tobc-313"></a><a name="Using_Tcl_scripting_to" id="Using_Tcl_scripting_to">Using Tcl scripting to send DHCP requests in parallel.</a></p>
</div>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can also use the <b>SA_dhcp_getmanyipaddr</b> tcl command in a setup file to send DHCP requests in parallel to test a DHCP server.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Lets say you want to send a series of grouped DHCP requests for different sets of MAC addresses in parallel, and after getting the addresses you want to release them and then go to the next set of MACs.&#160; Once the MAcs specified in one file are over, you want to start with the next set and keep on looping until the map is stopped.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">You can have two mac files that contain the a list of mac addresses and options string(if necessary) as shown below.&#160; If the options strings are specified, then they are used instead of arg5 in the SA_dhcp_getmanyipaddr call..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&lt;macfile_1&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">AFCF00000000</p>
<p style=" margin-left:.5in;" class="WD_Normal">AFCF00001000</p>
<p style=" margin-left:.5in;" class="WD_Normal">AFCF00000002</p>
<p style=" margin-left:.5in;" class="WD_Normal">AFCF00001002</p>
<p style=" margin-left:.5in;" class="WD_Normal">AFCF00000004</p>
<p style=" margin-left:.5in;" class="WD_Normal">AFCF00001004</p>
<p style=" margin-left:.5in;" class="WD_Normal">AFCF00000006</p>
<p style=" margin-left:.5in;" class="WD_Normal">AFCF00000008</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&lt;macfile_2&gt;</p>
<p style=" margin-left:.5in;" class="WD_Normal">BFCF00000000 0x5204020201023c08414943204563686f 4</p>
<p style=" margin-left:.5in;" class="WD_Normal">BFCF00001000 0x5204020201023c08414943204563686f 4</p>
<p style=" margin-left:.5in;" class="WD_Normal">BFCF00000002 0x5204020201023c08414943204563686f 4</p>
<p style=" margin-left:.5in;" class="WD_Normal">BFCF00001002 0x5204020201023c08414943204563686f 4</p>
<p style=" margin-left:.5in;" class="WD_Normal">BFCF00000004 0x5204020201023c08414943204563686f 4</p>
<p style=" margin-left:.5in;" class="WD_Normal">BFCF00001004 0x5204020201023c08414943204563686f 4</p>
<p style=" margin-left:.5in;" class="WD_Normal">BFCF00000006 0x5204020201023c08414943204563686f 4</p>
<p style=" margin-left:.5in;" class="WD_Normal">BFCF00000008 0x5204020201023c08414943204563686f 4</p>
<p style=" margin-left:.5in;" class="WD_Normal">BFCF0000000A 0x5204020201023c08414943204563686f 4</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Now, lets say, you want to send MAC requests from macfile_1 in groups of "2" to one DHCP server, while you want to send MAC requests from macfile_2 in groups of 3 to</p>
<p class="WD_Normal">another DHCP server..</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">So we could have a file called &lt;testcontrol&gt; that would contain the following:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">#list of files that contain mac addresses for lease renewal</p>
<p style=" margin-left:.5in;" class="WD_Normal">#format of this file is as follows:</p>
<p style=" margin-left:.5in;" class="WD_Normal">#each line should have the following fields separated by ':'</p>
<p style=" margin-left:.5in;" class="WD_Normal"># macfile&lt;:&gt;dhcpserver1&lt;:&gt;dhcpserver2&lt;:&gt;giaddr&lt;:&gt;devcount</p>
<p style=" margin-left:.5in;" class="WD_Normal">macfile_1:192.168.10.2:192.168.10.3:0.0.0.0:2</p>
<p style=" margin-left:.5in;" class="WD_Normal">macfile_2:192.168.15.2:192.168.15.2:0.0.0.0:3</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Now, if we have a setup script &lt;senddhcpreqs.tcl&gt; that would read all these files and send DHCP requests in parallel it would look like this:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"># This is not a modelling file. Load this file in the Device-&gt;Tcl Script screen</p>
<p style=" margin-left:.5in;" class="WD_Normal"># and then Run/Send it to the device for evaluation</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">proc read_testcontrol_lines { tfileid } {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; global gmacfilename gdhcpserver1 gdhcpserver2 ggiaddr gdevcount</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; while {[gets $tfileid line] &gt;= 0 } {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # expected format of control file</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # macfile&lt;:&gt;dhcpserver1&lt;:&gt;dhcpserver2&lt;:&gt;giaddr&lt;:&gt;devcount</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {[string index $line 0] == "#"} {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; continue</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set contents [split $line :]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {[llength $contents] != 5} {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; continue</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set gmacfilename [lindex $contents 0]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set gdhcpserver1 [lindex $contents 1]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set gdhcpserver2 [lindex $contents 2]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ggiaddr [lindex $contents 3]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set gdevcount [lindex $contents 4]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160; &#160;&#160;&#160;&#160;&#160;&#160;SA_puts "TCF: $gmacfilename $gdhcpserver1 $gdhcpserver2 $ggiaddr $gdevcount\n"</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return 1</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; # no more things to do</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; return 0</p>
<p style=" margin-left:.5in;" class="WD_Normal">}</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">proc read_mac_lines { ifileid ofileid count } {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set i 0</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; while {[gets $ifileid line] &gt;= 0 } {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; incr i</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $ofileid $line</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "$i: Read mac = $line\n"</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$i &gt;= $count} {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; return $i</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; return $i</p>
<p style=" margin-left:.5in;" class="WD_Normal">}</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">#global variables</p>
<p style=" margin-left:.5in;" class="WD_Normal">global gmacfilename gdhcpserver1 gdhcpserver2 ggiaddr gdevcount</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"># Uncomment to turn debugging on</p>
<p style=" margin-left:.5in;" class="WD_Normal">SA_settcldebugflag 1</p>
<p style=" margin-left:.5in;" class="WD_Normal">SA_settcldebugfile renew_leases.dbg</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"># Opening a file that will contain stat info</p>
<p style=" margin-left:.5in;" class="WD_Normal">set fileId [open "../log/multdhcp.stats" w+]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"># Opening a file that contains the test control info info</p>
<p style=" margin-left:.5in;" class="WD_Normal">set TestControlFile "testcontrol"</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"># interpacket delay in milliseconds</p>
<p style=" margin-left:.5in;" class="WD_Normal">set IDelay 3</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"># set the unicast/broadcast flag to unicast (1)</p>
<p style=" margin-left:.5in;" class="WD_Normal">set UBFlag 1</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"># to make it loop for ever (until the map is stopped)</p>
<p style=" margin-left:.5in;" class="WD_Normal">set stopflag 0</p>
<p style=" margin-left:.5in;" class="WD_Normal">while { $stopflag == 0 } {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; # open the test control file</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160; &#160;set tfileId [open $TestControlFile r]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; # initialize the global variables for safety</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set gmacfilename ""</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set gdevcount 10</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set ggiaddr 0.0.0.0</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set gdhcpserver1 0.0.0.0</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set gdhcpserver2 0.0.0.0</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; # read each line from the test control file</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; while {[read_testcontrol_lines $tfileId] &gt; 0} {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # keep checking the stopflag</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$stopflag &gt; 0} {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; break</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ifileid [open $gmacfilename r]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ofileid [open "../tcl/tmpmaclist" w]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "Processing File: $gmacfilename\n"</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # for each maclist/dhcpserver...</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160; while {[read_mac_lines $ifileid $ofileid $gdevcount] &gt; 0} {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; # keep checking the stopflag</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; if {$stopflag &gt; 0} {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160; break</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Get DHCP Addresses in parallel</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_puts "Sending DHCP requests in parallel\n"</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; close $ofileid</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if [catch { SA_dhcp_getmanyipaddr $gdevcount $IDelay "../tcl/tmpmaclist" $ggiaddr 0x5204020201023c08414943204563686f 4 2 1 68 67 $UBFlag $gdhcpserver1 $gdhcpserver2 } dhcpinfo] {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $fileId "Failed to get address in parallel."</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # reopen the tempfile to clear it</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set ofileid [open "../tcl/tmpmaclist" w]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; } else&#160; {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; for { set i 0 } { $i &lt; $MaxCount } { incr i } {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set devinfo [lindex $dhcpinfo $i]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set mac($i)&#160; [lindex $devinfo 0]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set addr($i) [lindex $devinfo 1]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set xid($i)&#160; [lindex $devinfo 2]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;set sid($i)&#160; [lindex $devinfo 3]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Output results for each request</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $fileId "MAC = $mac($i); Got Address = $addr($i);"</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # Release MaxCount addresses</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; for { set i 0 } { $i &lt; $MaxCount } { incr i } {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; if {$addr($i) != 0} {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SA_dhcp_releaseipaddr $mac($i) $addr($i) $xid($i) $sid($i)</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # reopen the tempfile to clear it</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;set ofileid [open "../tcl/tmpmaclist" w]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # check if the stop flag is set</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set stopflag [SA_checkstopflag]</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; # close the input files</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; close $ofileid</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; close $ifileid</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; # keep checking the stopflag</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; if {$stopflag &gt; 0} {</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;break</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; }</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; # sleep for a little while before trying again.</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; SA_sleep 60000</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; # check if the stop flag is set</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;&#160;&#160; set stopflag [SA_checkstopflag]</p>
<p style=" margin-left:.5in;" class="WD_Normal">}</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"># Close the test control file</p>
<p style=" margin-left:.5in;" class="WD_Normal">close $tfileId</p>
<p style=" margin-left:.5in;" class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"># Close the stats file</p>
<p style=" margin-left:.5in;" class="WD_Normal">close $fileId</p>
<p class="WD_Normal">Finally, if you create a map with one device, and start it, and then run the above setup file within it, it will send DHCP requests to your DHCP server in parallel.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">&#160;</p>
<p class="WD_chapnonum"><a name="Appendix_J_Scalablebc-314"></a><a name="Appendix_J_Scalable" id="Appendix_J_Scalable">Appendix J<br />
Scalable Topologies</a></p>
<p class="WD_Normal">SimpleAgentPro can be used to simulate large number of devices.&#160; While simulating a large number of individual devices is easier, it is also possible to create a large number of connected devices in a specific configuration.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The following sections describe approaches to build scalable topologies, using a combination of tokens, ranges and map creation tcl scripts.</p>
<p class="WD_Normal">&#160;</p>
<div style=" border:none; border-bottom:solid windowtext 1.0pt; padding:0in 0in 1.0pt 0in;">
<p class="WD_Heading1"><a name="Standard_SeedRouterbc-315"></a><a name="Standard_SeedRouter" id="Standard_SeedRouter">Standard SeedRouter-Router-Switch-Host</a></p>
</div>
<p class="WD_Normal">Simulation requirement was to simulate 5000 devices made up of routers and switches that can be discovered by providing just one seed router IP address.&#160; The switches need to be connected to 250,000 hosts.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">To support the simulation requirement, a simple network shown below was constructed with 1 seed router connected to 50 first level routers.&#160; The 50 routers, were each connected to 100 switches to create 5000 switches. The switches were each connected to 50 hosts each, to get a total of 250,000 hosts.&#160; The total number of devices simulated were 5051.&#160; The hosts themselves were not simulated.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"></p>
<table cellpadding="0" cellspacing="0" align="left">
<tr>
<td width="71" height="12"></td>
<td width="50"></td>
<td width="22"></td>
<td width="28"></td>
<td width="34"></td>
<td width="24"></td>
<td width="28"></td>
<td width="10"></td>
<td width="1"></td>
<td width="23"></td>
<td width="9"></td>
<td width="17"></td>
<td width="18"></td>
<td width="14"></td>
<td width="3"></td>
<td width="30"></td>
<td width="3"></td>
<td width="10"></td>
<td width="28"></td>
<td width="36"></td>
<td width="22"></td>
<td width="28"></td>
<td width="46"></td>
<td width="50"></td>
</tr>
<tr>
<td height="54"></td>
<td colspan="8"></td>
<td colspan="7" width="114" height="54" bgcolor="white" style=" border-left:.75pt solid black; border-right:.75pt solid black; border-top:.75pt solid black; border-bottom:.75pt solid black; vertical-align:top; background:white;">
<table cellpadding="0" cellspacing="0" width="100%">
<tr>
<td>
<div v:shape="_x0000_s1086" style=" padding:4.35pt 7.95pt 4.35pt 7.95pt;" class="shape">
<p align="center" style=" text-align:center;" class="WD_Normal">Seed Router</p>
<p align="center" style=" text-align:center;" class="WD_Normal">10.1.1.1</p>
</div>
</td>
</tr>
</table>
&#160;</td>
</tr>
<tr>
<td height="48"></td>
</tr>
<tr>
<td height="38"></td>
<td colspan="4"></td>
<td colspan="5" align="left" valign="top"><img width="86" height="38" src="pro_205_files/image218.gif" alt="" /></td>
<td colspan="4"></td>
<td colspan="6" align="left" valign="top"><img width="110" height="38" src="pro_205_files/image219.gif" alt="" /></td>
</tr>
<tr>
<td height="27"></td>
</tr>
<tr>
<td height="1"></td>
<td colspan="2"></td>
<td colspan="4" rowspan="3" width="114" height="54" bgcolor="white" style=" border-left:.75pt solid black; border-right:.75pt solid black; border-top:.75pt solid black; border-bottom:.75pt solid black; vertical-align:top; background:white;">
<table cellpadding="0" cellspacing="0" width="100%">
<tr>
<td>
<div v:shape="_x0000_s1087" style=" padding:4.35pt 7.95pt 4.35pt 7.95pt;" class="shape">
<p align="center" style=" text-align:center;" class="WD_Normal">Router 1</p>
<p align="center" style=" text-align:center;" class="WD_Normal">10.1.2.1</p>
</div>
</td>
</tr>
</table>
&#160;</td>
<td colspan="11"></td>
<td colspan="4" rowspan="3" width="114" height="54" bgcolor="white" style=" border-left:.75pt solid black; border-right:.75pt solid black; border-top:.75pt solid black; border-bottom:.75pt solid black; vertical-align:top; background:white;">
<table cellpadding="0" cellspacing="0" width="100%">
<tr>
<td>
<div v:shape="_x0000_s1089" style=" padding:4.35pt 7.95pt 4.35pt 7.95pt;" class="shape">
<p align="center" style=" text-align:center;" class="WD_Normal">Router 10</p>
<p align="center" style=" text-align:center;" class="WD_Normal">10.1.51.1</p>
</div>
</td>
</tr>
</table>
&#160;</td>
</tr>
<tr>
<td height="52"></td>
<td colspan="2"></td>
<td colspan="4"></td>
<td colspan="4" width="52" height="52" style=" vertical-align:top;">
<table cellpadding="0" cellspacing="0" width="100%">
<tr>
<td>
<div v:shape="_x0000_s1088" style=" padding:3.6pt 7.2pt 3.6pt 7.2pt;" class="shape">
<p class="WD_Normal">…</p>
</div>
</td>
</tr>
</table>
&#160;</td>
</tr>
<tr>
<td height="1"></td>
</tr>
<tr>
<td height="43"></td>
</tr>
<tr>
<td height="38"></td>
<td></td>
<td colspan="2" align="left" valign="top"><img width="50" height="38" src="pro_205_files/image220.gif" alt="" /></td>
<td colspan="2"></td>
<td colspan="2" align="left" valign="top"><img width="38" height="38" src="pro_205_files/image221.gif" alt="" /></td>
<td colspan="9"></td>
<td colspan="2" align="left" valign="top"><img width="38" height="38" src="pro_205_files/image222.gif" alt="" /></td>
<td colspan="2"></td>
<td colspan="2" align="left" valign="top"><img width="74" height="38" src="pro_205_files/image223.gif" alt="" /></td>
</tr>
<tr>
<td height="27"></td>
</tr>
<tr>
<td height="66"></td>
<td colspan="11" align="left" valign="top"><img width="246" height="66" src="pro_205_files/image224.gif" alt="" /></td>
<td></td>
<td colspan="11" align="left" valign="top"><img width="270" height="66" src="pro_205_files/image225.gif" alt="" /></td>
</tr>
</table>
&#160;
<p></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>&#160;</b></p>
<br clear="all" />
<p class="WD_Normal"><b>The Seed Router</b></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal">The Seed Router has an IP address of 10.1.1.1</p>
<p class="WD_Normal">It has 51 interfaces.&#160;</p>
<p class="WD_Normal">Its main MacAddress is 010101010101</p>
<p class="WD_Normal">Its other 50 interfaces have Mac Addresses of 010101010102…01010101010b…</p>
<p class="WD_Normal">The IP addresses for these interfaces are 10.1.2.2 to 10.1.51.2</p>
<p class="WD_Normal">It is associated with a variable file called seed1.var.</p>
<p class="WD_Normal">In its CDP cache tables, it is connected to the 50 routers below it.</p>
<p class="WD_Normal">Its sysName is set to Router_10.1.1.1</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Inside the variable file, the following tables are populated:</p>
<p class="WD_Normal">&#160;</p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#sysName</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ifNum (number of interfaces for this box)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ifTable (list of all our interfaces)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by interface number</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#at (older arp cache)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by port.1.ipaddress</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># this has the entries for the 10 routers below it</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ipforwarding (for a router, it must be 1)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ipaddr (list of all our own ipaddresses)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by ipaddress</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#iproute (list of routes)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by network address, also has a 0.0.0.0 loopback entry</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># it also has entries for the 10 subnets of the routers connected below</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ipnet2media (newer arp cache)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by port.ipaddress</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># this has the entries for the 10 routers below it</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#udp (udp ports open)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by ipaddress.port</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># has an entry for SNMP</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ipextension (interface extension table with 64 bit counters)</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by interface numbers</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#cisco specific mibs</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#cdp interface</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by interface number</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># interface 1 is skipped, since seed router is not connected upstream..</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#cdp cache</font></span></p>
<p style=" margin-left:.5in;" class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by portnumber.1</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>The First level Routers</b></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal">The first level routers have IP addresses of 10.1.2.1 to 10.1.51.1</p>
<p class="WD_Normal">They each have 101 interfaces.&#160;</p>
<p class="WD_Normal">Their main MacAddress are 010202010101 to 010233010101. They start with 0102, followed by the router id, followed by 010101.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">They are connected to 100 switches who have IP addresses of</p>
<p class="WD_Normal">10.2.2.1 to 10.2.101.1 if connected to the 10.1.2.1 router, or</p>
<p class="WD_Normal">10.3.2.1 to 10.3.101.1 if connected to the 10.1.3.1 router or</p>
<p class="WD_Normal">10.51.2.1 to 10.51.101.1 if connected to the 10.1.51.1 router…</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For the 10.1.2.1 router, the other 100 interfaces have sequential increasing macs from 010202010102 to 010202010165.&#160; The IP addresses for these interfaces are 10.2.2.2 to 10.2.101.2 for the 10.1.2.1 router.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">All the first level routers are associated with the same var file called router1.var.&#160; The differences in the routers is captured by using tokens.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Two tokens are used .&#160; The first token specifies the router number from 2 to 51, and the second token specifies the same value in hex from 02 to 33.&#160; So for router 10.1.2.1, the tokens used are “2,02”.&#160; For 10.1.51.1, the tokens used are “51,33”</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">In its CDP cache tables, it is connected to the 100 switches below it and the seed router about it.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The sysNames for the routers are set to strings like Router_10.1.2.1 to Router_10.1.51.1</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Inside the variable file, the following tables are populated:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#sysName</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ifNum (number of interfaces for this box)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ifTable (list of all our interfaces)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by interface number</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#at (older arp cache)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by port.1.ipaddress</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ipforwarding (for a router, it must be 1)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ipaddr (list of all our own ipaddresses)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by ipaddress</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#iproute (list of routes)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ipnet2media (newer arp cache)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by port.ipaddress</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#udp (udp ports open)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by ipaddress.port</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ipextension (interface extension table with 64 bit counters)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by interface numbers</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#cisco specific mibs</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#cdp interface</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#cdp cache</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by portnumber.1</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p class="WD_Normal"><b>The Switches</b></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal">The switches have IP addresses of 10.2.2.1 to 10.2.101.1 if connected above to 10.1.2.1 router, and 10.51.2.1 to 10.51.101.1 if connected above to 10.1.51.1 router.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">They each have 51 interfaces.&#160;</p>
<p class="WD_Normal">Their main MacAddress are 010302020101 to 010302650101.&#160; They start with 0103, followed by the router id, followed by the switch id, followed by 0101.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">They are connected to 50 hosts who have IP addresses of</p>
<p class="WD_Normal">10.2.2.3 to 10.2.2.52&#160; for the switch with an IP address of 10.2.2.1, or</p>
<p class="WD_Normal">10.2.101.3 to 10.2.101.52 for the switch with an IP address of 10.2.101.1 or</p>
<p class="WD_Normal">10.51.2.3 to 10.51.2.52 for the switch with an IP address of 10.51.2.1 …</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">For the 10.2.2.1 switch, the other 50 interfaces have sequential increasing macs from 010302020102 to 010302020133.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">All the switches with the same var file called switch1.var.&#160; The differences in the switches is captured by using tokens.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Seven tokens are used .&#160;</p>
<p class="WD_Normal">The first token specifies the router number from 2 to 51, and the second token specifies the same value in hex from 02 to 33.&#160;</p>
<p class="WD_Normal">The third token specifies the combination of the router_id along with the switch id, like 2.2 to 2.101 or 51.2 to 51.101.&#160; The fourth token specifies this combination in hex. Like</p>
<p class="WD_Normal">0202 to 0265 or 3302 to 3365.</p>
<p class="WD_Normal">The fifth token specifies the combination of router_id followed by .1.1 with the switch id like 2.1.1.2 to 2.1.1.101 or 51.1.1.2 to 51.1.1.101.&#160; The sixth token specifies this combination in hex, like 02010102 to 02010165 or 33010102 to 33010165.</p>
<p class="WD_Normal">The seventh token specifies the switch id alone from 2 to 101.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">So for switch 10.5.8.1, the tokens used are “5,05,5.8,0508,5.1.1.8,05010108,8”.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The sysNames for the routers are set to strings like Router_10.1.2.1 to Router_10.1.11.1</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Inside the variable file, the following tables are populated:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#sysName</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ifNum (number of interfaces for this box)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ifTable (list of all our interfaces)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by interface number</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#at (older arp cache)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by port.1.ipaddress</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ipforwarding (for a router, it must be 1,switch 2)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ipaddr (list of all our own ipaddresses)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by ipaddress</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ipnet2media (newer arp cache)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by port.ipaddress</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#udp (udp ports open)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#bridge mib</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># forwarding database</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#ipextension (interface extension table with 64 bit counters)</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by interface numbers</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#cisco specific mibs</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#cdp interface</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by interface number</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">##cdp cache</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># indexed by portnumber.1</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p class="WD_Normal"><b>Map generator script</b></p>
<p class="WD_Normal"><b>&#160;</b></p>
<p class="WD_Normal">A tcl script is written to create the maps, along with the device ipaddresses and their tokens.&#160; It is shown below.&#160; To run it, you can use the saptclsh.</p>
<p style=" margin-left:.5in; text-indent:-.25in;" class="WD_Normal"><span style=" font-family:Wingdings;">Ø<span style=" font:7.0pt 'Times New Roman';"><font size="1" style="font-size:7pt;">&#160;</font></span></span> saptclsh sim5000.tcl</p>
<p class="WD_Normal">and this will generate a map file called big.map.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">####################################################</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Name:&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; sim5000.tcl&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Copyright 2010 SimpleSoft Inc.</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; All rights reserved</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># Description:&#160;&#160;&#160;&#160;&#160;&#160;&#160; This tcl script generates the map</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; files to create the 1 seed router,</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; connected to 50 first level routers,</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; who are in turn connected to 100 switches</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; each, resulting in 5000 switches. and</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 5051 simulated devices.</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">#</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">####################################################</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">proc makebigmap { mapname } {</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set numrouters&#160; 5</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set numswitches 10</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set seedip&#160;&#160;&#160;&#160;&#160; 10.1.1.1</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set seedmac&#160;&#160;&#160;&#160; 010101010101</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # open a new map for writing</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set mapfile $mapname.map</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; set mapfileId [open $mapfile w+]</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; if { $mapfileId == -1 } {</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts "Error: Could not open map file [$mapfile] for writing"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; return;</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&lt;DeviceMap"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; Release = \"11.0\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; Description = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; UserData = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; SetupFile = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; Interface = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; Separator = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; StartInterfaceNum = \"0\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; Username = \"mapgen\"&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # first add the seed router</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; &lt;Device"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;General"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Name = \"$seedip\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MultiHome = \"1\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCP = \"0\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SubnetMask = \"255.255.255.0\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MacAddress = \"$seedmac\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Interface = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; UserData = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TopologyData = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DisplayTag = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ModelingFile = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Snmp"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ReadCommunity = \"public\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WriteCommunity = \"private\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MibFile = \"mib2.cmf\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AgentFile = \"seed1.var\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TrapMgr = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ResponseDelay = \"0\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;SnmpStr = \"V1V2V3\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MtuSize = \"1500\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpPort = \"161\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SecurityLevel = \"NoAuthNoPriv\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; /&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; # now add the 50 routers</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; for {set i 0} { $i &lt; $numrouters } { incr i} {</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set rwid&#160;&#160;&#160;&#160; [expr $i + 2]</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set hexrwid&#160; [format "%02x" $rwid]</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set devip&#160;&#160;&#160; 10.1.$rwid.1</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; set devmac&#160;&#160; 01020101${hexrwid}01</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; set tokens&#160;&#160; "$rwid,$hexrwid"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; set varfile&#160; "router1.var"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # now add the device record for each line</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; &lt;Device"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;General"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Name = \"$devip\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MultiHome = \"1\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCP = \"0\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SubnetMask = \"255.255.255.0\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MacAddress = \"$devmac\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;Interface = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; UserData = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TopologyData = \"$tokens\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DisplayTag = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ModelingFile = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; &#160;&#160;&#160;&#160;puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Snmp"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ReadCommunity = \"public\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WriteCommunity = \"private\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MibFile = \"mib2.cmf\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AgentFile = \"$varfile\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TrapMgr = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ResponseDelay = \"0\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpStr = \"V1V2V3\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MtuSize = \"1500\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpPort = \"161\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SecurityLevel = \"NoAuthNoPriv\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; /&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; # now add the 100 switches for this router</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; for {set j 0} { $j &lt; $numswitches } { incr j} {</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set swid&#160;&#160;&#160;&#160;&#160;&#160; [expr $j + 2]</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set hexswid&#160;&#160;&#160; [format "%02x" $swid]</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set devip&#160;&#160;&#160;&#160;&#160; 10.$rwid.$swid.1</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set devmac&#160;&#160;&#160; &#160;0103${hexrwid}01${hexswid}01</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; set tokens&#160;&#160;&#160;&#160; "$rwid,$hexrwid,$rwid.$swid,${hexrwid}${hexswid},${rwid}.1.1.${swid},${hexrwid}0101${hexswid},$swid</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160; set varfile&#160;&#160;&#160; "switch1.var"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; # now add the device record for each line</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;puts $mapfileId "&#160;&#160;&#160; &lt;Device"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;General"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Name = \"$devip\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MultiHome = \"1\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DHCP = \"0\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SubnetMask = \"255.255.255.0\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MacAddress = \"$devmac\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Interface = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; UserData = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TopologyData = \"$tokens\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; DisplayTag = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ModelingFile = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;Snmp"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ReadCommunity = \"public\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; WriteCommunity = \"private\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MibFile = \"mib2.cmf\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AgentFile = \"$varfile\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; TrapMgr = \"\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ResponseDelay = \"0\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpStr = \"V1V2V3\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; MtuSize = \"1500\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SnmpPort = \"161\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SecurityLevel = \"NoAuthNoPriv\""</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160;&#160;&#160;&#160;&#160; /&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; puts $mapfileId "&#160;&#160;&#160; /&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160; }</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; }</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; puts $mapfileId "&lt;/DeviceMap&gt;"</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;&#160;&#160; close $mapfileId</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">}</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;"># make the call to the procedure with specifics</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%; font-family:Courier New;"><font size="1" style="font-size:8pt;">makebigmap big</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">&#160;</p>
<p class="WD_chapnonum"><a name="Copyright_Noticesbc-316"></a><a name="Copyright_Notices" id="Copyright_Notices">Copyright Notices</a></p>
<p class="WD_Normal">This Appendix lists all the related copyright notices.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><b>SIMPLESOFT Inc</b>.:</p>
<p class="WD_Normal">Copyright 1994-2016 SIMPLESOFT Inc. All rights reserved.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RESTRICTED RIGHTS LEGEND</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The Software is "commercial computer software" and "commercial computer software documentation", respectively, as such terms are used in FAR 12.212.&#160; Any use, duplication, or disclosure of the Software by or on behalf of the U.S. Government is subject to restrictions set forth in this Agreement and as provided in DFARS 227.7202-1(a) and 227.7202-3(a) (1995), DFARS 252.227-7013(c)(1)(ii) (OCT 1988), FAR 12.212(a) (1995), FAR 52.227-19, or FAR 52.227-14 (ALT III), as applicable.&#160; Licensor is SimpleSoft, Inc., 257 Castro Street, Suite #220, Mountain View, CA 94041, USA</p>
<p class="WD_Normal">&#160;</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">/*</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160; ISODE 8.0 NOTICE</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;*&#160;&#160; Acquisition, use, and distribution of this module and related</p>
<p class="WD_Normal">&#160;*&#160;&#160; materials are subject to the restrictions of a license agreement.</p>
<p class="WD_Normal">&#160;*&#160;&#160; Consult the Preface in the User's Manual for the full terms of</p>
<p class="WD_Normal">&#160;*&#160;&#160; this agreement.</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; 4BSD/ISODE SNMPv2 NOTICE</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; Acquisition, use, and distribution of this module and related</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; materials are subject to the restrictions given in the file</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; SNMPv2-READ-ME.</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;*/</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160; NOTICE</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; This package is openly available but is NOT in the public domain.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; You are allowed and encouraged to take this software and use it for</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; any lawful purpose. However, as a condition of use, you are required</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; to hold harmless all contributors.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; Permission to use, copy, modify, and distribute this software and</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; its documentation for any lawful purpose and without fee is hereby</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; granted, provided that this notice be retained unaltered, and that</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; the name of any contributors shall not be used in advertising or</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; publicity pertaining to distribution of the software without</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; specific written prior permission. No contributor makes any</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; representations about the suitability of this software for any</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; purpose. It is provided "as is" without express or implied</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; warranty.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ALL CONTRIBUTORS DISCLAIM ALL WARRANTIES WITH REGARD TO THIS</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; AND FITNESS FOR A PARTICULAR PURPOSE, TITLE, AND NON-INFRINGEMENT.</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; IN NO EVENT SHALL ANY CONTRIBUTOR BE LIABLE FOR ANY SPECIAL,</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; INDIRECT OR CONSEQUENTIAL DAMAGES, WHETHER IN CONTRACT, TORT, OR</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; OTHER FORM OF ACTION, ARISING OUT OF OR IN CONNECTION WITH, THE</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; USE OR PERFORMANCE OF THIS SOFTWARE.&#160;</font></span></p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">/**********************************************************************</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Copyright 1988, 1989, 1991, 1992 by Carnegie Mellon University</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; All Rights Reserved</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Permission to use, copy, modify, and distribute this software and its</p>
<p class="WD_Normal">documentation for any purpose and without fee is hereby granted,</p>
<p class="WD_Normal">provided that the above copyright notice appear in all copies and that</p>
<p class="WD_Normal">both that copyright notice and this permission notice appear in</p>
<p class="WD_Normal">supporting documentation, and that the name of CMU not be</p>
<p class="WD_Normal">used in advertising or publicity pertaining to distribution of the</p>
<p class="WD_Normal">software without specific, written prior permission.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">CMU DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO EVENT SHALL</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">CMU BE LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS,</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION,</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS</font></span></p>
<p class="WD_Normal"><span style=" font-size:8.0pt; line-height:115%;"><font size="1" style="font-size:8pt;">SOFTWARE.</font></span></p>
<p class="WD_Normal">******************************************************************/</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This software is copyrighted by the Regents of the University of</p>
<p class="WD_Normal">California, Sun Microsystems, Inc., and other parties.&#160; The following</p>
<p class="WD_Normal">terms apply to all files associated with the software unless explicitly</p>
<p class="WD_Normal">disclaimed in individual files.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The authors hereby grant permission to use, copy, modify, distribute,</p>
<p class="WD_Normal">and license this software and its documentation for any purpose, provided</p>
<p class="WD_Normal">that existing copyright notices are retained in all copies and that this</p>
<p class="WD_Normal">notice is included verbatim in any distributions. No written agreement,</p>
<p class="WD_Normal">license, or royalty fee is required for any of the authorized uses.</p>
<p class="WD_Normal">Modifications to this software may be copyrighted by their authors</p>
<p class="WD_Normal">and need not follow the licensing terms described here, provided that</p>
<p class="WD_Normal">the new terms are clearly indicated on the first page of each file where</p>
<p class="WD_Normal">they apply.</p>
<p class="WD_Normal">&#160;</p>
<p style=" line-height:12.0pt;" class="WD_Picture"><span style=" letter-spacing:0pt;">IN NO EVENT SHALL THE AUTHORS OR DISTRIBUTORS BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OF THIS SOFTWARE, ITS DOCUMENTATION, OR ANY DERIVATIVES THEREOF, EVEN IF THE AUTHORS HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">THE AUTHORS AND DISTRIBUTORS SPECIFICALLY DISCLAIM ANY WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.&#160; THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, AND THE AUTHORS AND DISTRIBUTORS HAVE</p>
<p class="WD_Normal">NO OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR MODIFICATIONS.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">RESTRICTED RIGHTS: Use, duplication or disclosure by the government</p>
<p class="WD_Normal">is subject to the restrictions as set forth in subparagraph (c) (1) (ii)</p>
<p class="WD_Normal">of the Rights in Technical Data and Computer Software Clause as DFARS</p>
<p class="WD_Normal">252.227-7013 and FAR 52.227-19.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">&#160;&#160; Copyright (C) The Internet Society (1999).&#160; All Rights Reserved.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160; This document and translations of it may be copied and furnished to</p>
<p class="WD_Normal">&#160;&#160; others, and derivative works that comment on or otherwise explain it</p>
<p class="WD_Normal">&#160;&#160; or assist in its implementation may be prepared, copied, published</p>
<p class="WD_Normal">&#160;&#160; and distributed, in whole or in part, without restriction of any</p>
<p class="WD_Normal">&#160;&#160; kind, provided that the above copyright notice and this paragraph are</p>
<p class="WD_Normal">&#160;&#160; included on all such copies and derivative works.&#160; However, this</p>
<p class="WD_Normal">&#160;&#160; document itself may not be modified in any way, such as by removing</p>
<p class="WD_Normal">&#160;&#160; the copyright notice or references to the Internet Society or other</p>
<p class="WD_Normal">&#160;&#160; Internet organizations, except as needed for the purpose of</p>
<p class="WD_Normal">&#160;&#160; developing Internet standards in which case the procedures for</p>
<p class="WD_Normal">&#160;&#160; copyrights defined in the Internet Standards process must be</p>
<p class="WD_Normal">&#160;&#160; followed, or as required to translate it into languages other than</p>
<p class="WD_Normal">&#160;&#160; English.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">Compilation Copyright (c) 1995-2000 by Wei Dai.&#160; All rights reserved.</p>
<p class="WD_Normal">This copyright applies only to this particular software distribution package, and does not imply a copyright on any particular module in the library.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">All modules in this library except the following are placed in the public domain by Wei Dai and other contributers.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The following modules are copyrighted by their respective original authors.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">cast.cpp - Copyright 1996 Peter Gutmann.</p>
<p class="WD_Normal">haval.cpp - Copyright 1992 Yuliang Zheng.</p>
<p class="WD_Normal">idea.cpp - Copyright 1992 Colin Plumb.</p>
<p class="WD_Normal">mars.cpp - Copyright 1998 Brian Gladman.</p>
<p class="WD_Normal">md2.cpp - Copyright 1994, 1995 Sun Microsystems, Inc.</p>
<p class="WD_Normal">md5.cpp md5mac.cpp - Copyright 1995 Eric Young.</p>
<p class="WD_Normal">rijndael.cpp - Copyright 1998, 1999 Brian Gladman.</p>
<p class="WD_Normal">serpent.cpp - Copyright 1998, 1999 Brian Gladman and Sam Simpson.</p>
<p class="WD_Normal">sha.cpp - Copyright 1992 Peter Gutmann.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">twofish.cpp - Copyright 1998, 1999 Brian Gladman.</p>
<p class="WD_Normal">zbits.cpp ztrees.cpp zdeflate.cpp - Copyright 1990-1992 Mark Adler,</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Richard B. Wales, Jean-loup Gailly.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Permission to use, copy, modify, and distribute this compilation for any purpose is hereby granted without fee, subject to the following license:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">1. Any copy or modification of this compilation must include the above copyright notice and this license.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">2. Users of the software included in this compilation agree to use their best efforts to provide Wei Dai with any modifications containing improvements or extensions and hereby grant Wei Dai a perpetual, royalty-free license to use and distribute such modifications under the terms of this license.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">3. Wei Dai makes no warranty or representation that the operation of the software in this compilation will be error-free, and Wei Dai is under no obligation to provide any services, by way of maintenance, update, or otherwise.&#160;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">THE SOFTWARE AND ANY DOCUMENTATION ARE PROVIDED "AS IS"</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">WITHOUT EXPRESS OR IMPLIED WARRANTY INCLUDING, BUT NOT LIMITED TO,THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. IN NO EVENT WILL WEI DAI OR ANY OTHER CONTRIBUTOR BE LIABLE FOR DIRECT, INCIDENTAL OR CONSEQUENTIAL DAMAGES, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">4. Users will not use Wei Dai or any other contributor's name in any publicity or advertising, without prior written consent in each case.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">5. Export of this software from the United States may require a specific license from the United States Government.&#160; It is the responsibility of any person or organization contemplating export to obtain such a license before exporting.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">6. Certain parts of this software may be protected by patents.&#160; It is the users' responsibility to obtain the appropriate licenses before using those parts.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160; Copyright 1989, 1991, 1992 by Carnegie Mellon University</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160; Derivative Work -</p>
<p class="WD_Normal">Copyright 1996, 1998, 1999 The Regents of the University of California</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;All Rights Reserved</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">Permission to use, copy, modify and distribute this software and its</p>
<p class="WD_Normal">documentation for any purpose and without fee is hereby granted,</p>
<p class="WD_Normal">provided that the above copyright notice appears in all copies and</p>
<p class="WD_Normal">that both that copyright notice and this permission notice appear in</p>
<p class="WD_Normal">supporting documentation, and that the name of CMU and The Regents of</p>
<p class="WD_Normal">the University of California not be used in advertising or publicity</p>
<p class="WD_Normal">pertaining to distribution of the software without specific written</p>
<p class="WD_Normal">permission.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_BodyText">CMU AND THE REGENTS OF THE UNIVERSITY OF CALIFORNIA DISCLAIM ALL WARRANTIES WITH REGARD TO THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS.&#160; IN NO EVENT SHALL CMU OR THE REGENTS OF THE UNIVERSITY OF CALIFORNIA BE LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM THE LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">Copyright notice:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;(C) 1995-2002 Jean-loup Gailly and Mark Adler</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160; This software is provided 'as-is', without any express or implied</p>
<p class="WD_Normal">&#160; warranty.&#160; In no event will the authors be held liable for any damages</p>
<p class="WD_Normal">&#160; arising from the use of this software.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160; Permission is granted to anyone to use this software for any purpose,</p>
<p class="WD_Normal">&#160; including commercial applications, and to alter it and redistribute it</p>
<p class="WD_Normal">&#160; freely, subject to the following restrictions:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160; 1. The origin of this software must not be misrepresented; you must not</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; claim that you wrote the original software. If you use this software</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; in a product, an acknowledgment in the product documentation would be</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; appreciated but is not required.</p>
<p class="WD_Normal">&#160; 2. Altered source versions must be plainly marked as such, and must not be</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; misrepresented as being the original software.</p>
<p class="WD_Normal">&#160; 3. This notice may not be removed or altered from any source distribution.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160; Jean-loup Gailly&#160;&#160;&#160;&#160;&#160;&#160;&#160; Mark Adler</p>
<p class="WD_Normal">&#160; jloup@gzip.org&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; madler@alumni.caltech.edu</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If you use the zlib library in a product, we would appreciate *not*</p>
<p class="WD_Normal">receiving lengthy legal documents to sign. The sources are provided</p>
<p class="WD_Normal">for free but without warranty of any kind.&#160; The library has been</p>
<p class="WD_Normal">entirely written by Jean-loup Gailly and Mark Adler; it does not</p>
<p class="WD_Normal">include third-party code.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">If you redistribute modified sources, we would appreciate that you include</p>
<p class="WD_Normal">in the file ChangeLog history information documenting your changes.</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">/* ====================================================================</font></span></p>
<p class="WD_Normal">&#160;* Copyright (c) 1998-2003 The OpenSSL Project.&#160; All rights reserved.</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;* Redistribution and use in source and binary forms, with or without</p>
<p class="WD_Normal">&#160;* modification, are permitted provided that the following conditions</p>
<p class="WD_Normal">&#160;* are met:</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;* 1. Redistributions of source code must retain the above copyright</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; notice, this list of conditions and the following disclaimer.</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;* 2. Redistributions in binary form must reproduce the above copyright</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; notice, this list of conditions and the following disclaimer in</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; the documentation and/or other materials provided with the</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; distribution.</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;* 3. All advertising materials mentioning features or use of this</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; software must display the following acknowledgment:</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; "This product includes software developed by the OpenSSL Project</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; for use in the OpenSSL Toolkit. (http://www.openssl.org/)"</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;* 4. The names "OpenSSL Toolkit" and "OpenSSL Project" must not be used to</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; endorse or promote products derived from this software without</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; prior written permission. For written permission, please contact</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; openssl-core@openssl.org.</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;* 5. Products derived from this software may not be called "OpenSSL"</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; nor may "OpenSSL" appear in their names without prior written</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; permission of the OpenSSL Project.</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;* 6. Redistributions of any form whatsoever must retain the following</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; acknowledgment:</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; "This product includes software developed by the OpenSSL Project</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; for use in the OpenSSL Toolkit (http://www.openssl.org/)"</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;*</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* THIS SOFTWARE IS PROVIDED BY THE OpenSSL PROJECT ``AS IS'' AND ANY</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* EXPRESSED OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* PURPOSE ARE DISCLAIMED.&#160; IN NO EVENT SHALL THE OpenSSL PROJECT OR</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* OF THE POSSIBILITY OF SUCH DAMAGE.</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* ====================================================================</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;*</font></span></p>
<p class="WD_Normal">&#160;* This product includes cryptographic software written by Eric Young</p>
<p class="WD_Normal">&#160;* (eay@cryptsoft.com).&#160; This product includes software written by Tim</p>
<p class="WD_Normal">&#160;* Hudson (tjh@cryptsoft.com).</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;*/</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;Original SSLeay License</p>
<p class="WD_Normal">&#160;-----------------------</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">/* Copyright (C) 1995-1998 Eric Young (eay@cryptsoft.com)</p>
<p class="WD_Normal">&#160;* All rights reserved.</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;* This package is an SSL implementation written</p>
<p class="WD_Normal">&#160;* by Eric Young (eay@cryptsoft.com).</p>
<p class="WD_Normal">&#160;* The implementation was written so as to conform with Netscapes SSL.</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;* This library is free for commercial and non-commercial use as long as</p>
<p class="WD_Normal">&#160;* the following conditions are aheared to.&#160; The following conditions</p>
<p class="WD_Normal">&#160;* apply to all code found in this distribution, be it the RC4, RSA,</p>
<p class="WD_Normal">&#160;* lhash, DES, etc., code; not just the SSL code.&#160; The SSL documentation</p>
<p class="WD_Normal">&#160;* included with this distribution is covered by the same copyright terms</p>
<p class="WD_Normal">&#160;* except that the holder is Tim Hudson (tjh@cryptsoft.com).</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_algorithm">&#160;* Copyright remains Eric Young's, and as such any Copyright notices in</p>
<p class="WD_Normal">&#160;* the code are not to be removed.</p>
<p class="WD_Normal">&#160;* If this package is used in a product, Eric Young should be given attribution</p>
<p class="WD_Normal">&#160;* as the author of the parts of the library used.</p>
<p class="WD_Normal">&#160;* This can be in the form of a textual message at program startup or</p>
<p class="WD_Normal">&#160;* in documentation (online or textual) provided with the package.</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal">&#160;* Redistribution and use in source and binary forms, with or without</p>
<p class="WD_Normal">&#160;* modification, are permitted provided that the following conditions</p>
<p class="WD_Normal">&#160;* are met:</p>
<p class="WD_Normal">&#160;* 1. Redistributions of source code must retain the copyright</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; notice, this list of conditions and the following disclaimer.</p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-size:12.0pt; font-family:'Times New Roman' ,'serif';"><font size="3" style="font-size:12pt;">&#160;* 2. Redistributions in binary form must reproduce the above copyright</font></span></p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; notice, this list of conditions and the following disclaimer in the</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; documentation and/or other materials provided with the distribution.</p>
<p class="WD_Normal">&#160;* 3. All advertising materials mentioning features or use of this software</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; must display the following acknowledgement:</p>
<p class="WD_Normal">&#160;*&#160;&#160; &#160;"This product includes cryptographic software written by</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160;&#160; Eric Young (eay@cryptsoft.com)"</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; The word 'cryptographic' can be left out if the rouines from the library</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; being used are not cryptographic related :-).</p>
<p class="WD_Normal">&#160;* 4. If you include any Windows specific code (or a derivative thereof) from</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; the apps directory (application code) you must include an acknowledgement:</p>
<p class="WD_Normal">&#160;*&#160;&#160;&#160; "This product includes software written by Tim Hudson (tjh@cryptsoft.com)"</p>
<p class="WD_Normal">&#160;*</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* THIS SOFTWARE IS PROVIDED BY ERIC YOUNG ``AS IS'' AND</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* ARE DISCLAIMED.&#160; IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:'Times New Roman' ,'serif';">&#160;* LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY</span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;* SUCH DAMAGE.</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;*</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;</font></span>* The licence and distribution terms for any publically available version or</p>
<p class="WD_Normal">&#160;* derivative of this code cannot be changed.&#160; i.e. this code cannot simply be</p>
<p class="WD_Normal">&#160;* copied and put under another distribution licence</p>
<p class="WD_Normal">&#160;* [including the GNU Public Licence.]</p>
<p class="WD_Normal">&#160;*/</p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">1)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * Copyright (c) 1995 Tatu Ylonen &lt;ylo@cs.hut.fi&gt;, Espoo, Finland</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; All rights reserved</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * As far as I am concerned, the code I have written for this software</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * can be used freely for any purpose.&#160; Any derived versions of this</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * software must be clearly marked as such, and if the derived work is</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * incompatible with the protocol description in the RFC file, it must be</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * called by a name other than "ssh" or "Secure Shell".</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160; [Tatu continues]</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160; However, I am not implying to give any licenses to any patents or</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * copyrights held by third parties, and the software includes parts that</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * are not under my direct control.&#160; As far as I know, all included</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * source code is used in accordance with the relevant license agreements</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * and can be used freely for any purpose (the GNU license being the most</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * restrictive); see below for details.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160; [However, none of that term is relevant at this point in time.&#160; All of</p>
<p class="WD_Normal">&#160;&#160;&#160; these restrictively licenced software components which he talks about</p>
<p class="WD_Normal">&#160;&#160;&#160; have been removed from OpenSSH, i.e.,</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; - RSA is no longer included, found in the OpenSSL library</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; - IDEA is no longer included, its use is deprecated</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; - DES is now external, in the OpenSSL library</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; - GMP is no longer used, and instead we call BN code from OpenSSL</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; - Zlib is now external, in a library</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; - The make-ssh-known-hosts script is no longer included</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; - TSS has been removed</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; - MD5 is now external, in the OpenSSL library</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; - RC4 support has been replaced with ARC4 support from OpenSSL</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; - Blowfish is now external, in the OpenSSL library</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160; [The licence continues]</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160; Note that any information and cryptographic algorithms used in this</p>
<p class="WD_Normal">&#160;&#160;&#160; software are publicly available on the Internet and at any major</p>
<p class="WD_Normal">&#160;&#160;&#160; bookstore, scientific library, and patent office worldwide.&#160; More</p>
<p class="WD_Normal">&#160;&#160;&#160; information can be found e.g. at "http://www.cs.hut.fi/crypto".</p>
<p class="WD_Normal">&#160;&#160;&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160; The legal status of this program is some combination of all these</p>
<p class="WD_Normal">&#160;&#160;&#160; permissions and restrictions.&#160; Use only at your own responsibility.</p>
<p class="WD_Normal">&#160;&#160;&#160; You will be responsible for any legal consequences yourself; I am not</p>
<p class="WD_Normal">&#160;&#160;&#160; making any claims whether possessing or using this is legal or not in</p>
<p class="WD_Normal">&#160;&#160;&#160; your country, and I am not taking any responsibility on your behalf.</p>
<p class="WD_Normal">&#160;&#160;&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;<span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">NO WARRANTY</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.&#160; EXCEPT WHEN</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.&#160; THE ENTIRE RISK AS</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.&#160; SHOULD THE</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; REPAIR OR CORRECTION.</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160; POSSIBILITY OF SUCH DAMAGES.</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">2)</p>
<p class="WD_Normal">&#160;&#160;&#160; The 32-bit CRC implementation in crc32.c is due to Gary S. Brown.</p>
<p class="WD_Normal">&#160;&#160;&#160; Comments in the file indicate it may be used for any purpose without</p>
<p class="WD_Normal">&#160;&#160;&#160; restrictions:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * COPYRIGHT (C) 1986 Gary S. Brown.&#160; You may use this program, or</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * code or tables extracted from it, as desired without restriction.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">3)</p>
<p class="WD_Normal">&#160;&#160;&#160; The 32-bit CRC compensation attack detector in deattack.c was</p>
<p class="WD_Normal">&#160;&#160;&#160; contributed by CORE SDI S.A. under a BSD-style license.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * Cryptographic attack detector for ssh - source code</p>
<p class="WD_algorithm">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * Copyright (c) 1998 CORE SDI S.A., Buenos Aires, Argentina.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * All rights reserved. Redistribution and use in source and binary</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * forms, with or without modification, are permitted provided that</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * this copyright notice is retained.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESS OR IMPLIED</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * WARRANTIES ARE DISCLAIMED. IN NO EVENT SHALL CORE SDI S.A. BE</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY OR</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * CONSEQUENTIAL DAMAGES RESULTING FROM THE USE OR MISUSE OF THIS</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * SOFTWARE.</font></span></p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * Ariel Futoransky &lt;futo@core-sdi.com&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * &lt;http://www.core-sdi.com&gt;</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">4)</p>
<p class="WD_Normal">&#160;&#160;&#160; ssh-keygen was contributed by David Mazieres under a BSD-style</p>
<p class="WD_Normal">&#160;&#160;&#160; license.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * Copyright 1995, 1996 by David Mazieres &lt;dm@lcs.mit.edu&gt;.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * Modification and redistribution in source and binary forms is</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * permitted provided that due credit is given to the author and the</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * OpenBSD project by leaving this copyright notice intact.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">5)</p>
<p class="WD_Normal">&#160;&#160;&#160; The Rijndael implementation by Vincent Rijmen, Antoon Bosselaers</p>
<p class="WD_Normal">&#160;&#160;&#160; and Paulo Barreto is in the public domain and distributed</p>
<p class="WD_Normal">&#160;&#160;&#160; with the following license:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * @version 3.0 (December 2000)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * Optimised ANSI C code for the Rijndael cipher (now AES)</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * @author Vincent Rijmen &lt;vincent.rijmen@esat.kuleuven.ac.be&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * @author Antoon Bosselaers &lt;antoon.bosselaers@esat.kuleuven.ac.be&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * @author Paulo Barreto &lt;paulo.barreto@terra.com.br&gt;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal">&#160; &#160;&#160;&#160;* This code is hereby placed in the public domain.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; <span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">* THIS SOFTWARE IS PROVIDED BY THE AUTHORS ''AS IS'' AND ANY EXPRESS</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Tables"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * ARE DISCLAIMED.&#160; IN NO EVENT SHALL THE AUTHORS OR CONTRIBUTORS BE</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">6)</p>
<p class="WD_Normal">&#160;&#160;&#160; One component of the ssh source code is under a 4-clause BSD license,</p>
<p class="WD_Normal">&#160;&#160;&#160; held by the University of California, since we pulled these parts from</p>
<p class="WD_Normal">&#160;&#160;&#160; original Berkeley code.&#160; The Regents of the University of California</p>
<p class="WD_Normal">&#160;&#160;&#160; have declared that term 3 is no longer enforceable on their source code,</p>
<p class="WD_Normal">&#160;&#160;&#160; but we retain that license as is.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * Copyright (c) 1983, 1990, 1992, 1993, 1995</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160;&#160;&#160; The Regents of the University of California.&#160; All rights reserved.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * Redistribution and use in source and binary forms, with or without</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * modification, are permitted provided that the following conditions</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * are met:</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * 1. Redistributions of source code must retain the above copyright</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160; notice, this list of conditions and the following disclaimer.</p>
<p class="WD_algorithm">&#160;&#160;&#160;&#160; * 2. Redistributions in binary form must reproduce the above copyright</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160; notice, this list of conditions and the following disclaimer in the</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160; documentation and/or other materials provided with the distribution.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * 3. All advertising materials mentioning features or use of this software</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160; must display the following acknowledgement:</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160;&#160;&#160; This product includes software developed by the University of</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160;&#160;&#160; California, Berkeley and its contributors.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * 4. Neither the name of the University nor the names of its contributors</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160; may be used to endorse or promote products derived from this software</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160; without specific prior written permission.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * <span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * ARE DISCLAIMED.&#160; IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * SUCH DAMAGE.</font></span></p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">7)</p>
<p class="WD_Normal">&#160;&#160;&#160; Remaining components of the software are provided under a standard</p>
<p class="WD_Normal">&#160;&#160;&#160; 2-term BSD licence with the following names as copyright holders:</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Markus Friedl</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Theo de Raadt</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Niels Provos</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Dug Song</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Aaron Campbell</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Damien Miller</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Kevin Steves</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Daniel Kouril</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; Per Allansson</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * Redistribution and use in source and binary forms, with or without</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * modification, are permitted provided that the following conditions</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * are met:</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * 1. Redistributions of source code must retain the above copyright</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160; notice, this list of conditions and the following disclaimer.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; * 2. Redistributions in binary form must reproduce the above copyright</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160; notice, this list of conditions and the following disclaimer in the</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *&#160;&#160;&#160; documentation and/or other materials provided with the distribution.</p>
<p class="WD_Normal">&#160;&#160;&#160;&#160; *</p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</font></span></p>
<p class="WD_Normal"><span style=" font-size:10.0pt; line-height:115%;"><font size="2" style="font-size:10pt;">&#160;&#160;&#160;&#160; * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF</font></span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160; * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span></p>
<span style=" font-size:11.0pt; line-height:115%; font-family:'Calibri' ,'sans-serif';"><font size="3" style="font-size:11pt;"><br clear="all" /></font></span>
<p class="WD_Normal">Copyright (c) 1999-2002 Frank Strauss, Technical University of Braunschweig.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">This software is copyrighted by Frank Strauss, the Technical University</p>
<p class="WD_Normal">of Braunschweig, and other parties.&#160; The following terms apply to all</p>
<p class="WD_Normal">files associated with the software unless explicitly disclaimed in</p>
<p class="WD_Normal">individual files.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal">The authors hereby grant permission to use, copy, modify, distribute,</p>
<p class="WD_Normal">and license this software and its documentation for any purpose, provided</p>
<p class="WD_Normal">that existing copyright notices are retained in all copies and that this</p>
<p class="WD_Normal">notice is included verbatim in any distributions. No written agreement,</p>
<p class="WD_Normal">license, or royalty fee is required for any of the authorized uses.</p>
<p class="WD_Normal">Modifications to this software may be copyrighted by their authors</p>
<p class="WD_Normal">and need not follow the licensing terms described here, provided that</p>
<p class="WD_Normal">the new terms are clearly indicated on the first page of each file where</p>
<p class="WD_Normal">they apply.</p>
<p class="WD_Normal">&#160;</p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">IN NO EVENT SHALL THE AUTHORS OR DISTRIBUTORS BE LIABLE TO ANY PARTY</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">ARISING OUT OF THE USE OF THIS SOFTWARE, ITS DOCUMENTATION, OR ANY</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">DERIVATIVES THEREOF, EVEN IF THE AUTHORS HAVE BEEN ADVISED OF THE</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">POSSIBILITY OF SUCH DAMAGE.</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">&#160;</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">THE AUTHORS AND DISTRIBUTORS SPECIFICALLY DISCLAIM ANY WARRANTIES,</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.&#160; THIS SOFTWARE</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">IS PROVIDED ON AN "AS IS" BASIS, AND THE AUTHORS AND DISTRIBUTORS HAVE</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">NO OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR</font></span></p>
<p class="WD_Normal"><span style=" font-size:9.0pt; line-height:115%;"><font size="1" style="font-size:9pt;">MODIFICATIONS.</font></span></p>
<span style=" font-size:10.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="2" style="font-size:10pt;"><br clear="all" /></font></span>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">TCLHTTPD License</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">This software is copyrighted by Brent Welch, Sun Microsystems, Inc,</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">Scriptics, and Panasas.&#160; The following terms apply to all files associated</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">with the software unless explicitly disclaimed in individual files.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">The authors hereby grant permission to use, copy, modify, distribute,</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">and license this software and its documentation for any purpose, provided</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">that existing copyright notices are retained in all copies and that this</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">notice is included verbatim in any distributions. No written agreement,</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">license, or royalty fee is required for any of the authorized uses.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">Modifications to this software may be copyrighted by their authors</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">and need not follow the licensing terms described here, provided that</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">the new terms are clearly indicated on the first page of each file where</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">they apply.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">IN NO EVENT SHALL THE AUTHORS OR DISTRIBUTORS BE LIABLE TO ANY PARTY</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">ARISING OUT OF THE USE OF THIS SOFTWARE, ITS DOCUMENTATION, OR ANY</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">DERIVATIVES THEREOF, EVEN IF THE AUTHORS HAVE BEEN ADVISED OF THE</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">POSSIBILITY OF SUCH DAMAGE.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">THE AUTHORS AND DISTRIBUTORS SPECIFICALLY DISCLAIM ANY WARRANTIES,</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.&#160; THIS SOFTWARE</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">IS PROVIDED ON AN "AS IS" BASIS, AND THE AUTHORS AND DISTRIBUTORS HAVE</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">NO OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">MODIFICATIONS.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">GOVERNMENT USE: If you are acquiring this software on behalf of the</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">U.S. government, the Government shall have only "Restricted Rights"</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">in the software and related documentation as defined in the Federal</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">Acquisition Regulations (FARs) in Clause 52.227.19 (c) (2).&#160; If you</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">are acquiring the software on behalf of the Department of Defense, the</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">software shall be classified as "Commercial Computer Software" and the</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">Government shall have only "Restricted Rights" as defined in Clause</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">252.227-7013 (c) (1) of DFARs.&#160; Notwithstanding the foregoing, the</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">authors grant the U.S. Government and others acting in its behalf</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">permission to use and distribute the software in accordance with the</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">terms specified in this license.<br clear="all" />
This software is copyrighted by Ajuba Solutions and other parties.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">The following terms apply to all files associated with the software unless</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">explicitly disclaimed in individual files.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">The authors hereby grant permission to use, copy, modify, distribute,</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">and license this software and its documentation for any purpose, provided</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">that existing copyright notices are retained in all copies and that this</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">notice is included verbatim in any distributions. No written agreement,</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">license, or royalty fee is required for any of the authorized uses.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">Modifications to this software may be copyrighted by their authors</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">and need not follow the licensing terms described here, provided that</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">the new terms are clearly indicated on the first page of each file where</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">they apply.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">IN NO EVENT SHALL THE AUTHORS OR DISTRIBUTORS BE LIABLE TO ANY PARTY</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">FOR DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">ARISING OUT OF THE USE OF THIS SOFTWARE, ITS DOCUMENTATION, OR ANY</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">DERIVATIVES THEREOF, EVEN IF THE AUTHORS HAVE BEEN ADVISED OF THE</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">POSSIBILITY OF SUCH DAMAGE.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">THE AUTHORS AND DISTRIBUTORS SPECIFICALLY DISCLAIM ANY WARRANTIES,</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT.&#160; THIS SOFTWARE</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">IS PROVIDED ON AN "AS IS" BASIS, AND THE AUTHORS AND DISTRIBUTORS HAVE</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">NO OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, UPDATES, ENHANCEMENTS, OR</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">MODIFICATIONS.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">GOVERNMENT USE: If you are acquiring this software on behalf of the</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">U.S. government, the Government shall have only "Restricted Rights"</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">in the software and related documentation as defined in the Federal</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">Acquisition Regulations (FARs) in Clause 52.227.19 (c) (2). &#160;If you</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">are acquiring the software on behalf of the Department of Defense, the</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">software shall be classified as "Commercial Computer Software" and the</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">Government shall have only "Restricted Rights" as defined in Clause</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">252.227-7013 (c) (1) of DFARs.&#160; Notwithstanding the foregoing, the</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">authors grant the U.S. Government and others acting in its behalf</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">permission to use and distribute the software in accordance with the</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">terms specified in this license.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<span style=" font-size:10.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="2" style="font-size:10pt;"><br clear="all" /></font></span>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">Copyright (c) 2004-2009, Alex Agranov &lt;alexagr@users.sourceforge.net&gt;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">All rights reserved.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">Redistribution and use in source and binary forms, with or without</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">modification, are permitted provided that the following conditions are met:</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160; * Redistributions of source code must retain the above copyright notice,</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160;&#160; this list of conditions and the following disclaimer.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160;&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160; * Redistributions in binary form must reproduce the above copyright notice,</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160;&#160; this list of conditions and the following disclaimer in the documentation</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160;&#160; and/or other materials provided with the distribution.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160;&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160; * Neither the name of ace-radius nor the names of its contributors may be</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160;&#160; used to endorse or promote products derived from this software without</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;&#160;&#160;&#160;&#160; specific prior written permission.</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">&#160;</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</span></p>
<p class="WD_PlainText"><span style=" font-family:'Times New Roman' ,'serif';">POSSIBILITY OF SUCH DAMAGE.</span></p>
<span style=" font-size:10.0pt; line-height:115%; font-family:'Times New Roman' ,'serif';"><font size="2" style="font-size:10pt;"><br clear="all" /></font></span>
<pre>
<span style=" color:black;"><font color="black" >/* Copyright (c) 2004-2007 Sara Golemon &lt;sarag@libssh2.org&gt;</font></span>
</pre>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* Copyright (c) 2005,2006 Mikhail Gusarov &lt;dottedmag@dottedmag.net&gt;</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* Copyright (c) 2006-2007 The Written Word, Inc.</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* Copyright (c) 2007 Eli Fant &lt;elifantu@mail.ru&gt;</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* Copyright (c) 2009 Daniel Stenberg</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* Copyright (C) 2008, 2009 Simon Josefsson</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* All rights reserved.</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* Redistribution and use in source and binary forms,</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* with or without modification, are permitted provided</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* that the following conditions are met:</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*&#160;&#160; Redistributions of source code must retain the above</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*&#160;&#160; copyright notice, this list of conditions and the</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*&#160;&#160; following disclaimer.</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*&#160;&#160; Redistributions in binary form must reproduce the above</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*&#160;&#160; copyright notice, this list of conditions and the following</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*&#160;&#160; disclaimer in the documentation and/or other materials</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*&#160;&#160; provided with the distribution.</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*&#160;&#160; Neither the name of the copyright holder nor the names</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*&#160;&#160; of any other contributors may be used to endorse or</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*&#160;&#160; promote products derived from this software without</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* &#160;&#160;specific prior written permission.</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;*</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES,</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY</font></span></p>
<p style=" margin-bottom:.0001pt; line-height:normal;" class="WD_Normal"><span style=" font-size:10.0pt; font-family:Courier New; color:black;"><font size="2" color="black" style="font-size:10.000000pt;">&#160;* OF SUCH DAMAGE.</font></span></p>
<p class="WD_PlainText"><span style=" font-size:12.0pt; line-height:115%; font-family:'Times New Roman' ,'serif'; color:black;"><font size="3" color="black" style="font-size:12.000000pt;">&#160;*/</font></span></p>
<script type="text/javascript" language="javascript1.2">//<![CDATA[
<!--
if (window.writeIntopicBar)
	writeIntopicBar(0);


highlightSearch();
//-->
//]]></script>
</body>
</html>
